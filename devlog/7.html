<!doctype html>
<html lang="en" class="min-h-full">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/x-icon" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../_app/immutable/assets/TronHeading.5tpDtCQQ.css" rel="stylesheet">
		<link href="../_app/immutable/assets/NoteGridStatusFilter.DILY5wnt.css" rel="stylesheet">
		<link href="../_app/immutable/assets/0.BpcL4gjw.css" rel="stylesheet">
		<link href="../_app/immutable/assets/GlassEffect.-7RDajzJ.css" rel="stylesheet">
		<link href="../_app/immutable/assets/MDSveXNoteLayout.uVkcqMJb.css" rel="stylesheet">
		<link href="../_app/immutable/assets/3.BU1jl624.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.CjZGN_i3.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DASfh5wp.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BIq_9kGn.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BJtFNpt7.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/eebwlHBm.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DAuGVbbb.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Dkw9-BwW.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.DsWSwnbP.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Dp1pzeXC.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CL1QlAU2.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Bzak7iHL.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BZMo7the.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DJgfzo23.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DWG1-gCL.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/IBUSOwbe.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.C_U_98aN.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BjZVtCDr.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Ct1ZovYR.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DvBh-TJm.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DE_il4cC.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/gnU0ypJ3.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D2cp0jxd.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Ce9bXQku.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/3.D_dZH0ds.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Dwv6HEjz.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/q2KgTcDW.js"><!--[--><meta name="description" content="What do polyrhythms, new cars, bike rides, and CascadiaJS have in common? They're all part of this week's updates!" class="svelte-12xwe57"/> <meta property="og:title" content="devlog 7: More life" class="svelte-12xwe57"/> <meta property="og:type" content="article" class="svelte-12xwe57"/> <meta property="og:url" content="https://allandeutsch.com/devlog/7" class="svelte-12xwe57"/> <meta property="og:description" content="What do polyrhythms, new cars, bike rides, and CascadiaJS have in common? They're all part of this week's updates!" class="svelte-12xwe57"/> <meta property="og:locale" content="en_US" class="svelte-12xwe57"/> <meta property="twitter:card" content="summary" class="svelte-12xwe57"/> <meta property="twitter:url" content="https://allandeutsch.com" class="svelte-12xwe57"/> <meta property="twitter:title" content="devlog 7: More life" class="svelte-12xwe57"/> <meta property="twitter:description" content="What do polyrhythms, new cars, bike rides, and CascadiaJS have in common? They're all part of this week's updates!" class="svelte-12xwe57"/> <meta property="twitter:site" content="@AllanDeutsch" class="svelte-12xwe57"/> <meta property="twitter:creator" content="@AllanDeutsch" class="svelte-12xwe57"/> <link rel="canonical" href="https://allandeutsch.com/devlog/7" class="svelte-12xwe57"/> <script type="module" src="https://docduck.dev/selection.js" class="svelte-12xwe57"></script> <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="AllanDeutsch" data-description="Support me on Buy me a coffee!" data-message="" data-color="#5F7FFF" data-position="Right" data-x_margin="18" data-y_margin="18" class="svelte-12xwe57"></script><!--]--><!--[--><!--[--><meta name="theme-color" content="dark"/><!--]--> <!----><script>(function setInitialMode({ defaultMode = "system", themeColors: themeColors2, darkClassNames: darkClassNames2 = ["dark"], lightClassNames: lightClassNames2 = [], defaultTheme = "", modeStorageKey: modeStorageKey2 = "mode-watcher-mode", themeStorageKey: themeStorageKey2 = "mode-watcher-theme" }) {
  const rootEl = document.documentElement;
  const mode = localStorage.getItem(modeStorageKey2) || defaultMode;
  const theme2 = localStorage.getItem(themeStorageKey2) || defaultTheme;
  const light = mode === "light" || mode === "system" && window.matchMedia("(prefers-color-scheme: light)").matches;
  if (light) {
    if (darkClassNames2.length)
      rootEl.classList.remove(...darkClassNames2);
    if (lightClassNames2.length)
      rootEl.classList.add(...lightClassNames2);
  } else {
    if (lightClassNames2.length)
      rootEl.classList.remove(...lightClassNames2);
    if (darkClassNames2.length)
      rootEl.classList.add(...darkClassNames2);
  }
  rootEl.style.colorScheme = light ? "light" : "dark";
  if (themeColors2) {
    const themeMetaEl = document.querySelector('meta[name="theme-color"]');
    if (themeMetaEl) {
      themeMetaEl.setAttribute("content", mode === "light" ? themeColors2.light : themeColors2.dark);
    }
  }
  if (theme2) {
    rootEl.setAttribute("data-theme", theme2);
    localStorage.setItem(themeStorageKey2, theme2);
  }
  localStorage.setItem(modeStorageKey2, mode);
})({"defaultMode":"system","themeColors":{"dark":"dark","light":"light"},"darkClassNames":["dark"],"lightClassNames":[],"defaultTheme":"","modeStorageKey":"mode-watcher-mode","themeStorageKey":"mode-watcher-theme"});</script><!----><!--]--><title>devlog 7: More life - Allan Deutsch</title>
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script
			async
			src="https://www.googletagmanager.com/gtag/js?id=UA-86124920-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag('js', new Date());

			gtag('config', 'UA-86124920-1');
		</script>
	</head>
	<body
		data-sveltekit-preload-data="hover"
		data-sveltekit-preload-data="viewport"
		class="bg-background h-full min-h-[100vh]">
		<div style="display: contents"><!--[--><!--[--><!----><div class="h-full min-h-[100dvh]"><canvas style="position: fixed; height: 100vh; width: 100vw; margin: 0; z-index: -101;"></canvas> <canvas style="position: fixed; height: 100vh; width: 100vw; margin: 0; z-index: -100;"></canvas><!----> <!--[!--><!--]--><!----> <div class="relative flex w-full items-center p-2 print:hidden"><div class="backdrop svelte-msju1h"></div> <div class="backdrop-edge svelte-msju1h"></div><!----> <!----><!----><!--$s1--><!--[!--><button class="px-4 sm:hidden" id="bits-s1" aria-haspopup="menu" aria-expanded="false" data-state="closed" data-dropdown-menu-trigger="" type="button"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path></svg> <span class="sr-only">Open navigation menu</span><!----></button><!--]--><!----><!----> <!----><!----><!--[!--><!--]--><!----><!----><!----><!----><!----><!----> <div class="w-1/2 px-4 text-xl font-semibold text-nowrap"><a href="/"><span class="retrotext text-muted font-bold uppercase svelte-rt023y" style="--color: hsl(85, 45%, 55%); --scalar: 0; --hoveredScalar: 0.1; --letters: 13; --duration: 0.3s;"><!--[--><span class="word inline-block svelte-rt023y"><!--[--><span class="letter relative svelte-rt023y" style="--letter:0">A<!--[--><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">A</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">A</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">A</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">A</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">A</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">A</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">A</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">A</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">A</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">A</span><!--]--></span><span class="letter relative svelte-rt023y" style="--letter:1">l<!--[--><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">l</span><!--]--></span><span class="letter relative svelte-rt023y" style="--letter:2">l<!--[--><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">l</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">l</span><!--]--></span><span class="letter relative svelte-rt023y" style="--letter:3">a<!--[--><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">a</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">a</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">a</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">a</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">a</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">a</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">a</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">a</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">a</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">a</span><!--]--></span><span class="letter relative svelte-rt023y" style="--letter:4">n<!--[--><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">n</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">n</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">n</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">n</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">n</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">n</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">n</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">n</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">n</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">n</span><!--]--></span><!--]--><!--[--><span class="space svelte-rt023y"> </span><!--]--></span><span class="word inline-block svelte-rt023y"><!--[--><span class="letter relative svelte-rt023y" style="--letter:6">D<!--[--><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">D</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">D</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">D</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">D</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">D</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">D</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">D</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">D</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">D</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">D</span><!--]--></span><span class="letter relative svelte-rt023y" style="--letter:7">e<!--[--><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">e</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">e</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">e</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">e</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">e</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">e</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">e</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">e</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">e</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">e</span><!--]--></span><span class="letter relative svelte-rt023y" style="--letter:8">u<!--[--><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">u</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">u</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">u</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">u</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">u</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">u</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">u</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">u</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">u</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">u</span><!--]--></span><span class="letter relative svelte-rt023y" style="--letter:9">t<!--[--><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">t</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">t</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">t</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">t</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">t</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">t</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">t</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">t</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">t</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">t</span><!--]--></span><span class="letter relative svelte-rt023y" style="--letter:10">s<!--[--><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">s</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">s</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">s</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">s</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">s</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">s</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">s</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">s</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">s</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">s</span><!--]--></span><span class="letter relative svelte-rt023y" style="--letter:11">c<!--[--><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">c</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">c</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">c</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">c</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">c</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">c</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">c</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">c</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">c</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">c</span><!--]--></span><span class="letter relative svelte-rt023y" style="--letter:12">h<!--[--><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">h</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">h</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">h</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">h</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">h</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">h</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">h</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">h</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">h</span><span class="absolute select-none svelte-rt023y" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">h</span><!--]--></span><!--]--><!--[!--><!--]--></span><!--]--></span><!----></a></div> <div class="hidden shrink-0 sm:flex"><ul class="inline-flex w-fit flex-row px-1 text-base"><!--[--><!--[!--><li><a href="/" class="px-3 text-lg"><span class="svelte-1p7f3ow"><!---->Home<!----></span><!----></a></li><!--]--><!--[!--><li><a href="/notes" class="px-3 text-lg"><span class="svelte-1p7f3ow"><!---->Notes<!----></span><!----></a></li><!--]--><!--[!--><li><a href="/devlog" class="px-3 text-lg"><span class="svelte-1p7f3ow"><!---->Devlog<!----></span><!----></a></li><!--]--><!--]--></ul></div> <div class="hidden w-1/2 justify-end min-[400px]:flex"><!--[!--><div><a href="https://linkedin.com/in/allandeutsch" class="group"><span class="sr-only">connect with me on LinkedIn</span> <svg class="fill-muted-foreground group-hover:fill-primary mr-1.5 inline transition-colors duration-300" aria-hidden="true" role="img" width="24" height="24" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M34 2.5v29a2.5 2.5 0 01-2.5 2.5h-29A2.5 2.5 0 010 31.5v-29A2.5 2.5 0 012.5 0h29A2.5 2.5 0 0134 2.5zM10 13H5v16h5zm.45-5.5a2.88 2.88 0 00-2.86-2.9H7.5a2.9 2.9 0 000 5.8 2.88 2.88 0 002.95-2.81zM29 19.28c0-4.81-3.06-6.68-6.1-6.68a5.7 5.7 0 00-5.06 2.58h-.14V13H13v16h5v-8.51a3.32 3.32 0 013-3.58h.19c1.59 0 2.77 1 2.77 3.52V29h5z"></path></svg></a> <a href="https://bsky.app/profile/allandeutsch.com" class="group"><span class="sr-only">Follow me on Bluesky</span> <svg height="24" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-muted-foreground group-hover:fill-primary mr-1.5 inline transition-colors duration-300"><title>Bluesky</title><path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"></path></svg></a> <a href="https://github.com/masstronaut" class="group"><span class="sr-only">Follow me on GitHub</span> <svg height="24" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true" class="fill-muted-foreground group-hover:fill-primary mr-1.5 inline transition-colors duration-300"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a></div><!--]--></div></div><!----> <div class="h-full p-1 sm:p-4"><!----><docduck-feedback team="TKxfdiO22xOXIrW0c0Pfi" class="svelte-12xwe57"></docduck-feedback> <div class="grid w-full grid-cols-[1fr_min(65ch,100%)_1fr] svelte-12xwe57"><h1 class="col-start-2 col-end-3 text-left text-4xl font-bold svelte-12xwe57" style="view-transition-name: title">devlog 7: More life</h1></div> <article class="note-container dark:prose-invert prose mb-8 max-w-full px-2 svelte-12xwe57"><header class="w-full max-w-3xl self-center svelte-12xwe57"><div class="text-md border-t-neutral/20 text-muted-foreground mt-4 mb-12 flex justify-between border-t pt-1 svelte-12xwe57"><div class="svelte-12xwe57"><span class="pr-2 svelte-12xwe57">🌱</span><span class="hidden sm:inline svelte-12xwe57">Planted</span> May 26, 2024. <!--[--><br class="svelte-12xwe57"/>Last tended May 27, 2024.<!--]--></div> <div class="flex flex-col items-end svelte-12xwe57"><div class="note__status seedling svelte-12xwe57">seedling 🌱</div> <!--[--><div class="svelte-12xwe57">9 minutes read ⏱</div><!--]--></div></div></header> <!----><p>This was a fun week! Some highlights were:</p> <ul><li>I <a href="/devlog/7#building-a-polyrhythm-using-web-apis">built a polyrhythm</a> as a fun toy project</li> <li>Maya &amp; I got a new car and took delivery of it on Thursday!</li> <li>Went for a long bike ride around Seattle with Maya</li> <li>Did a night at Harrison Hot Springs with My Dad &amp; Maya</li> <li>Got accepted into <a href="/devlog/7#cascadia-js">Cascadia JS</a>!</li></ul> <p>I also decided it’s time to replace my bike with something in better shape and more suitable for commuting around a hilly city like Seattle, and have started researching what the right choice is. Hopefully I’ll have a conclusion in the next couple weeks and can write a note on it!</p> <!----><h2 id="cascadia-js" class="heading-wrapper svelte-1j9ilu2"><button class="link-icon svelte-1j9ilu2" aria-label="Copy link to heading"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-link"><!--[--><!----><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"><!----></path><!----><!----><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"><!----></path><!----><!--]--><!--[--><!--[--><!--]--><!--]--></svg><!----> <!--[!--><!--]--></button> <a href="#cascadia-js" class="heading-link svelte-1j9ilu2"><!---->Cascadia JS<!----><!----></a><!----></h2><!----><!----> <p>Earlier this month I met a guy named Carter Rabasa, who runs the Seattle JS meetup I presented at. Before the meetup started, we had a chance to chat a bit and I told him that I’m trying to build a company to make docs better. He also organizes a Pacific Northwest JS conference called CascadiaJS, which has a startup fair. At the time he said that they had no available spots for startups, but would let me know if anything opened up. The most exciting development of this week came on Sunday in the form of an email from Carter.</p> <blockquote><p>Hey Allan,</p> <p>I’m writing to let you know that we’d like you (and your startup) to join us for this year’s Startup Fair. Congrats!</p></blockquote> <p>This is fantastic news! A developer conference is a great place to meet potential customers for Doc Duck. I already had a ticket to the conference, and smaller conferences are my favorite. This makes it much more exciting for me, though! My favorite way to be a part of conferences is by contributing something to them. Unfortunately, this year I wasn’t ready to go as a speaker before the call for proposals closed. I’m thrilled I get to go as a startup and talk to a bunch of new people about actionable docs feedback and using it to improve developer experience.</p> <!----><h2 id="epic-web-dev" class="heading-wrapper svelte-1j9ilu2"><button class="link-icon svelte-1j9ilu2" aria-label="Copy link to heading"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-link"><!--[--><!----><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"><!----></path><!----><!----><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"><!----></path><!----><!--]--><!--[--><!--[--><!--]--><!--]--></svg><!----> <!--[!--><!--]--></button> <a href="#epic-web-dev" class="heading-link svelte-1j9ilu2"><!---->Epic Web Dev<!----><!----></a><!----></h2><!----><!----> <p>This week James &amp; I finished up the <a href="https://www.epicweb.dev/workshops/data-modeling-deep-dive" rel="nofollow">Data Modeling workshop</a>. Notably, I learned how to have the database query planning tell me its query plan, using the very literal SQL:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">EXPLAIN QUERY PLAN</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">EXPLAIN QUERY PLAN</pre><!----> <p>Followed by whatever SQL query I want it to explain.</p> <p>The workshop had an example where a user search page orders users by when they most recently updated a note, which required a foreign relation and was generating a B-Tree <em>for each user</em> to figure out their most recent note update. B-Trees take time and memory to use, so this was a very expensive query.</p> <p>The fix (and the lesson for optimizing queries) was to add indexes for:</p> <ul><li>Foreign keys in basically all cases - foreign keys are used for lookups in other tables, so it’s strange this isn’t just the default behavior</li> <li>columns referenced together, so in the workshop example this was an index on the <code>Note</code> table of the note’s owner ID and updated date</li></ul> <p>In prisma it is quite easy to add indexes:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">model</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Note</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">  id</span><span style="color:#2E8F82;--shiki-dark:#5DA994">      String</span><span style="color:#59873A;--shiki-dark:#80A665"> @id</span><span style="color:#59873A;--shiki-dark:#80A665"> @default</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#998418;--shiki-dark:#B8A965">cuid</span><span style="color:#999999;--shiki-dark:#666666">())</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">  title</span><span style="color:#2E8F82;--shiki-dark:#5DA994">   String</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">  content</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> String</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">  createdAt</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> DateTime</span><span style="color:#59873A;--shiki-dark:#80A665"> @default</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#998418;--shiki-dark:#B8A965">now</span><span style="color:#999999;--shiki-dark:#666666">())</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">  updatedAt</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> DateTime</span><span style="color:#59873A;--shiki-dark:#80A665"> @updatedAt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">  owner</span><span style="color:#A65E2B;--shiki-dark:#C99076">   User</span><span style="color:#59873A;--shiki-dark:#80A665">   @relation</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">fields</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> [</span><span style="color:#A65E2B;--shiki-dark:#C99076">ownerId</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">], </span><span style="color:#B07D48;--shiki-dark:#BD976A">references</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> [</span><span style="color:#A65E2B;--shiki-dark:#C99076">id</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">], </span><span style="color:#B07D48;--shiki-dark:#BD976A">onDelete</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#A65E2B;--shiki-dark:#C99076"> Cascade</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">, </span><span style="color:#B07D48;--shiki-dark:#BD976A">onUpdate</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#A65E2B;--shiki-dark:#C99076"> Cascade</span><span style="color:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">  ownerId</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> String</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">  images</span><span style="color:#A65E2B;--shiki-dark:#C99076"> NoteImage</span><span style="color:#AB5959;--shiki-dark:#CB7676">[]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">  // indexing by owner ID (most frequently referenced) then updatedAt (a sort criteria)</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">  // to improve query performance when getting a user's notes</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">  @@index</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">[</span><span style="color:#A65E2B;--shiki-dark:#C99076">ownerId</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">, </span><span style="color:#A65E2B;--shiki-dark:#C99076">updatedAt</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">]</span><span style="color:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">  </span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">  // non-unique foreign keys aren't indexed by default</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">  @@index</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">[</span><span style="color:#A65E2B;--shiki-dark:#C99076">ownerId</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">]</span><span style="color:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">model Note &#123;
  id      String @id @default(cuid())
  title   String
  content String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  owner   User   @relation(fields: [ownerId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  ownerId String

  images NoteImage[]

  // indexing by owner ID (most frequently referenced) then updatedAt (a sort criteria)
  // to improve query performance when getting a user's notes
  @@index([ownerId, updatedAt])
  
  // non-unique foreign keys aren't indexed by default
  @@index([ownerId])
&#125;</pre><!----> <p>This is surprisingly easy and resulted in something like a 250x faster query. I have a couple of queries on <a href="https://docduck.dev" rel="nofollow">Doc Duck</a> that are on the slower end, so I’m excited to put my new query optimization skills to use improving the dashboard loading speed there!</p> <!----><h2 id="doc-duck" class="heading-wrapper svelte-1j9ilu2"><button class="link-icon svelte-1j9ilu2" aria-label="Copy link to heading"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-link"><!--[--><!----><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"><!----></path><!----><!----><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"><!----></path><!----><!--]--><!--[--><!--[--><!--]--><!--]--></svg><!----> <!--[!--><!--]--></button> <a href="#doc-duck" class="heading-link svelte-1j9ilu2"><!---->Doc Duck<!----><!----></a><!----></h2><!----><!----> <!----><h3 id="dashboard-performance" class="heading-wrapper svelte-1j9ilu2"><button class="link-icon svelte-1j9ilu2" aria-label="Copy link to heading"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-link"><!--[--><!----><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"><!----></path><!----><!----><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"><!----></path><!----><!--]--><!--[--><!--[--><!--]--><!--]--></svg><!----> <!--[!--><!--]--></button> <a href="#dashboard-performance" class="heading-link svelte-1j9ilu2"><!---->Dashboard performance<!----><!----></a><!----></h3><!----><!----> <p>Inspired by what I learned about optimizing SQL in the Epic Web Dev course, I spent a couple hours on Thursday profiling and optimizing the Doc Duck dashboard. It was taking a couple seconds to load, which is quite sluggish for the page that comes after a login. The whole process was even worse, because the login also takes time, then the user gets redirected to the dashboard, <em>then</em> the 2 second load started. <em>Oof</em>.</p> <p>I profiled how long everything was taking, and realized that while some of the data was queried in parallel, one of the dashboard data visualizations was making two requests to the database and was blocking. I was able to reduce it to a single, non-blocking request that runs in parallel with the others. I also added some database indexes for foreign key relationships. These two changes resulting in an average ~50% speedup for loading the dashboard!</p> <!----><h3 id="feedback-filtering" class="heading-wrapper svelte-1j9ilu2"><button class="link-icon svelte-1j9ilu2" aria-label="Copy link to heading"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-link"><!--[--><!----><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"><!----></path><!----><!----><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"><!----></path><!----><!--]--><!--[--><!--[--><!--]--><!--]--></svg><!----> <!--[!--><!--]--></button> <a href="#feedback-filtering" class="heading-link svelte-1j9ilu2"><!---->Feedback filtering<!----><!----></a><!----></h3><!----><!----> <p>This week I also implemented filtering for the feedback view. This makes managing feedback much easier. I have been bumping up against some limitations of the svelte reactivity model and found a use case where React’s <code>useState</code> hook would give me better control over how and when re-rendering occurs. Specifically, when a feedback item’s status is updated, I want to rerender the item’s status but not rebuild the table. This is tough in svelte, because reactive state changes waterfall, so updating any reactive state will also trigger other reactive declarations to be re-run.</p> <!----><h2 id="building-a-polyrhythm-using-web-apis" class="heading-wrapper svelte-1j9ilu2"><button class="link-icon svelte-1j9ilu2" aria-label="Copy link to heading"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-link"><!--[--><!----><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"><!----></path><!----><!----><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"><!----></path><!----><!--]--><!--[--><!--[--><!--]--><!--]--></svg><!----> <!--[!--><!--]--></button> <a href="#building-a-polyrhythm-using-web-apis" class="heading-link svelte-1j9ilu2"><!---->Building a polyrhythm using web APIs<!----><!----></a><!----></h2><!----><!----> <p>I wanted to learn something a little different this week that speaks to my background in simulation software. Specifically, I wanted to play with the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" rel="nofollow">canvas API</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API" rel="nofollow">Web Audio API</a> to build a <a href="https://allandeutsch.com/projects/polyrhythm" rel="nofollow">polyrhythm</a>! I figured I could build one in a day or two, which is a good amount of time to play with an API and get a feel for what it’s capable of.</p> <!----><h3 id="the-canvas-api" class="heading-wrapper svelte-1j9ilu2"><button class="link-icon svelte-1j9ilu2" aria-label="Copy link to heading"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-link"><!--[--><!----><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"><!----></path><!----><!----><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"><!----></path><!----><!--]--><!--[--><!--[--><!--]--><!--]--></svg><!----> <!--[!--><!--]--></button> <a href="#the-canvas-api" class="heading-link svelte-1j9ilu2"><!---->The Canvas API<!----><!----></a><!----></h3><!----><!----> <p>Canvas, or more specifically the <code>&lt;canvas></code> element, is used to draw things. It can draw lines and arcs. It’s intended for things like data visualizations, game graphics, and image editing. The API seemed to be designed to work like using a pen. It works something like this:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span>pen.moveToPosition(X,Y);</span></span>
<span class="line"><span>pen.lineTo(X + 100, Y);</span></span>
<span class="line"><span>pen.draw();</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">pen.moveToPosition(X,Y);
pen.lineTo(X + 100, Y);
pen.draw();</pre><!----> <p>That example would draw a horizontal line 100 pixels across. Neat!</p> <p>With this plus some basic trigonometry and physics, it didn’t take me long to get a bunch of semicircle arcs draw and some circles bouncing along them.</p> <p>Next up was having my bouncing balls make noises when they reached the end of their arc. I could’ve used an existing tool, recorded an audio for each one, and then played those. That seemed really tedious, though. Plus it would be WAY more awesome if I created the sounds programmatically 😎</p> <!----><h3 id="the-web-audio-api" class="heading-wrapper svelte-1j9ilu2"><button class="link-icon svelte-1j9ilu2" aria-label="Copy link to heading"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-link"><!--[--><!----><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"><!----></path><!----><!----><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"><!----></path><!----><!--]--><!--[--><!--[--><!--]--><!--]--></svg><!----> <!--[!--><!--]--></button> <a href="#the-web-audio-api" class="heading-link svelte-1j9ilu2"><!---->The web audio API<!----><!----></a><!----></h3><!----><!----> <p>This one I found a bit trickier, probably because I didn’t know much about how audio synthesis works going in. Fortunately, I found a really cool talk by Neil McCallion called <a href="https://www.youtube.com/watch?v=uasGsHf7UYA" rel="nofollow">I play JavaScript</a> that he presented at NIDevConf in 2020. Neil does a fantastic job explaining both the web audio API <em>and</em> the underlying principles of audio synthesis.</p><!----><!----> <div class="divider svelte-12xwe57"></div> <aside class="prose dark:prose-invert svelte-12xwe57"><p class="svelte-12xwe57">If you're feeling extra generous, you can show your support by buying me a
			coffee with the button in the bottom right corner of the page.</p> <div class="divider svelte-12xwe57"></div></aside></article> <!--[--><p class="svelte-12xwe57">Loading comments...</p><!--]-->  <!--[!--><!--]--> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" integrity="sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB" crossorigin="anonymous" class="svelte-12xwe57"/><!----><!----></div></div> <!--[!--><!--]--><!----><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_r73ocy = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.CjZGN_i3.js"),
						import("../_app/immutable/entry/app.DsWSwnbP.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3],
							data: [null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
