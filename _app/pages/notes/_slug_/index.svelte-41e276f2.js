var Qe=Object.defineProperty,We=Object.defineProperties;var Je=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var Fe=(n,e,l)=>e in n?Qe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[e]=l,Ne=(n,e)=>{for(var l in e||(e={}))$e.call(e,l)&&Fe(n,l,e[l]);if(Ce)for(var l of Ce(e))xe.call(e,l)&&Fe(n,l,e[l]);return n},Re=(n,e)=>We(n,Je(e));import{S as pe,i as ve,s as ge,L as et,e as _,c as p,a as w,d as f,b as r,g as M,M as tt,N as lt,O as st,r as z,p as U,k as C,t as B,m as F,h as q,I as Q,J as u,R as Be,j as le,n as de,V as at,U as nt,f as ue,o as he,W as rt,q as me,l as _e,x as ke,y as be,z as Ee,A as it,B as ot,C as ye,X as ft,D as ct,Y as qe,P as ut,Z as dt,_ as ht}from"../../../chunks/index-60c6c23d.js";import{N as mt}from"../../../chunks/NoteGrid-60f7178f.js";function _t(n){let e,l;const t=n[1].default,s=et(t,n,n[0],null);return{c(){e=_("div"),s&&s.c(),this.h()},l(a){e=p(a,"DIV",{class:!0});var o=w(e);s&&s.l(o),o.forEach(f),this.h()},h(){r(e,"class","mdTypography svelte-ebaxaj")},m(a,o){M(a,e,o),s&&s.m(e,null),l=!0},p(a,[o]){s&&s.p&&(!l||o&1)&&tt(s,t,a,a[0],l?st(t,a[0],o,null):lt(a[0]),null)},i(a){l||(z(s,a),l=!0)},o(a){U(s,a),l=!1},d(a){a&&f(e),s&&s.d(a)}}}function pt(n,e,l){let{$$slots:t={},$$scope:s}=e;return n.$$set=a=>{"$$scope"in a&&l(0,s=a.$$scope)},[s,t]}class vt extends pe{constructor(e){super(),ve(this,e,pt,_t,ge,{})}}function gt(n){let e;return{c(){e=_("p")},l(l){e=p(l,"P",{}),w(e).forEach(f)},m(l,t){M(l,e,t)},p:de,d(l){l&&f(e)}}}function kt(n){let e,l=n[0].title+"",t,s;return{c(){e=_("a"),t=B(l),this.h()},l(a){e=p(a,"A",{href:!0,class:!0});var o=w(e);t=q(o,l),o.forEach(f),this.h()},h(){r(e,"href",s=n[0].href),r(e,"class","svelte-198p2m7")},m(a,o){M(a,e,o),u(e,t)},p(a,o){o&1&&l!==(l=a[0].title+"")&&le(t,l),o&1&&s!==(s=a[0].href)&&r(e,"href",s)},d(a){a&&f(e)}}}function bt(n){let e,l,t,s,a,o,b,E,m,c,i,h,y,V,j;function Z(I,k){return I[0]?kt:gt}let g=Z(n),D=g(n);return{c(){e=_("aside"),l=_("section"),t=_("div"),D.c(),s=C(),a=_("p"),o=B(n[1]),b=C(),E=_("p"),m=C(),c=_("section"),i=_("div"),h=_("p"),y=B(n[2]),this.h()},l(I){e=p(I,"ASIDE",{class:!0});var k=w(e);l=p(k,"SECTION",{class:!0});var X=w(l);t=p(X,"DIV",{class:!0});var H=w(t);D.l(H),s=F(H),a=p(H,"P",{class:!0});var W=w(a);o=q(W,n[1]),W.forEach(f),b=F(H),E=p(H,"P",{}),w(E).forEach(f),H.forEach(f),X.forEach(f),m=F(k),c=p(k,"SECTION",{class:!0});var $=w(c);i=p($,"DIV",{class:!0});var Y=w(i);h=p(Y,"P",{class:!0});var P=w(h);y=q(P,n[2]),P.forEach(f),Y.forEach(f),$.forEach(f),k.forEach(f),this.h()},h(){r(a,"class","prompt svelte-198p2m7"),r(t,"class","card svelte-198p2m7"),r(l,"class","flashcard_side front svelte-198p2m7"),Q(l,"flipped",n[4]),r(h,"class","answer"),r(i,"class","card svelte-198p2m7"),r(c,"class","flashcard_side back svelte-198p2m7"),r(e,"class","flashcard svelte-198p2m7"),Q(e,"flipped",n[4]),Q(e,"disabled",n[3])},m(I,k){M(I,e,k),u(e,l),u(l,t),D.m(t,null),u(t,s),u(t,a),u(a,o),u(t,b),u(t,E),u(e,m),u(e,c),u(c,i),u(i,h),u(h,y),V||(j=[Be(l,"click",n[6]),Be(c,"click",n[7])],V=!0)},p(I,[k]){g===(g=Z(I))&&D?D.p(I,k):(D.d(1),D=g(I),D&&(D.c(),D.m(t,s))),k&2&&le(o,I[1]),k&16&&Q(l,"flipped",I[4]),k&4&&le(y,I[2]),k&16&&Q(e,"flipped",I[4]),k&8&&Q(e,"disabled",I[3])},i:de,o:de,d(I){I&&f(e),D.d(),V=!1,at(j)}}}function Et(n,e,l){let{note:t}=e,{prompt:s}=e,{answer:a}=e,{disabled:o=!1}=e;const b=nt();let E=!1;const m=()=>{o||l(4,E=!E)},c=()=>b("flashcardReviewed");return n.$$set=i=>{"note"in i&&l(0,t=i.note),"prompt"in i&&l(1,s=i.prompt),"answer"in i&&l(2,a=i.answer),"disabled"in i&&l(3,o=i.disabled)},[t,s,a,o,E,b,m,c]}class yt extends pe{constructor(e){super(),ve(this,e,Et,bt,ge,{note:0,prompt:1,answer:2,disabled:3})}}function He(n,e,l){const t=n.slice();return t[6]=e[l],t[8]=l,t}function Oe(n){let e,l,t,s,a,o=[],b=new Map,E,m=n[0];const c=i=>i[6].index;for(let i=0;i<m.length;i+=1){let h=He(n,m,i),y=c(h);b.set(y,o[i]=Ue(y,h))}return{c(){e=_("div"),l=_("h2"),t=B("Review"),s=C(),a=_("div");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=p(i,"DIV",{class:!0,style:!0});var h=w(e);l=p(h,"H2",{class:!0});var y=w(l);t=q(y,"Review"),y.forEach(f),s=F(h),a=p(h,"DIV",{class:!0});var V=w(a);for(let j=0;j<o.length;j+=1)o[j].l(V);V.forEach(f),h.forEach(f),this.h()},h(){r(l,"class","svelte-1w4jii"),r(a,"class","cards svelte-1w4jii"),r(e,"class","flashcard_pile svelte-1w4jii"),ue(e,"--offsetX","0"),ue(e,"--offsetY","0"),ue(e,"--rotateZ","0")},m(i,h){M(i,e,h),u(e,l),u(l,t),u(e,s),u(e,a);for(let y=0;y<o.length;y+=1)o[y].m(a,null);E=!0},p(i,h){h&3&&(m=i[0],he(),o=rt(o,h,c,1,i,m,b,a,ft,Ue,null,He),me())},i(i){if(!E){for(let h=0;h<m.length;h+=1)z(o[h]);E=!0}},o(i){for(let h=0;h<o.length;h+=1)U(o[h]);E=!1},d(i){i&&f(e);for(let h=0;h<o.length;h+=1)o[h].d()}}}function Ue(n,e){let l,t,s,a,o;const b=[{disabled:e[8]!==e[0].length-1},e[6]];function E(...c){return e[2](e[6],...c)}let m={};for(let c=0;c<b.length;c+=1)m=ct(m,b[c]);return t=new yt({props:m}),t.$on("flashcardReviewed",E),{key:n,first:null,c(){l=_("div"),ke(t.$$.fragment),s=C(),this.h()},l(c){l=p(c,"DIV",{class:!0,style:!0});var i=w(l);be(t.$$.fragment,i),s=F(i),i.forEach(f),this.h()},h(){r(l,"class","flashcard_holder svelte-1w4jii"),r(l,"style",a=e[6].transformValues),Q(l,"top",e[8]===e[0].length-1),this.first=l},m(c,i){M(c,l,i),Ee(t,l,null),u(l,s),o=!0},p(c,i){e=c;const h=i&1?it(b,[{disabled:e[8]!==e[0].length-1},ot(e[6])]):{};t.$set(h),(!o||i&1&&a!==(a=e[6].transformValues))&&r(l,"style",a),i&1&&Q(l,"top",e[8]===e[0].length-1)},i(c){o||(z(t.$$.fragment,c),o=!0)},o(c){U(t.$$.fragment,c),o=!1},d(c){c&&f(l),ye(t)}}}function wt(n){let e,l,t=n[0]&&n[0].length&&Oe(n);return{c(){t&&t.c(),e=_e()},l(s){t&&t.l(s),e=_e()},m(s,a){t&&t.m(s,a),M(s,e,a),l=!0},p(s,[a]){s[0]&&s[0].length?t?(t.p(s,a),a&1&&z(t,1)):(t=Oe(s),t.c(),z(t,1),t.m(e.parentNode,e)):t&&(he(),U(t,1,1,()=>{t=null}),me())},i(s){l||(z(t),l=!0)},o(s){U(t),l=!1},d(s){t&&t.d(s),s&&f(e)}}}function Dt(n,e,l){let{flashcards:t}=e;const s=m=>`
--offsetX: ${m!==t.length-1?Math.random()*4-2:0}rem; 
--offsetY: ${m!==t.length-1?Math.random()*4-2:0}rem;
--rotationZ: ${m!==t.length-1?(Math.random()-.5)*30:0}deg; 
				`,a=m=>{for(let c=m.length-1;c>0;c--){const i=Math.floor(Math.random()*(c+1)),h=m[c];m[c]=m[i],m[i]=h}},o=(m,c)=>{l(0,t=[...t.filter(i=>i.index!==c)])},b={prompt:"Great job! You reviewed everything.",answer:"",index:t.length,disabled:!0,transformValues:"--offsetX:0rem;--offsetY:0rem;--rotateZ:0rem;"};t&&t.length>0&&(a(t),t.forEach((m,c,i)=>{i[c].transformValues=s(c)}),t=[b,...t]);const E=(m,c)=>o(c,m.index);return n.$$set=m=>{"flashcards"in m&&l(0,t=m.flashcards)},[t,o,E]}class It extends pe{constructor(e){super(),ve(this,e,Dt,wt,ge,{flashcards:0})}}function Xe(n){let e,l,t,s;return{c(){e=_("br"),l=B("Last tended "),t=B(n[13]),s=B(".")},l(a){e=p(a,"BR",{}),l=q(a,"Last tended "),t=q(a,n[13]),s=q(a,".")},m(a,o){M(a,e,o),M(a,l,o),M(a,t,o),M(a,s,o)},p:de,d(a){a&&f(e),a&&f(l),a&&f(t),a&&f(s)}}}function Ye(n){let e,l=`${n[11]} ${n[11]>1?"minutes":"minute"} to read. \u23F1`,t;return{c(){e=_("div"),t=B(l),this.h()},l(s){e=p(s,"DIV",{class:!0});var a=w(e);t=q(a,l),a.forEach(f),this.h()},h(){r(e,"class","note__ttr")},m(s,a){M(s,e,a),u(e,t)},p(s,a){a&2048&&l!==(l=`${s[11]} ${s[11]>1?"minutes":"minute"} to read. \u23F1`)&&le(t,l)},d(s){s&&f(e)}}}function Ze(n){let e,l;return{c(){e=_("img"),this.h()},l(t){e=p(t,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){qe(e.src,l=`/blog/${n[5]}`)||r(e,"src",l),r(e,"class","full-bleed"),r(e,"alt","Banner")},m(t,s){M(t,e,s)},p(t,s){s&32&&!qe(e.src,l=`/blog/${t[5]}`)&&r(e,"src",l)},d(t){t&&f(e)}}}function Tt(n){let e,l;return{c(){e=new dt(!1),l=_e(),this.h()},l(t){e=ht(t,!1),l=_e(),this.h()},h(){e.a=l},m(t,s){e.m(n[6],t,s),M(t,l,s)},p(t,s){s&64&&e.p(t[6])},d(t){t&&f(l),t&&e.d()}}}function Ge(n){let e,l;return e=new It({props:{flashcards:n[10]}}),{c(){ke(e.$$.fragment)},l(t){be(e.$$.fragment,t)},m(t,s){Ee(e,t,s),l=!0},p(t,s){const a={};s&1024&&(a.flashcards=t[10]),e.$set(a)},i(t){l||(z(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ye(e,t)}}}function Ke(n){let e,l;return e=new mt({props:{notes:n[9],title:"Linked notes"}}),{c(){ke(e.$$.fragment)},l(t){be(e.$$.fragment,t)},m(t,s){Ee(e,t,s),l=!0},p(t,s){const a={};s&512&&(a.notes=t[9]),e.$set(a)},i(t){l||(z(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ye(e,t)}}}function At(n){let e,l,t,s,a,o,b,E,m,c,i,h,y,V,j,Z,g,D,I,k,X,H,W,$,Y,P,x,we,De,Ie,Te,Ae,G,J,se=`${n[7]} ${n[8]}`,ae,ne,Me,Ve,re,ee,K,je,ie,S;document.title=e=n[1]+" - Allan Deutsch";let N=n[4]&&n[4]!==n[3]&&Xe(n),R=n[11]>0&&Ye(n),L=n[5]&&Ze(n);K=new vt({props:{$$slots:{default:[Tt]},$$scope:{ctx:n}}});let T=n[10]&&Ge(n),A=n[9].length&&Ke(n);return{c(){l=_("meta"),t=_("meta"),s=_("meta"),a=_("meta"),b=_("meta"),E=_("meta"),m=_("meta"),c=_("meta"),i=_("meta"),h=_("meta"),y=_("meta"),V=_("meta"),j=_("link"),g=C(),D=_("link"),I=C(),k=_("div"),X=_("header"),H=_("h1"),W=B(n[1]),$=C(),Y=_("div"),P=_("div"),x=_("span"),we=B("\u{1F331}"),De=B("Planted "),Ie=B(n[12]),Te=B(`.
				`),N&&N.c(),Ae=C(),G=_("div"),J=_("div"),ae=B(se),Me=C(),R&&R.c(),Ve=C(),L&&L.c(),re=C(),ee=_("div"),ke(K.$$.fragment),je=C(),T&&T.c(),ie=C(),A&&A.c(),this.h()},l(d){const v=ut('[data-svelte="svelte-1mbvjfn"]',document.head);l=p(v,"META",{name:!0,content:!0}),t=p(v,"META",{property:!0,content:!0}),s=p(v,"META",{property:!0,content:!0}),a=p(v,"META",{property:!0,content:!0}),b=p(v,"META",{property:!0,content:!0}),E=p(v,"META",{property:!0,content:!0}),m=p(v,"META",{property:!0,content:!0}),c=p(v,"META",{property:!0,content:!0}),i=p(v,"META",{property:!0,content:!0}),h=p(v,"META",{property:!0,content:!0}),y=p(v,"META",{property:!0,content:!0}),V=p(v,"META",{property:!0,content:!0}),j=p(v,"LINK",{rel:!0,href:!0}),v.forEach(f),g=F(d),D=p(d,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),I=F(d),k=p(d,"DIV",{class:!0});var O=w(k);X=p(O,"HEADER",{class:!0});var oe=w(X);H=p(oe,"H1",{class:!0});var Le=w(H);W=q(Le,n[1]),Le.forEach(f),$=F(oe),Y=p(oe,"DIV",{class:!0});var fe=w(Y);P=p(fe,"DIV",{class:!0});var te=w(P);x=p(te,"SPAN",{style:!0});var Se=w(x);we=q(Se,"\u{1F331}"),Se.forEach(f),De=q(te,"Planted "),Ie=q(te,n[12]),Te=q(te,`.
				`),N&&N.l(te),te.forEach(f),Ae=F(fe),G=p(fe,"DIV",{class:!0});var ce=w(G);J=p(ce,"DIV",{class:!0});var ze=w(J);ae=q(ze,se),ze.forEach(f),Me=F(ce),R&&R.l(ce),ce.forEach(f),fe.forEach(f),oe.forEach(f),Ve=F(O),L&&L.l(O),re=F(O),ee=p(O,"DIV",{class:!0});var Pe=w(ee);be(K.$$.fragment,Pe),Pe.forEach(f),je=F(O),T&&T.l(O),ie=F(O),A&&A.l(O),O.forEach(f),this.h()},h(){r(l,"name","description"),r(l,"content",n[2]),r(t,"property","og:title"),r(t,"content",n[1]),r(s,"property","og:type"),r(s,"content","article"),r(a,"property","og:url"),r(a,"content",o=`https://allandeutsch.com${n[0]}`),r(b,"property","og:description"),r(b,"content",n[2]),r(E,"property","og:locale"),r(E,"content","en_US"),r(m,"property","twitter:card"),r(m,"content","summary"),r(c,"property","twitter:url"),r(c,"content","https://allandeutsch.com"),r(i,"property","twitter:title"),r(i,"content",n[1]),r(h,"property","twitter:description"),r(h,"content",n[2]),r(y,"property","twitter:site"),r(y,"content","@AllanDeutsch"),r(V,"property","twitter:creator"),r(V,"content","@AllanDeutsch"),r(j,"rel","canonical"),r(j,"href",Z=`https://allandeutsch.com${n[0]}`),r(D,"rel","stylesheet"),r(D,"href","https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css"),r(D,"integrity","sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB"),r(D,"crossorigin","anonymous"),r(H,"class","title svelte-zh6cbr"),ue(x,"padding-right","var(--spacing-2)"),r(P,"class","date svelte-zh6cbr"),r(J,"class",ne="note__status "+n[7]+" svelte-zh6cbr"),r(G,"class","status_ttr svelte-zh6cbr"),r(Y,"class","note__metadata svelte-zh6cbr"),r(X,"class","svelte-zh6cbr"),r(ee,"class","note__content svelte-zh6cbr"),r(k,"class","note__container svelte-zh6cbr")},m(d,v){u(document.head,l),u(document.head,t),u(document.head,s),u(document.head,a),u(document.head,b),u(document.head,E),u(document.head,m),u(document.head,c),u(document.head,i),u(document.head,h),u(document.head,y),u(document.head,V),u(document.head,j),M(d,g,v),M(d,D,v),M(d,I,v),M(d,k,v),u(k,X),u(X,H),u(H,W),u(X,$),u(X,Y),u(Y,P),u(P,x),u(x,we),u(P,De),u(P,Ie),u(P,Te),N&&N.m(P,null),u(Y,Ae),u(Y,G),u(G,J),u(J,ae),u(G,Me),R&&R.m(G,null),u(k,Ve),L&&L.m(k,null),u(k,re),u(k,ee),Ee(K,ee,null),u(k,je),T&&T.m(k,null),u(k,ie),A&&A.m(k,null),S=!0},p(d,[v]){(!S||v&2)&&e!==(e=d[1]+" - Allan Deutsch")&&(document.title=e),(!S||v&4)&&r(l,"content",d[2]),(!S||v&2)&&r(t,"content",d[1]),(!S||v&1&&o!==(o=`https://allandeutsch.com${d[0]}`))&&r(a,"content",o),(!S||v&4)&&r(b,"content",d[2]),(!S||v&2)&&r(i,"content",d[1]),(!S||v&4)&&r(h,"content",d[2]),(!S||v&1&&Z!==(Z=`https://allandeutsch.com${d[0]}`))&&r(j,"href",Z),(!S||v&2)&&le(W,d[1]),d[4]&&d[4]!==d[3]?N?N.p(d,v):(N=Xe(d),N.c(),N.m(P,null)):N&&(N.d(1),N=null),(!S||v&384)&&se!==(se=`${d[7]} ${d[8]}`)&&le(ae,se),(!S||v&128&&ne!==(ne="note__status "+d[7]+" svelte-zh6cbr"))&&r(J,"class",ne),d[11]>0?R?R.p(d,v):(R=Ye(d),R.c(),R.m(G,null)):R&&(R.d(1),R=null),d[5]?L?L.p(d,v):(L=Ze(d),L.c(),L.m(k,re)):L&&(L.d(1),L=null);const O={};v&16448&&(O.$$scope={dirty:v,ctx:d}),K.$set(O),d[10]?T?(T.p(d,v),v&1024&&z(T,1)):(T=Ge(d),T.c(),z(T,1),T.m(k,ie)):T&&(he(),U(T,1,1,()=>{T=null}),me()),d[9].length?A?(A.p(d,v),v&512&&z(A,1)):(A=Ke(d),A.c(),z(A,1),A.m(k,null)):A&&(he(),U(A,1,1,()=>{A=null}),me())},i(d){S||(z(K.$$.fragment,d),z(T),z(A),S=!0)},o(d){U(K.$$.fragment,d),U(T),U(A),S=!1},d(d){f(l),f(t),f(s),f(a),f(b),f(E),f(m),f(c),f(i),f(h),f(y),f(V),f(j),d&&f(g),d&&f(D),d&&f(I),d&&f(k),N&&N.d(),R&&R.d(),L&&L.d(),ye(K),T&&T.d(),A&&A.d()}}}async function Rt({fetch:n,params:e}){const l=await n(`/notes/${e.slug}.json`).then(s=>s.json()),t=[];for(const s in l.internalLinks){const a=await n(`${l.internalLinks[s]}card.json`).then(o=>o.json());a?t.push(a):console.error(`Failed to load note preview data from linked note: ${l.internalLinks[s]}/card.json`)}return{props:Re(Ne({},l),{linkedNotes:t})}}function Mt(n,e,l){let{href:t}=e,{title:s}=e,{description:a}=e,{date:o}=e,{lastmod:b}=e,{image:E}=e,{html:m}=e,{status:c}=e,{statusIcon:i}=e,{linkedNotes:h}=e,{flashcards:y}=e,{timeToRead:V}=e;y&&y.forEach((g,D,I)=>{I[D]=Re(Ne({},g),{note:{href:t,title:s},index:D})});let j=new Date(Date.parse(o)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});const Z=new Date(Date.parse(b)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return n.$$set=g=>{"href"in g&&l(0,t=g.href),"title"in g&&l(1,s=g.title),"description"in g&&l(2,a=g.description),"date"in g&&l(3,o=g.date),"lastmod"in g&&l(4,b=g.lastmod),"image"in g&&l(5,E=g.image),"html"in g&&l(6,m=g.html),"status"in g&&l(7,c=g.status),"statusIcon"in g&&l(8,i=g.statusIcon),"linkedNotes"in g&&l(9,h=g.linkedNotes),"flashcards"in g&&l(10,y=g.flashcards),"timeToRead"in g&&l(11,V=g.timeToRead)},[t,s,a,o,b,E,m,c,i,h,y,V,j,Z]}class Lt extends pe{constructor(e){super(),ve(this,e,Mt,At,ge,{href:0,title:1,description:2,date:3,lastmod:4,image:5,html:6,status:7,statusIcon:8,linkedNotes:9,flashcards:10,timeToRead:11})}}export{Lt as default,Rt as load};
