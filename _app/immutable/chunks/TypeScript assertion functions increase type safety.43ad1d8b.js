import{s as _,C as m,a5 as U,f as y,a as C,I as N,g as A,u,c as F,K as x,i as t,A as I,d as k}from"./scheduler.73a07135.js";import{S as b,i as T,b as z,d as O,m as L,a as H,t as M,e as $}from"./index.ba10b74b.js";import{g as S,a as v}from"./spread.8a54911c.js";import{M as q}from"./MDSveXNoteLayout.bdefa7a6.js";function j(d){let s,r='When working with union types, I often want to narrow the type to something specific. One way to do this is using <a href="https://www.typescriptlang.org/docs/handbook/2/narrowing.html#assertion-functions" rel="nofollow">assertion functions</a> which assert that after theyâ€™ve been invoked, I can be certain that the type is what was asserted. The following assertion function will assert that a user is an admin:',p,i,n=`<pre class="shiki shiki-themes github-light slack-dark twoslash lsp" style="background-color:#fff;--shiki-dark-bg:#222222;color:#24292e;--shiki-dark:#E6E6E6" tabindex="0" ts twoslash highlight="[object Object]"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> assertIsAdmin</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">user</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> asserts</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> user</span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span></span></code></span>assertIsAdmin</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">user</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> AdminUser</span></span></code></span>user</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> User</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#9CDCFE">    role</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "user"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>NormalUser</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> User</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#9CDCFE">    role</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "admin"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>AdminUser</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> asserts</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> </span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">user</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> AdminUser</span></span></code></span>user</span></span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> User</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#9CDCFE">    role</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "admin"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>AdminUser</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C586C0">	if</span><span style="color:#24292E;--shiki-dark:#E6E6E6">( </span><span style="color:#032F62;--shiki-dark:#CE9178">"admin"</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> !==</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> </span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">user</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> AdminUser</span></span></code></span>user</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">.</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">role</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#032F62;--shiki-dark:#CE9178">"user"</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#032F62;--shiki-dark:#CE9178"> "admin"</span></span></code></span>role</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6"> ) </span><span style="color:#D73A49;--shiki-dark:#C586C0">throw</span><span style="color:#D73A49;--shiki-dark:#569CD6"> new</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">var</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> Error</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ErrorConstructor</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">new</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#E36209;--shiki-dark:#9CDCFE">message</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">?:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> undefined</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#E36209;--shiki-dark:#9CDCFE">options</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">?:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ErrorOptions</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> undefined</span><span style="color:#24292E;--shiki-dark:#E6E6E6">) </span><span style="color:#D73A49;--shiki-dark:#569CD6">=></span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> Error</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">+</span><span style="color:#005CC5;--shiki-dark:#B5CEA8">1</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> overload</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span></span></code></span>Error</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#032F62;--shiki-dark:#CE9178">"user is not an Admin"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A9955">// Notice the arrow function syntax here</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">const</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">const</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> assertIsAdmin2</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#E36209;--shiki-dark:#9CDCFE">user</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#24292E;--shiki-dark:#E6E6E6">) </span><span style="color:#D73A49;--shiki-dark:#569CD6">=></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> asserts</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> user</span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span></span></code></span>assertIsAdmin2</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">user</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> AdminUser</span></span></code></span>user</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> User</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#9CDCFE">    role</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "user"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>NormalUser</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> User</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#9CDCFE">    role</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "admin"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>AdminUser</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> asserts</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> </span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">user</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> AdminUser</span></span></code></span>user</span></span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> User</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#9CDCFE">    role</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "admin"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>AdminUser</span></span><span style="color:#D73A49;--shiki-dark:#569CD6"> =></span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C586C0">  if</span><span style="color:#24292E;--shiki-dark:#E6E6E6">( </span><span style="color:#032F62;--shiki-dark:#CE9178">"admin"</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> !==</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> </span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">user</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> AdminUser</span></span></code></span>user</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">.</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">role</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#032F62;--shiki-dark:#CE9178">"user"</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#032F62;--shiki-dark:#CE9178"> "admin"</span></span></code></span>role</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6"> ) </span><span style="color:#D73A49;--shiki-dark:#C586C0">throw</span><span style="color:#D73A49;--shiki-dark:#569CD6"> new</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">var</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> Error</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ErrorConstructor</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">new</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#E36209;--shiki-dark:#9CDCFE">message</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">?:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> undefined</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#E36209;--shiki-dark:#9CDCFE">options</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">?:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ErrorOptions</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> undefined</span><span style="color:#24292E;--shiki-dark:#E6E6E6">) </span><span style="color:#D73A49;--shiki-dark:#569CD6">=></span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> Error</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">+</span><span style="color:#005CC5;--shiki-dark:#B5CEA8">1</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> overload</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span></span></code></span>Error</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#032F62;--shiki-dark:#CE9178">"user is not an Admin"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> adminOnly</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">user</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> void</span></span></code></span>adminOnly</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">user</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> AdminUser</span></span></code></span>user</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> User</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#9CDCFE">    role</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "user"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>NormalUser</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> User</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#9CDCFE">    role</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "admin"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>AdminUser</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">)&#123;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#DCDCAA">  </span><span class="twoslash-error"><span style="color:#6F42C1;--shiki-dark:#DCDCAA">assertIsAdmin2</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">user</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> AdminUser</span></span></code></span>user</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">);</span></span><div class="twoslash-meta-line twoslash-error-line">Assertions require every name in the call target to be declared with an explicit type annotation.</div><span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> deleteOrganization</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">user</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#E36209;--shiki-dark:#9CDCFE">organizationId</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> void</span></span></code></span>deleteOrganization</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">user</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">AdminUser</span></span></code></span>user</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> User</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#9CDCFE">    role</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "admin"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>AdminUser</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">organizationId</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>organizationId</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)&#123;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A9955">  // ...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> attemptDeleteOrganization</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">user</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#E36209;--shiki-dark:#9CDCFE">organizationId</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> void</span></span></code></span>attemptDeleteOrganization</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">user</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> AdminUser</span></span></code></span>user</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> User</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#9CDCFE">    role</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "user"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>NormalUser</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> User</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#9CDCFE">    role</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "admin"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>AdminUser</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">organizationId</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>organizationId</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)&#123;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#DCDCAA">	</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> assertIsAdmin</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">user</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> asserts</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> user</span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span></span></code></span>assertIsAdmin</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">user</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">NormalUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> AdminUser</span></span></code></span>user</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#DCDCAA">	</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> deleteOrganization</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">user</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> AdminUser</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#E36209;--shiki-dark:#9CDCFE">organizationId</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> void</span></span></code></span>deleteOrganization</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover twoslash-query-presisted"><span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">user</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">AdminUser</span></span></code></span>user</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">organizationId</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>organizationId</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></pre>`,o,l,w="<code>assertIsAdmin</code> <em>asserts</em> that the <code>user</code> is an <code>AdminUser</code>. There are a couple things to note here:",h,c,f='<li>The <code>function</code> keyword is required. Notice that using <code>assertIsAdmin2</code>, the version with an arrow function, causes an error. This is because of an implementation detail of the compiler; <a href="https://github.com/microsoft/TypeScript/issues/56147#issuecomment-1768592995" rel="nofollow">the control flow graph is computed <em>before</em> type inferencing</a>.</li> <li>Any code that sits below a call to <code>assertIsAdmin</code> will have the type of <code>user</code> narrowed to <code>AdminUser</code>.</li>',D,E,B="At the bottom in <code>attemptDeleteOrganization</code>, you can see that <code>user</code>â€™s type has been narrowed to <code>AdminUser</code> after the call to <code>assertIsAdmin</code>.";return{c(){s=y("p"),s.innerHTML=r,p=C(),i=new N(!1),o=C(),l=y("p"),l.innerHTML=w,h=C(),c=y("ol"),c.innerHTML=f,D=C(),E=y("p"),E.innerHTML=B,this.h()},l(a){s=A(a,"P",{["data-svelte-h"]:!0}),u(s)!=="svelte-1d5e8gd"&&(s.innerHTML=r),p=F(a),i=x(a,!1),o=F(a),l=A(a,"P",{["data-svelte-h"]:!0}),u(l)!=="svelte-1ju18a3"&&(l.innerHTML=w),h=F(a),c=A(a,"OL",{["data-svelte-h"]:!0}),u(c)!=="svelte-qpynp2"&&(c.innerHTML=f),D=F(a),E=A(a,"P",{["data-svelte-h"]:!0}),u(E)!=="svelte-gy7ufp"&&(E.innerHTML=B),this.h()},h(){i.a=o},m(a,e){t(a,s,e),t(a,p,e),i.m(n,a,e),t(a,o,e),t(a,l,e),t(a,h,e),t(a,c,e),t(a,D,e),t(a,E,e)},p:I,d(a){a&&(k(s),k(p),i.d(),k(o),k(l),k(h),k(c),k(D),k(E))}}}function P(d){let s,r;const p=[d[0],g];let i={$$slots:{default:[j]},$$scope:{ctx:d}};for(let n=0;n<p.length;n+=1)i=m(i,p[n]);return s=new q({props:i}),{c(){z(s.$$.fragment)},l(n){O(s.$$.fragment,n)},m(n,o){L(s,n,o),r=!0},p(n,[o]){const l=o&1?S(p,[o&1&&v(n[0]),o&0&&v(g)]):{};o&2&&(l.$$scope={dirty:o,ctx:n}),s.$set(l)},i(n){r||(H(s.$$.fragment,n),r=!0)},o(n){M(s.$$.fragment,n),r=!1},d(n){$(s,n)}}}const g={title:"TypeScript assertion functions increase type safety",description:"Assertion functions let the programmer narrow types using a named function, making type narrowing much more readable.",slug:"assertion-functions",publish:!0,lastmod:"2024-02-16T00:00:00.000Z",date:"2024-02-16T00:00:00.000Z",aliases:null,tags:["status/seedling"],timeToRead:1,internalLinks:[],flashcards:[]};function Z(d,s,r){return d.$$set=p=>{r(0,s=m(m({},s),U(p)))},s=U(s),[s]}class G extends b{constructor(s){super(),T(this,s,Z,P,_,{})}}export{G as default,g as metadata};
