import{an as L,P as M,bk as q,a0 as x,aJ as E,aA as k,n as P,a2 as V,k as I,E as N,ak as _,v as B,bl as O,a9 as W}from"./dYMjUP6v.js";function X(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const j=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function K(e){return j.includes(e)}const z={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Q(e){return e=e.toLowerCase(),z[e]??e}const C=["touchstart","touchmove"];function Y(e){return C.includes(e)}const D=["textarea","script","style","title"];function Z(e){return D.includes(e)}const R=new Set,F=new Set;function $(e){if(!N)return;e.removeAttribute("onload"),e.removeAttribute("onerror");const t=e.__e;t!==void 0&&(e.__e=void 0,queueMicrotask(()=>{e.isConnected&&e.dispatchEvent(t)}))}function A(e,t,r,a={}){function s(n){if(a.capture||G.call(t,n),!n.cancelBubble)return q(()=>r==null?void 0:r.call(this,n))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?M(()=>{t.addEventListener(e,s,a)}):t.addEventListener(e,s,a),s}function ee(e,t,r,a={}){var s=A(t,e,r,a);return()=>{e.removeEventListener(t,s,a)}}function te(e,t,r,a,s){var n={capture:a,passive:s},l=A(e,t,r,n);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&L(()=>{t.removeEventListener(e,l,n)})}function re(e){for(var t=0;t<e.length;t++)R.add(e[t]);for(var r of F)r(e)}let T=null;function G(e){var w;var t=this,r=t.ownerDocument,a=e.type,s=((w=e.composedPath)==null?void 0:w.call(e))||[],n=s[0]||e.target;T=e;var l=0,o=T===e&&e.__root;if(o){var i=s.indexOf(o);if(i!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;i<=u&&(l=i)}if(n=s[l]||e.target,n!==t){x(e,"currentTarget",{configurable:!0,get(){return n||r}});var b=I,h=V;E(null),k(null);try{for(var d,v=[];n!==null;){var c=n.assignedSlot||n.parentNode||n.host||null;try{var f=n["__"+a];if(f!=null&&(!n.disabled||e.target===n))if(P(f)){var[y,...m]=f;y.apply(n,[e,...m])}else f.call(n,e)}catch(g){d?v.push(g):d=g}if(e.cancelBubble||c===t||c===null)break;n=c}if(d){for(let g of v)queueMicrotask(()=>{throw g});throw d}}finally{e.__root=t,delete e.currentTarget,E(b),k(h)}}}function S(e,t,r){if(e==null)return t(void 0),r&&r(void 0),_;const a=B(()=>e.subscribe(t,r));return a.unsubscribe?()=>a.unsubscribe():a}const p=[];function H(e,t){return{subscribe:J(e,t).subscribe}}function J(e,t=_){let r=null;const a=new Set;function s(o){if(O(e,o)&&(e=o,r)){const i=!p.length;for(const u of a)u[1](),p.push(u,e);if(i){for(let u=0;u<p.length;u+=2)p[u][0](p[u+1]);p.length=0}}}function n(o){s(o(e))}function l(o,i=_){const u=[o,i];return a.add(u),a.size===1&&(r=t(s,n)||_),o(e),()=>{a.delete(u),a.size===0&&r&&(r(),r=null)}}return{set:s,update:n,subscribe:l}}function ne(e,t,r){const a=!Array.isArray(e),s=a?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const n=t.length<2;return H(r,(l,o)=>{let i=!1;const u=[];let b=0,h=_;const d=()=>{if(b)return;h();const c=t(a?u[0]:u,l,o);n?l(c):h=typeof c=="function"?c:_},v=s.map((c,f)=>S(c,y=>{u[f]=y,b&=~(1<<f),i&&d()},()=>{b|=1<<f}));return i=!0,d(),function(){W(v),h(),i=!1}})}function ae(e){let t;return S(e,r=>t=r)(),t}export{R as a,Z as b,X as c,re as d,te as e,A as f,ae as g,G as h,Y as i,K as j,$ as k,ne as l,Q as n,ee as o,F as r,S as s,J as w};
