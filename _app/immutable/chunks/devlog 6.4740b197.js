import{s as Y,C as J,a5 as K,f as o,a as p,g as l,u as r,c as u,j as F,i as n,A as ee,d as i}from"./scheduler.7131e7f1.js";import{S as te,i as ae,b as ne,d as ie,m as se,a as oe,t as le,e as re}from"./index.9e889c2d.js";import{g as de,a as Q}from"./spread.8a54911c.js";import{M as he}from"./MDSveXNoteLayout.b7eee042.js";function pe(M){let t,m='<a aria-hidden="true" tabindex="-1" href="#allandeutschcom"><span class="icon icon-link"></span></a><a href="#allandeutschcom" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Allandeutsch.com',c,d,s='<a aria-hidden="true" tabindex="-1" href="#improving-how-markdown-based-pages-are-loaded"><span class="icon icon-link"></span></a><a href="#improving-how-markdown-based-pages-are-loaded" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Improving how markdown-based pages are loaded',h,f,N='A design decision I made years ago has recently started to haunt me. The decision was to have every page from my notes served on the route <code>https://allandeutsch.com/notes/{slug}/</code>. For a long time this wasn’t an issue, but recently I started writing weekly <a href="https://allandeutsch.com/devlog/" rel="nofollow">dev logs</a> like the one you are reading now! Since my devlogs are a periodical publication, I wanted them to stand alone in a separate place - <code>/devlog/{id}</code>. That was incompatible with the existing approach to publishing where notes lived under <code>/notes/{slug}/</code>. For the first couple couple weeks I manually copied over the devlogs into my site repo and while that worked fine, it left things to be desired. I had to manually update all the links, and I ended up finding a variety of other workarounds were needed to use functionality I’d already built for notes. It was finally time to improve my publishing pipeline to support more configurable page routes!',H,w,O="Now I can set a note’s slug to a nested route, such as <code>devlog/6</code> (this page!) and it goes through the normal note publishing pipeline with all my shiny features and gets published on the right URL! I also cleaned up the server code for getting from the slug of a requested page to the markdown file with its content. What used to be a brittle and buggy process has been smooth and reliable since the change went live.  Before I was loading up all the notes when the server started. That caused me headaches in a number of ways:",L,y,R="<li>If I updated a note after launching the dev server, I had to restart the server to render the new content. ick!</li> <li>My CICD pipeline recently started to ran out of RAM eagerly loading all my notes. I switched to a more serial approach to loading which fixed this.</li>",C,b,Z='The new approach will reload notes on request/change, which has been a much nicer dev experience for me. This has been great as I’ve been playing with some more advanced <a href="https://shiki.style/packages/twoslash#rendererrich" rel="nofollow">twoslash</a> features, like in <a href="/notes/identity-functions#providing-type-hints-to-api-consumers">Identity functions &gt; Providing type hints to API consumers</a>, where I show intellisense completion suggestions.',P,x,z="It took a couple days getting all my note routing changes up and running, but I’m thrilled I did. One giant leap towards open-sourcing the site code!",j,v,B='<a aria-hidden="true" tabindex="-1" href="#flexbox-reference-sheet"><span class="icon icon-link"></span></a><a href="#flexbox-reference-sheet" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Flexbox reference sheet',$,_,U='James and I built our own versions of the <a href="https://flexbox.malven.co" rel="nofollow">malven flexbox reference</a>. I had fun making <a href="https://allandeutsch.com/projects/flex/" rel="nofollow">a Tailwind version</a> and it was refreshing to work on a small project that is done at the end of the day. It was also a great first project for James, who set up a new remix project, added Tailwind to it, and got a ton of practice in arranging boxes.',A,T,W='A few years ago I started building my resume as a basic HTML web document and it’s been much better than a word doc. This week I moved it from a standalone project into my website, and now the web version of <a href="https://allandeutsch.com/resume/" rel="nofollow">my resume is on allandeutsch.com/resume</a>. I also updated the styles so it stays readable on mobile. Much easier to share a link to it now!',S,g,X='<a aria-hidden="true" tabindex="-1" href="#total-typescript"><span class="icon icon-link"></span></a><a href="#total-typescript" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Total TypeScript',q,I,E='This week I finished the unit on <a href="/notes/identity-functions">identity functions</a>. I find the way they are used to coerce the TypeScript compiler to infer more specific types is fascinating. The technique manifests in a variety of ways, and they are often behind the scenes of great TypeScript APIs.',D,k,G='I found <a href="/notes/total-typescript-notes#reverse-mapped-types">reverse mapped types</a> to be particularly fascinating.';return{c(){t=o("h2"),t.innerHTML=m,c=p(),d=o("h3"),d.innerHTML=s,h=p(),f=o("p"),f.innerHTML=N,H=p(),w=o("p"),w.innerHTML=O,L=p(),y=o("ol"),y.innerHTML=R,C=p(),b=o("p"),b.innerHTML=Z,P=p(),x=o("p"),x.textContent=z,j=p(),v=o("h3"),v.innerHTML=B,$=p(),_=o("p"),_.innerHTML=U,A=p(),T=o("p"),T.innerHTML=W,S=p(),g=o("h2"),g.innerHTML=X,q=p(),I=o("p"),I.innerHTML=E,D=p(),k=o("p"),k.innerHTML=G,this.h()},l(e){t=l(e,"H2",{id:!0,"data-svelte-h":!0}),r(t)!=="svelte-1bdscsw"&&(t.innerHTML=m),c=u(e),d=l(e,"H3",{id:!0,"data-svelte-h":!0}),r(d)!=="svelte-dl0qmp"&&(d.innerHTML=s),h=u(e),f=l(e,"P",{"data-svelte-h":!0}),r(f)!=="svelte-1gojoy0"&&(f.innerHTML=N),H=u(e),w=l(e,"P",{"data-svelte-h":!0}),r(w)!=="svelte-1od704r"&&(w.innerHTML=O),L=u(e),y=l(e,"OL",{"data-svelte-h":!0}),r(y)!=="svelte-14twctw"&&(y.innerHTML=R),C=u(e),b=l(e,"P",{"data-svelte-h":!0}),r(b)!=="svelte-1ezmckm"&&(b.innerHTML=Z),P=u(e),x=l(e,"P",{"data-svelte-h":!0}),r(x)!=="svelte-1iphfs7"&&(x.textContent=z),j=u(e),v=l(e,"H3",{id:!0,"data-svelte-h":!0}),r(v)!=="svelte-j2hqsq"&&(v.innerHTML=B),$=u(e),_=l(e,"P",{"data-svelte-h":!0}),r(_)!=="svelte-1pfvdrd"&&(_.innerHTML=U),A=u(e),T=l(e,"P",{"data-svelte-h":!0}),r(T)!=="svelte-gs0byk"&&(T.innerHTML=W),S=u(e),g=l(e,"H2",{id:!0,"data-svelte-h":!0}),r(g)!=="svelte-1bwwahh"&&(g.innerHTML=X),q=u(e),I=l(e,"P",{"data-svelte-h":!0}),r(I)!=="svelte-9f5k7b"&&(I.innerHTML=E),D=u(e),k=l(e,"P",{"data-svelte-h":!0}),r(k)!=="svelte-1njo641"&&(k.innerHTML=G),this.h()},h(){F(t,"id","allandeutschcom"),F(d,"id","improving-how-markdown-based-pages-are-loaded"),F(v,"id","flexbox-reference-sheet"),F(g,"id","total-typescript")},m(e,a){n(e,t,a),n(e,c,a),n(e,d,a),n(e,h,a),n(e,f,a),n(e,H,a),n(e,w,a),n(e,L,a),n(e,y,a),n(e,C,a),n(e,b,a),n(e,P,a),n(e,x,a),n(e,j,a),n(e,v,a),n(e,$,a),n(e,_,a),n(e,A,a),n(e,T,a),n(e,S,a),n(e,g,a),n(e,q,a),n(e,I,a),n(e,D,a),n(e,k,a)},p:ee,d(e){e&&(i(t),i(c),i(d),i(h),i(f),i(H),i(w),i(L),i(y),i(C),i(b),i(P),i(x),i(j),i(v),i($),i(_),i(A),i(T),i(S),i(g),i(q),i(I),i(D),i(k))}}}function ue(M){let t,m;const c=[M[0],V];let d={$$slots:{default:[pe]},$$scope:{ctx:M}};for(let s=0;s<c.length;s+=1)d=J(d,c[s]);return t=new he({props:d}),{c(){ne(t.$$.fragment)},l(s){ie(t.$$.fragment,s)},m(s,h){se(t,s,h),m=!0},p(s,[h]){const f=h&1?de(c,[h&1&&Q(s[0]),h&0&&Q(V)]):{};h&2&&(f.$$scope={dirty:h,ctx:s}),t.$set(f)},i(s){m||(oe(t.$$.fragment,s),m=!0)},o(s){le(t.$$.fragment,s),m=!1},d(s){re(t,s)}}}const V={title:'"devlog 6: a routing overhaul!"',description:"A major overhaul to routing on this site! Plus TS identity functions, reference sheets, and my resume!",slug:"devlog/6",publish:!0,lastmod:"2024-05-19T00:00:00.000Z",date:"2024-05-15T00:00:00.000Z",aliases:null,tags:["status/seedling"],readTime:5,internalLinks:["/notes/identity-functions#providing-type-hints-to-api-consumers","/notes/identity-functions","/notes/total-typescript-notes#reverse-mapped-types"],flashcards:[]};function ce(M,t,m){return M.$$set=c=>{m(0,t=J(J({},t),K(c)))},t=K(t),[t]}class we extends te{constructor(t){super(),ae(this,t,ce,ue,Y,{})}}export{we as default,V as metadata};
