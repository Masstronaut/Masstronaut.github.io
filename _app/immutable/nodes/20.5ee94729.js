import{L as Yt,a as xt,N as te}from"../chunks/LoadNote.4db85160.js";import{H as ee}from"../chunks/control.c2cf8273.js";import{s as ae,q as Kt,f as u,a as T,l as S,J as ne,g as m,u as st,d as s,c as w,h as M,m as H,j as t,M as Wt,P as le,v as r,i as E,n as It,H as se,o as re,A as oe}from"../chunks/scheduler.e9e6880c.js";import{S as ie,i as ce,b as Lt,d as Zt,m as Ct,t as rt,c as Qt,a as et,e as Nt,g as Gt}from"../chunks/index.ebf47752.js";import{p as ue}from"../chunks/stores.4c67cb12.js";import"../chunks/paths.28196719.js";/* empty css                          */function me(a,l){return new ee(a,l)}new TextEncoder;const de=async({params:a})=>{console.log(`Rendering page ${a.slug}`);let l=await Yt({slug:a.slug});if(!l.success)throw console.log("Failed to load it successfully. Trying alternative approach..."),me(404,`Could not find the requested note: '${a.slug}'`);const i={content:l.content,meta:l.metadata,linkedNotes:[]};if(l.metadata.internalLinks.length===0)return i;const c=l.metadata.internalLinks.map(o=>o.slice(7,-1));return i.linkedNotes=(await xt).filter(o=>c.includes(o.slug)),i},Ee=Object.freeze(Object.defineProperty({__proto__:null,load:de},Symbol.toStringTag,{value:"Module"}));function Dt(a){const l=a.slice(),i=l[0].meta.readTime;return l[6]=i,l}function Ut(a){let l,i,c,o;return{c(){l=u("br"),i=S("Last tended "),c=S(a[3]),o=S(".")},l(d){l=m(d,"BR",{}),i=H(d,"Last tended "),c=H(d,a[3]),o=H(d,".")},m(d,$){E(d,l,$),E(d,i,$),E(d,c,$),E(d,o,$)},p:oe,d(d){d&&(s(l),s(i),s(c),s(o))}}}function Xt(a){let l,i=`${a[6]} ${a[6]>1?"minutes":"minute"} read ‚è±`,c;return{c(){l=u("div"),c=S(i)},l(o){l=m(o,"DIV",{});var d=M(l);c=H(d,i),d.forEach(s)},m(o,d){E(o,l,d),r(l,c)},p(o,d){d&1&&i!==(i=`${o[6]} ${o[6]>1?"minutes":"minute"} read ‚è±`)&&It(c,i)},d(o){o&&s(l)}}}function Jt(a){let l,i;return l=new te({props:{notes:a[0].linkedNotes,title:"Linked notes",showFilters:!1}}),{c(){Lt(l.$$.fragment)},l(c){Zt(l.$$.fragment,c)},m(c,o){Ct(l,c,o),i=!0},p(c,o){const d={};o&1&&(d.notes=c[0].linkedNotes),l.$set(d)},i(c){i||(et(l.$$.fragment,c),i=!0)},o(c){rt(l.$$.fragment,c),i=!1},d(c){Nt(l,c)}}}function pe(a){var Ot;let l,i,c,o,d,$,D,I,P,ot,W,Q,G,F,it,V,ct,U,X,R,ut,k,jt="",St,_,Ht="",Pt,mt,J,dt,g,C,Z,at=a[0].meta.title+"",pt,$t,N,A,q,Ft="üå±",O,Vt=`Planted
				`,bt,Et,Tt,L,z,nt=`${a[0].meta.status} ${a[0].meta.statusIcon??""}`,ft,_t,wt,kt,At,p,ht,lt,Mt,B,Rt=`<p>If you&#39;re feeling extra generous, you can show your support by buying me a
			coffee with the button in the bottom right corner of the page.</p> <div class="divider"></div>`,vt,Y,j,y;document.title=l=a[0].meta.title+" - Allan Deutsch";let h=a[0].meta.lastmod&&a[0].meta.lastmod!==a[0].meta.date&&Ut(a),v=a[0].meta.readTime&&Xt(Dt(a));var x=a[0].content;function qt(e,n){return{}}x&&(p=Kt(x,qt()));let f=((Ot=a[0].linkedNotes)==null?void 0:Ot.length)&&Jt(a);return{c(){i=u("meta"),o=u("meta"),$=u("meta"),D=u("meta"),P=u("meta"),W=u("meta"),Q=u("meta"),G=u("meta"),F=u("meta"),V=u("meta"),U=u("meta"),X=u("meta"),R=u("link"),k=u("script"),k.innerHTML=jt,_=u("script"),_.innerHTML=Ht,mt=T(),J=u("pi-select"),dt=T(),g=u("article"),C=u("header"),Z=u("h1"),pt=S(at),$t=T(),N=u("div"),A=u("div"),q=u("span"),q.textContent=Ft,O=u("span"),O.textContent=Vt,bt=S(a[2]),Et=S(`.
				`),h&&h.c(),Tt=T(),L=u("div"),z=u("div"),ft=S(nt),wt=T(),v&&v.c(),kt=T(),At=T(),p&&Lt(p.$$.fragment),ht=T(),lt=u("div"),Mt=T(),B=u("aside"),B.innerHTML=Rt,vt=T(),f&&f.c(),Y=T(),j=u("link"),this.h()},l(e){const n=ne("svelte-1rm6mzl",document.head);i=m(n,"META",{name:!0,content:!0}),o=m(n,"META",{property:!0,content:!0}),$=m(n,"META",{property:!0,content:!0}),D=m(n,"META",{property:!0,content:!0}),P=m(n,"META",{property:!0,content:!0}),W=m(n,"META",{property:!0,content:!0}),Q=m(n,"META",{property:!0,content:!0}),G=m(n,"META",{property:!0,content:!0}),F=m(n,"META",{property:!0,content:!0}),V=m(n,"META",{property:!0,content:!0}),U=m(n,"META",{property:!0,content:!0}),X=m(n,"META",{property:!0,content:!0}),R=m(n,"LINK",{rel:!0,href:!0}),k=m(n,"SCRIPT",{type:!0,src:!0,"data-svelte-h":!0}),st(k)!=="svelte-1qfon0b"&&(k.innerHTML=jt),_=m(n,"SCRIPT",{"data-name":!0,"data-cfasync":!0,src:!0,"data-id":!0,"data-description":!0,"data-message":!0,"data-color":!0,"data-position":!0,"data-x_margin":!0,"data-y_margin":!0,"data-svelte-h":!0}),st(_)!=="svelte-bv2cpr"&&(_.innerHTML=Ht),n.forEach(s),mt=w(e),J=m(e,"PI-SELECT",{team:!0}),M(J).forEach(s),dt=w(e),g=m(e,"ARTICLE",{class:!0});var b=M(g);C=m(b,"HEADER",{class:!0});var K=M(C);Z=m(K,"H1",{class:!0});var zt=M(Z);pt=H(zt,at),zt.forEach(s),$t=w(K),N=m(K,"DIV",{class:!0});var gt=M(N);A=m(gt,"DIV",{});var tt=M(A);q=m(tt,"SPAN",{class:!0,"data-svelte-h":!0}),st(q)!=="svelte-114jejz"&&(q.textContent=Ft),O=m(tt,"SPAN",{class:!0,"data-svelte-h":!0}),st(O)!=="svelte-1psjisz"&&(O.textContent=Vt),bt=H(tt,a[2]),Et=H(tt,`.
				`),h&&h.l(tt),tt.forEach(s),Tt=w(gt),L=m(gt,"DIV",{class:!0});var yt=M(L);z=m(yt,"DIV",{class:!0});var Bt=M(z);ft=H(Bt,nt),Bt.forEach(s),wt=w(yt),v&&v.l(yt),yt.forEach(s),gt.forEach(s),K.forEach(s),kt=w(b),At=w(b),p&&Zt(p.$$.fragment,b),ht=w(b),lt=m(b,"DIV",{class:!0}),M(lt).forEach(s),Mt=w(b),B=m(b,"ASIDE",{class:!0,"data-svelte-h":!0}),st(B)!=="svelte-1w3uusp"&&(B.innerHTML=Rt),b.forEach(s),vt=w(e),f&&f.l(e),Y=w(e),j=m(e,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),this.h()},h(){t(i,"name","description"),t(i,"content",c=a[0].meta.description),t(o,"property","og:title"),t(o,"content",d=a[0].meta.title),t($,"property","og:type"),t($,"content","article"),t(D,"property","og:url"),t(D,"content",I=`https://allandeutsch.com/notes/${a[1].params.slug}`),t(P,"property","og:description"),t(P,"content",ot=a[0].meta.description),t(W,"property","og:locale"),t(W,"content","en_US"),t(Q,"property","twitter:card"),t(Q,"content","summary"),t(G,"property","twitter:url"),t(G,"content","https://allandeutsch.com"),t(F,"property","twitter:title"),t(F,"content",it=a[0].meta.title),t(V,"property","twitter:description"),t(V,"content",ct=a[0].meta.description),t(U,"property","twitter:site"),t(U,"content","@AllanDeutsch"),t(X,"property","twitter:creator"),t(X,"content","@AllanDeutsch"),t(R,"rel","canonical"),t(R,"href",ut=`https://allandeutsch.com/notes/${a[1].params.slug}`),t(k,"type","module"),Wt(k.src,St="https://docduck.dev/selection.js")||t(k,"src",St),t(_,"data-name","BMC-Widget"),t(_,"data-cfasync","false"),Wt(_.src,Pt="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js")||t(_,"src",Pt),t(_,"data-id","AllanDeutsch"),t(_,"data-description","Support me on Buy me a coffee!"),t(_,"data-message",""),t(_,"data-color","#5F7FFF"),t(_,"data-position","Right"),t(_,"data-x_margin","18"),t(_,"data-y_margin","18"),le(J,"team","TKxfdiO22xOXIrW0c0Pfi"),t(Z,"class","mb-8 text-left text-4xl font-bold"),t(q,"class","pr-2"),t(O,"class","hidden sm:inline"),t(z,"class",_t="note__status "+a[0].meta.status+" svelte-9iyp28"),t(L,"class","flex flex-col items-end"),t(N,"class","text-md mb-12 mt-4 flex justify-between border-t border-t-neutral border-opacity-20 pt-1 text-base-content"),t(C,"class","w-full max-w-3xl self-center"),t(lt,"class","divider"),t(B,"class","prose"),t(g,"class","note-container prose mb-8 max-w-full px-2 svelte-9iyp28"),t(j,"rel","stylesheet"),t(j,"href","https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css"),t(j,"integrity","sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB"),t(j,"crossorigin","anonymous")},m(e,n){r(document.head,i),r(document.head,o),r(document.head,$),r(document.head,D),r(document.head,P),r(document.head,W),r(document.head,Q),r(document.head,G),r(document.head,F),r(document.head,V),r(document.head,U),r(document.head,X),r(document.head,R),r(document.head,k),r(document.head,_),E(e,mt,n),E(e,J,n),E(e,dt,n),E(e,g,n),r(g,C),r(C,Z),r(Z,pt),r(C,$t),r(C,N),r(N,A),r(A,q),r(A,O),r(A,bt),r(A,Et),h&&h.m(A,null),r(N,Tt),r(N,L),r(L,z),r(z,ft),r(L,wt),v&&v.m(L,null),r(g,kt),r(g,At),p&&Ct(p,g,null),r(g,ht),r(g,lt),r(g,Mt),r(g,B),E(e,vt,n),f&&f.m(e,n),E(e,Y,n),E(e,j,n),y=!0},p(e,[n]){var b;if((!y||n&1)&&l!==(l=e[0].meta.title+" - Allan Deutsch")&&(document.title=l),(!y||n&1&&c!==(c=e[0].meta.description))&&t(i,"content",c),(!y||n&1&&d!==(d=e[0].meta.title))&&t(o,"content",d),(!y||n&2&&I!==(I=`https://allandeutsch.com/notes/${e[1].params.slug}`))&&t(D,"content",I),(!y||n&1&&ot!==(ot=e[0].meta.description))&&t(P,"content",ot),(!y||n&1&&it!==(it=e[0].meta.title))&&t(F,"content",it),(!y||n&1&&ct!==(ct=e[0].meta.description))&&t(V,"content",ct),(!y||n&2&&ut!==(ut=`https://allandeutsch.com/notes/${e[1].params.slug}`))&&t(R,"href",ut),(!y||n&1)&&at!==(at=e[0].meta.title+"")&&It(pt,at),e[0].meta.lastmod&&e[0].meta.lastmod!==e[0].meta.date?h?h.p(e,n):(h=Ut(e),h.c(),h.m(A,null)):h&&(h.d(1),h=null),(!y||n&1)&&nt!==(nt=`${e[0].meta.status} ${e[0].meta.statusIcon??""}`)&&It(ft,nt),(!y||n&1&&_t!==(_t="note__status "+e[0].meta.status+" svelte-9iyp28"))&&t(z,"class",_t),e[0].meta.readTime?v?v.p(Dt(e),n):(v=Xt(Dt(e)),v.c(),v.m(L,null)):v&&(v.d(1),v=null),n&1&&x!==(x=e[0].content)){if(p){Gt();const K=p;rt(K.$$.fragment,1,0,()=>{Nt(K,1)}),Qt()}x?(p=Kt(x,qt()),Lt(p.$$.fragment),et(p.$$.fragment,1),Ct(p,g,ht)):p=null}(b=e[0].linkedNotes)!=null&&b.length?f?(f.p(e,n),n&1&&et(f,1)):(f=Jt(e),f.c(),et(f,1),f.m(Y.parentNode,Y)):f&&(Gt(),rt(f,1,1,()=>{f=null}),Qt())},i(e){y||(p&&et(p.$$.fragment,e),et(f),y=!0)},o(e){p&&rt(p.$$.fragment,e),rt(f),y=!1},d(e){e&&(s(mt),s(J),s(dt),s(g),s(vt),s(Y),s(j)),s(i),s(o),s($),s(D),s(P),s(W),s(Q),s(G),s(F),s(V),s(U),s(X),s(R),s(k),s(_),h&&h.d(),v&&v.d(),p&&Nt(p),f&&f.d(e)}}}function fe(a,l,i){let c;se(a,ue,I=>i(1,c=I));let{data:o}=l;const d=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}),$=d.format(new Date(Date.parse(o.meta.date))),D=d.format(new Date(Date.parse(o.meta.lastmod)));return re(()=>{}),a.$$set=I=>{"data"in I&&i(0,o=I.data)},[o,c,$,D]}class Te extends ie{constructor(l){super(),ce(this,l,fe,pe,ae,{data:0})}}export{Te as component,Ee as universal};
