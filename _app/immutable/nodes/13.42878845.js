import{L as Wt,a as Kt,N as te}from"../chunks/LoadNote.9251749c.js";import{H as ee}from"../chunks/control.f5b05b5f.js";import{s as ae,q as zt,f as u,a as b,l as S,I as ne,g as m,u as st,d as s,c as E,h as A,m as H,j as t,K as Gt,M as le,v as r,i as $,n as Qt,H as se,A as Yt}from"../chunks/scheduler.5beeadad.js";import{S as oe,i as re,b as Mt,d as xt,m as Lt,t as ot,c as Ut,a as et,e as Ct,g as Xt}from"../chunks/index.bfd99307.js";import{p as ie}from"../chunks/stores.dff87bc5.js";import"../chunks/paths.9a8d7c90.js";function It(n,l){return new ee(n,l)}new TextEncoder;const ce=async({params:n})=>{console.log(`Rendering page ${n.slug}`);let l=await Wt({slug:n.slug});if(!l.success){const o=(await Kt).find(v=>v.slug===n.slug);if(!o||!o.filename||!o.filename.endsWith(".md"))throw It(404,`Could not find the requested note: '${n.slug}'`);const c=await Wt({slug:o.filename.slice(0,-3)});if(!c.success)throw It(500,`Could not load note '${n.slug}' with filename '${o.filename}'`);l=c}const d={content:l.content,meta:l.metadata,linkedNotes:[]};if(!l.success)throw It(500,`Failed to load note '${n.slug}'.`);if(l.metadata.internalLinks.length===0)return d;const i=l.metadata.internalLinks.map(o=>o.slice(7,-1));return d.linkedNotes=(await Kt).filter(o=>i.includes(o.slug)),d},we=Object.freeze(Object.defineProperty({__proto__:null,load:ce},Symbol.toStringTag,{value:"Module"}));function Zt(n){let l,d,i,o;return{c(){l=u("br"),d=S("Last tended "),i=S(n[3]),o=S(".")},l(c){l=m(c,"BR",{}),d=H(c,"Last tended "),i=H(c,n[3]),o=H(c,".")},m(c,v){$(c,l,v),$(c,d,v),$(c,i,v),$(c,o,v)},p:Yt,d(c){c&&(s(l),s(d),s(i),s(o))}}}function ue(n){let l,d=`${de} minute read ‚è±`,i;return{c(){l=u("div"),i=S(d)},l(o){l=m(o,"DIV",{});var c=A(l);i=H(c,d),c.forEach(s)},m(o,c){$(o,l,c),r(l,i)},p:Yt,d(o){o&&s(l)}}}function Jt(n){let l,d;return l=new te({props:{notes:n[0].linkedNotes,title:"Linked notes",showFilters:!1}}),{c(){Mt(l.$$.fragment)},l(i){xt(l.$$.fragment,i)},m(i,o){Lt(l,i,o),d=!0},p(i,o){const c={};o&1&&(c.notes=i[0].linkedNotes),l.$set(c)},i(i){d||(et(l.$$.fragment,i),d=!0)},o(i){ot(l.$$.fragment,i),d=!1},d(i){Ct(l,i)}}}function me(n){var qt;let l,d,i,o,c,v,D,I,F,rt,z,G,Q,P,it,R,ct,U,X,V,ut,T,Nt="",jt,_,St="",Ht,mt,Z,dt,g,L,J,at=n[0].meta.title+"",pt,wt,C,k,q,Ft="üå±",B,Pt=`Planted
				`,$t,bt,Et,N,O,nt=`${n[0].meta.status} ${n[0].meta.statusIcon??""}`,ft,_t,Tt,kt,At,p,ht,lt,Dt,W,Rt=`<p>If you&#39;re feeling extra generous, you can show your support by buying me a
			coffee with the button in the bottom right corner of the page.</p> <div class="divider"></div>`,vt,Y,j,y;document.title=l=n[0].meta.title+" - Allan Deutsch";let h=n[0].meta.lastmod&&n[0].meta.lastmod!==n[0].meta.date&&Zt(n),M=ue();var x=n[0].content;function Vt(e,a){return{}}x&&(p=zt(x,Vt()));let f=((qt=n[0].linkedNotes)==null?void 0:qt.length)&&Jt(n);return{c(){d=u("meta"),o=u("meta"),v=u("meta"),D=u("meta"),F=u("meta"),z=u("meta"),G=u("meta"),Q=u("meta"),P=u("meta"),R=u("meta"),U=u("meta"),X=u("meta"),V=u("link"),T=u("script"),T.innerHTML=Nt,_=u("script"),_.innerHTML=St,mt=b(),Z=u("pi-widget"),dt=b(),g=u("article"),L=u("header"),J=u("h1"),pt=S(at),wt=b(),C=u("div"),k=u("div"),q=u("span"),q.textContent=Ft,B=u("span"),B.textContent=Pt,$t=S(n[2]),bt=S(`.
				`),h&&h.c(),Et=b(),N=u("div"),O=u("div"),ft=S(nt),Tt=b(),M&&M.c(),kt=b(),At=b(),p&&Mt(p.$$.fragment),ht=b(),lt=u("div"),Dt=b(),W=u("aside"),W.innerHTML=Rt,vt=b(),f&&f.c(),Y=b(),j=u("link"),this.h()},l(e){const a=ne("svelte-1jpu5mq",document.head);d=m(a,"META",{name:!0,content:!0}),o=m(a,"META",{property:!0,content:!0}),v=m(a,"META",{property:!0,content:!0}),D=m(a,"META",{property:!0,content:!0}),F=m(a,"META",{property:!0,content:!0}),z=m(a,"META",{property:!0,content:!0}),G=m(a,"META",{property:!0,content:!0}),Q=m(a,"META",{property:!0,content:!0}),P=m(a,"META",{property:!0,content:!0}),R=m(a,"META",{property:!0,content:!0}),U=m(a,"META",{property:!0,content:!0}),X=m(a,"META",{property:!0,content:!0}),V=m(a,"LINK",{rel:!0,href:!0}),T=m(a,"SCRIPT",{type:!0,src:!0,["data-svelte-h"]:!0}),st(T)!=="svelte-1q73puk"&&(T.innerHTML=Nt),_=m(a,"SCRIPT",{"data-name":!0,"data-cfasync":!0,src:!0,"data-id":!0,"data-description":!0,"data-message":!0,"data-color":!0,"data-position":!0,"data-x_margin":!0,"data-y_margin":!0,["data-svelte-h"]:!0}),st(_)!=="svelte-bv2cpr"&&(_.innerHTML=St),a.forEach(s),mt=E(e),Z=m(e,"PI-WIDGET",{teamid:!0}),A(Z).forEach(s),dt=E(e),g=m(e,"ARTICLE",{class:!0});var w=A(g);L=m(w,"HEADER",{class:!0});var K=A(L);J=m(K,"H1",{class:!0});var Bt=A(J);pt=H(Bt,at),Bt.forEach(s),wt=E(K),C=m(K,"DIV",{class:!0});var gt=A(C);k=m(gt,"DIV",{});var tt=A(k);q=m(tt,"SPAN",{class:!0,["data-svelte-h"]:!0}),st(q)!=="svelte-114jejz"&&(q.textContent=Ft),B=m(tt,"SPAN",{class:!0,["data-svelte-h"]:!0}),st(B)!=="svelte-1psjisz"&&(B.textContent=Pt),$t=H(tt,n[2]),bt=H(tt,`.
				`),h&&h.l(tt),tt.forEach(s),Et=E(gt),N=m(gt,"DIV",{class:!0});var yt=A(N);O=m(yt,"DIV",{class:!0});var Ot=A(O);ft=H(Ot,nt),Ot.forEach(s),Tt=E(yt),M&&M.l(yt),yt.forEach(s),gt.forEach(s),K.forEach(s),kt=E(w),At=E(w),p&&xt(p.$$.fragment,w),ht=E(w),lt=m(w,"DIV",{class:!0}),A(lt).forEach(s),Dt=E(w),W=m(w,"ASIDE",{class:!0,["data-svelte-h"]:!0}),st(W)!=="svelte-1w3uusp"&&(W.innerHTML=Rt),w.forEach(s),vt=E(e),f&&f.l(e),Y=E(e),j=m(e,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),this.h()},h(){t(d,"name","description"),t(d,"content",i=n[0].meta.description),t(o,"property","og:title"),t(o,"content",c=n[0].meta.title),t(v,"property","og:type"),t(v,"content","article"),t(D,"property","og:url"),t(D,"content",I=`https://allandeutsch.com/notes/${n[1].params.slug}`),t(F,"property","og:description"),t(F,"content",rt=n[0].meta.description),t(z,"property","og:locale"),t(z,"content","en_US"),t(G,"property","twitter:card"),t(G,"content","summary"),t(Q,"property","twitter:url"),t(Q,"content","https://allandeutsch.com"),t(P,"property","twitter:title"),t(P,"content",it=n[0].meta.title),t(R,"property","twitter:description"),t(R,"content",ct=n[0].meta.description),t(U,"property","twitter:site"),t(U,"content","@AllanDeutsch"),t(X,"property","twitter:creator"),t(X,"content","@AllanDeutsch"),t(V,"rel","canonical"),t(V,"href",ut=`https://allandeutsch.com/notes/${n[1].params.slug}`),t(T,"type","module"),Gt(T.src,jt="https://www.penguinsight.com/selection.js")||t(T,"src",jt),t(_,"data-name","BMC-Widget"),t(_,"data-cfasync","false"),Gt(_.src,Ht="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js")||t(_,"src",Ht),t(_,"data-id","AllanDeutsch"),t(_,"data-description","Support me on Buy me a coffee!"),t(_,"data-message",""),t(_,"data-color","#5F7FFF"),t(_,"data-position","Right"),t(_,"data-x_margin","18"),t(_,"data-y_margin","18"),le(Z,"teamid","TKxfdiO22xOXIrW0c0Pfi"),t(J,"class","mb-8 text-left text-4xl font-bold"),t(q,"class","pr-2"),t(B,"class","hidden sm:inline"),t(O,"class",_t="note__status "+n[0].meta.status+" svelte-564mcj"),t(N,"class","flex flex-col items-end"),t(C,"class","text-md mb-12 mt-4 flex justify-between border-t border-t-neutral border-opacity-20 pt-1 text-base-content"),t(L,"class","w-full max-w-3xl self-center"),t(lt,"class","divider"),t(W,"class","prose"),t(g,"class","note-container prose mb-8 max-w-full svelte-564mcj"),t(j,"rel","stylesheet"),t(j,"href","https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css"),t(j,"integrity","sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB"),t(j,"crossorigin","anonymous")},m(e,a){r(document.head,d),r(document.head,o),r(document.head,v),r(document.head,D),r(document.head,F),r(document.head,z),r(document.head,G),r(document.head,Q),r(document.head,P),r(document.head,R),r(document.head,U),r(document.head,X),r(document.head,V),r(document.head,T),r(document.head,_),$(e,mt,a),$(e,Z,a),$(e,dt,a),$(e,g,a),r(g,L),r(L,J),r(J,pt),r(L,wt),r(L,C),r(C,k),r(k,q),r(k,B),r(k,$t),r(k,bt),h&&h.m(k,null),r(C,Et),r(C,N),r(N,O),r(O,ft),r(N,Tt),M&&M.m(N,null),r(g,kt),r(g,At),p&&Lt(p,g,null),r(g,ht),r(g,lt),r(g,Dt),r(g,W),$(e,vt,a),f&&f.m(e,a),$(e,Y,a),$(e,j,a),y=!0},p(e,[a]){var w;if((!y||a&1)&&l!==(l=e[0].meta.title+" - Allan Deutsch")&&(document.title=l),(!y||a&1&&i!==(i=e[0].meta.description))&&t(d,"content",i),(!y||a&1&&c!==(c=e[0].meta.title))&&t(o,"content",c),(!y||a&2&&I!==(I=`https://allandeutsch.com/notes/${e[1].params.slug}`))&&t(D,"content",I),(!y||a&1&&rt!==(rt=e[0].meta.description))&&t(F,"content",rt),(!y||a&1&&it!==(it=e[0].meta.title))&&t(P,"content",it),(!y||a&1&&ct!==(ct=e[0].meta.description))&&t(R,"content",ct),(!y||a&2&&ut!==(ut=`https://allandeutsch.com/notes/${e[1].params.slug}`))&&t(V,"href",ut),(!y||a&1)&&at!==(at=e[0].meta.title+"")&&Qt(pt,at),e[0].meta.lastmod&&e[0].meta.lastmod!==e[0].meta.date?h?h.p(e,a):(h=Zt(e),h.c(),h.m(k,null)):h&&(h.d(1),h=null),(!y||a&1)&&nt!==(nt=`${e[0].meta.status} ${e[0].meta.statusIcon??""}`)&&Qt(ft,nt),(!y||a&1&&_t!==(_t="note__status "+e[0].meta.status+" svelte-564mcj"))&&t(O,"class",_t),M.p(e,a),a&1&&x!==(x=e[0].content)){if(p){Xt();const K=p;ot(K.$$.fragment,1,0,()=>{Ct(K,1)}),Ut()}x?(p=zt(x,Vt()),Mt(p.$$.fragment),et(p.$$.fragment,1),Lt(p,g,ht)):p=null}(w=e[0].linkedNotes)!=null&&w.length?f?(f.p(e,a),a&1&&et(f,1)):(f=Jt(e),f.c(),et(f,1),f.m(Y.parentNode,Y)):f&&(Xt(),ot(f,1,1,()=>{f=null}),Ut())},i(e){y||(p&&et(p.$$.fragment,e),et(f),y=!0)},o(e){p&&ot(p.$$.fragment,e),ot(f),y=!1},d(e){e&&(s(mt),s(Z),s(dt),s(g),s(vt),s(Y),s(j)),s(d),s(o),s(v),s(D),s(F),s(z),s(G),s(Q),s(P),s(R),s(U),s(X),s(V),s(T),s(_),h&&h.d(),M&&M.d(),p&&Ct(p),f&&f.d(e)}}}const de=1;function pe(n,l,d){let i;se(n,ie,I=>d(1,i=I));let{data:o}=l;const c=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}),v=c.format(new Date(Date.parse(o.meta.date))),D=c.format(new Date(Date.parse(o.meta.lastmod)));return n.$$set=I=>{"data"in I&&d(0,o=I.data)},[o,i,v,D]}class $e extends oe{constructor(l){super(),re(this,l,pe,me,ae,{data:0})}}export{$e as component,we as universal};
