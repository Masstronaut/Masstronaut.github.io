import{H as Ht}from"../chunks/control.f5b05b5f.js";import{L as Nt,a as It,N as Pt}from"../chunks/LoadNote.2a2249ec.js";import{s as qt,q as Mt,f as u,a as L,l as k,I as Bt,g as d,d as s,c as j,h as C,m as A,u as Ot,j as t,v as r,i as y,n as Lt,H as Rt,A as Ft}from"../chunks/scheduler.7dca22b3.js";import{S as Kt,i as Qt,b as yt,d as zt,m as wt,t as x,c as jt,a as Z,e as Et,g as Ct}from"../chunks/index.4240f835.js";import{p as Wt}from"../chunks/stores.58758e34.js";import"../chunks/paths.9cf15a00.js";function $t(n,a){return new Ht(n,a)}new TextEncoder;const Gt=async({params:n})=>{let a=await Nt({slug:n.slug});if(!a.success){const o=It.find(h=>h.slug===n.slug);if(!o||!o.filename||!o.filename.endsWith(".md"))throw $t(404,`Could not find the requested note: '${n.slug}'`);const m=await Nt({slug:o.filename.slice(0,-3)});if(!m.success)throw $t(500,`Could not load note '${n.slug}' with filename '${o.filename}'`);a=m}const c={content:a.content,meta:a.metadata,linkedNotes:[]};if(!a.success)throw $t(500,`Failed to load note '${n.slug}'.`);if(a.metadata.internalLinks.length===0)return c;const i=a.metadata.internalLinks.map(o=>o.slice(7,-1));return c.linkedNotes=It.filter(o=>i.includes(o.slug)),c},le=Object.freeze(Object.defineProperty({__proto__:null,load:Gt},Symbol.toStringTag,{value:"Module"}));function St(n){let a,c,i,o;return{c(){a=u("br"),c=k("Last tended "),i=k(n[3]),o=k(".")},l(m){a=d(m,"BR",{}),c=A(m,"Last tended "),i=A(m,n[3]),o=A(m,".")},m(m,h){y(m,a,h),y(m,c,h),y(m,i,h),y(m,o,h)},p:Ft,d(m){m&&(s(a),s(c),s(i),s(o))}}}function Ut(n){let a,c=`${Zt} minute read ⏱`,i;return{c(){a=u("div"),i=k(c)},l(o){a=d(o,"DIV",{});var m=C(a);i=A(m,c),m.forEach(s)},m(o,m){y(o,a,m),r(a,i)},p:Ft,d(o){o&&s(a)}}}function Vt(n){let a,c;return a=new Pt({props:{notes:n[0].linkedNotes,title:"Linked notes",showFilters:!1}}),{c(){yt(a.$$.fragment)},l(i){zt(a.$$.fragment,i)},m(i,o){wt(a,i,o),c=!0},p(i,o){const m={};o&1&&(m.notes=i[0].linkedNotes),a.$set(m)},i(i){c||(Z(a.$$.fragment,i),c=!0)},o(i){x(a.$$.fragment,i),c=!1},d(i){Et(a,i)}}}function Xt(n){var At;let a,c,i,o,m,h,w,E,S,tt,B,O,R,V,et,F,nt,K,Q,z,at,lt,g,D,W,J=n[0].meta.title+"",ot,ut,T,$,H,bt="🌱",dt,ft,pt,_t,N,P,Y=`${n[0].meta.status} ${n[0].meta.statusIcon??""}`,st,rt,ht,vt,gt,f,it,G,I,v;document.title=a=n[0].meta.title+" - Allan Deutsch";let _=n[0].meta.lastmod&&n[0].meta.lastmod!==n[0].meta.date&&St(n),b=Ut();var U=n[0].content;function kt(e,l){return{}}U&&(f=Mt(U,kt()));let p=((At=n[0].linkedNotes)==null?void 0:At.length)&&Vt(n);return{c(){c=u("meta"),o=u("meta"),h=u("meta"),w=u("meta"),S=u("meta"),B=u("meta"),O=u("meta"),R=u("meta"),V=u("meta"),F=u("meta"),K=u("meta"),Q=u("meta"),z=u("link"),lt=L(),g=u("article"),D=u("header"),W=u("h1"),ot=k(J),ut=L(),T=u("div"),$=u("div"),H=u("span"),H.textContent=bt,dt=k("Planted "),ft=k(n[2]),pt=k(`.
				`),_&&_.c(),_t=L(),N=u("div"),P=u("div"),st=k(Y),ht=L(),b&&b.c(),vt=L(),gt=L(),f&&yt(f.$$.fragment),it=L(),p&&p.c(),G=L(),I=u("link"),this.h()},l(e){const l=Bt("svelte-136g767",document.head);c=d(l,"META",{name:!0,content:!0}),o=d(l,"META",{property:!0,content:!0}),h=d(l,"META",{property:!0,content:!0}),w=d(l,"META",{property:!0,content:!0}),S=d(l,"META",{property:!0,content:!0}),B=d(l,"META",{property:!0,content:!0}),O=d(l,"META",{property:!0,content:!0}),R=d(l,"META",{property:!0,content:!0}),V=d(l,"META",{property:!0,content:!0}),F=d(l,"META",{property:!0,content:!0}),K=d(l,"META",{property:!0,content:!0}),Q=d(l,"META",{property:!0,content:!0}),z=d(l,"LINK",{rel:!0,href:!0}),l.forEach(s),lt=j(e),g=d(e,"ARTICLE",{class:!0});var M=C(g);D=d(M,"HEADER",{class:!0});var q=C(D);W=d(q,"H1",{class:!0});var Dt=C(W);ot=A(Dt,J),Dt.forEach(s),ut=j(q),T=d(q,"DIV",{class:!0});var mt=C(T);$=d(mt,"DIV",{});var X=C($);H=d(X,"SPAN",{class:!0,["data-svelte-h"]:!0}),Ot(H)!=="svelte-114jejz"&&(H.textContent=bt),dt=A(X,"Planted "),ft=A(X,n[2]),pt=A(X,`.
				`),_&&_.l(X),X.forEach(s),_t=j(mt),N=d(mt,"DIV",{class:!0});var ct=C(N);P=d(ct,"DIV",{class:!0});var Tt=C(P);st=A(Tt,Y),Tt.forEach(s),ht=j(ct),b&&b.l(ct),ct.forEach(s),mt.forEach(s),q.forEach(s),vt=j(M),gt=j(M),f&&zt(f.$$.fragment,M),M.forEach(s),it=j(e),p&&p.l(e),G=j(e),I=d(e,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),this.h()},h(){t(c,"name","description"),t(c,"content",i=n[0].meta.description),t(o,"property","og:title"),t(o,"content",m=n[0].meta.title),t(h,"property","og:type"),t(h,"content","article"),t(w,"property","og:url"),t(w,"content",E=`https://allandeutsch.com/notes/${n[1].params.slug}`),t(S,"property","og:description"),t(S,"content",tt=n[0].meta.description),t(B,"property","og:locale"),t(B,"content","en_US"),t(O,"property","twitter:card"),t(O,"content","summary"),t(R,"property","twitter:url"),t(R,"content","https://allandeutsch.com"),t(V,"property","twitter:title"),t(V,"content",et=n[0].meta.title),t(F,"property","twitter:description"),t(F,"content",nt=n[0].meta.description),t(K,"property","twitter:site"),t(K,"content","@AllanDeutsch"),t(Q,"property","twitter:creator"),t(Q,"content","@AllanDeutsch"),t(z,"rel","canonical"),t(z,"href",at=`https://allandeutsch.com/notes/${n[1].params.slug}`),t(W,"class","mb-8 text-left text-4xl font-bold"),t(H,"class","pr-2"),t(P,"class",rt="note__status "+n[0].meta.status+" svelte-5s1sz1"),t(N,"class","flex flex-col items-end"),t(T,"class","mb-12 mt-4 flex justify-between border-t border-t-neutral border-opacity-20 pt-1 text-xl text-base-content"),t(D,"class","w-full max-w-3xl self-center"),t(g,"class","prose mx-auto"),t(I,"rel","stylesheet"),t(I,"href","https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css"),t(I,"integrity","sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB"),t(I,"crossorigin","anonymous")},m(e,l){r(document.head,c),r(document.head,o),r(document.head,h),r(document.head,w),r(document.head,S),r(document.head,B),r(document.head,O),r(document.head,R),r(document.head,V),r(document.head,F),r(document.head,K),r(document.head,Q),r(document.head,z),y(e,lt,l),y(e,g,l),r(g,D),r(D,W),r(W,ot),r(D,ut),r(D,T),r(T,$),r($,H),r($,dt),r($,ft),r($,pt),_&&_.m($,null),r(T,_t),r(T,N),r(N,P),r(P,st),r(N,ht),b&&b.m(N,null),r(g,vt),r(g,gt),f&&wt(f,g,null),y(e,it,l),p&&p.m(e,l),y(e,G,l),y(e,I,l),v=!0},p(e,[l]){var M;if((!v||l&1)&&a!==(a=e[0].meta.title+" - Allan Deutsch")&&(document.title=a),(!v||l&1&&i!==(i=e[0].meta.description))&&t(c,"content",i),(!v||l&1&&m!==(m=e[0].meta.title))&&t(o,"content",m),(!v||l&2&&E!==(E=`https://allandeutsch.com/notes/${e[1].params.slug}`))&&t(w,"content",E),(!v||l&1&&tt!==(tt=e[0].meta.description))&&t(S,"content",tt),(!v||l&1&&et!==(et=e[0].meta.title))&&t(V,"content",et),(!v||l&1&&nt!==(nt=e[0].meta.description))&&t(F,"content",nt),(!v||l&2&&at!==(at=`https://allandeutsch.com/notes/${e[1].params.slug}`))&&t(z,"href",at),(!v||l&1)&&J!==(J=e[0].meta.title+"")&&Lt(ot,J),e[0].meta.lastmod&&e[0].meta.lastmod!==e[0].meta.date?_?_.p(e,l):(_=St(e),_.c(),_.m($,null)):_&&(_.d(1),_=null),(!v||l&1)&&Y!==(Y=`${e[0].meta.status} ${e[0].meta.statusIcon??""}`)&&Lt(st,Y),(!v||l&1&&rt!==(rt="note__status "+e[0].meta.status+" svelte-5s1sz1"))&&t(P,"class",rt),b.p(e,l),l&1&&U!==(U=e[0].content)){if(f){Ct();const q=f;x(q.$$.fragment,1,0,()=>{Et(q,1)}),jt()}U?(f=Mt(U,kt()),yt(f.$$.fragment),Z(f.$$.fragment,1),wt(f,g,null)):f=null}(M=e[0].linkedNotes)!=null&&M.length?p?(p.p(e,l),l&1&&Z(p,1)):(p=Vt(e),p.c(),Z(p,1),p.m(G.parentNode,G)):p&&(Ct(),x(p,1,1,()=>{p=null}),jt())},i(e){v||(f&&Z(f.$$.fragment,e),Z(p),v=!0)},o(e){f&&x(f.$$.fragment,e),x(p),v=!1},d(e){e&&(s(lt),s(g),s(it),s(G),s(I)),s(c),s(o),s(h),s(w),s(S),s(B),s(O),s(R),s(V),s(F),s(K),s(Q),s(z),_&&_.d(),b&&b.d(),f&&Et(f),p&&p.d(e)}}}const Zt=1;function Jt(n,a,c){let i;Rt(n,Wt,E=>c(1,i=E));let{data:o}=a;const m=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}),h=m.format(new Date(Date.parse(o.meta.date))),w=m.format(new Date(Date.parse(o.meta.lastmod)));return n.$$set=E=>{"data"in E&&c(0,o=E.data)},[o,i,h,w]}class oe extends Kt{constructor(a){super(),Qt(this,a,Jt,Xt,qt,{data:0})}}export{oe as component,le as universal};
