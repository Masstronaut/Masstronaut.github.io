import{L as ze}from"../chunks/LoadNote.b1e05e51.js";import{H as xe}from"../chunks/control.c2cf8273.js";import{s as et,q as We,f as m,a as E,l as S,J as tt,g as d,u as re,d as r,c as k,h as D,m as H,j as e,L as Qe,M as at,v as l,i as w,n as Ce,H as nt,o as st,A as rt}from"../chunks/scheduler.7131e7f1.js";import{S as lt,i as ot,b as Ie,d as Ye,m as Le,t as le,c as Ue,a as te,e as Ne,g as Ge}from"../chunks/index.9e889c2d.js";import{p as it}from"../chunks/stores.d80e697a.js";import"../chunks/paths.d78f5591.js";import{N as ct}from"../chunks/NoteGrid.9f3b01b6.js";function ut(a,s){return new xe(a,s)}new TextEncoder;function mt(a){return a.replace(/^\/|\/$/g,"")}const dt=async({params:a})=>{const s=mt(a.slug);let o=await ze({slug:s});if(!o.success)throw console.error(`Failed to load it successfully. Error: "${o.error}"`),ut(404,`Could not find the requested note: '${s}'`);const c={content:o.content,meta:o.metadata,linkedNotes:[]};if(o.metadata.internalLinks.length===0)return c;for(let i of o.metadata.internalLinks)i=i.replace(/^\/|\/$/g,""),await ze({slug:i}).then(u=>{u.success&&c.linkedNotes.push(u.metadata)});return c},wt=Object.freeze(Object.defineProperty({__proto__:null,load:dt},Symbol.toStringTag,{value:"Module"}));function Me(a){const s=a.slice(),o=s[0].meta.readTime;return s[6]=o,s}function Xe(a){let s,o,c,i;return{c(){s=m("br"),o=S("Last tended "),c=S(a[3]),i=S(".")},l(u){s=d(u,"BR",{}),o=H(u,"Last tended "),c=H(u,a[3]),i=H(u,".")},m(u,$){w(u,s,$),w(u,o,$),w(u,c,$),w(u,i,$)},p:rt,d(u){u&&(r(s),r(o),r(c),r(i))}}}function Je(a){let s,o=`${a[6]} ${a[6]>1?"minutes":"minute"} read ‚è±`,c;return{c(){s=m("div"),c=S(o)},l(i){s=d(i,"DIV",{});var u=D(s);c=H(u,o),u.forEach(r)},m(i,u){w(i,s,u),l(s,c)},p(i,u){u&1&&o!==(o=`${i[6]} ${i[6]>1?"minutes":"minute"} read ‚è±`)&&Ce(c,o)},d(i){i&&r(s)}}}function Ze(a){let s,o;return s=new ct({props:{notes:a[0].linkedNotes,title:"Linked notes",showFilters:!1}}),{c(){Ie(s.$$.fragment)},l(c){Ye(s.$$.fragment,c)},m(c,i){Le(s,c,i),o=!0},p(c,i){const u={};i&1&&(u.notes=c[0].linkedNotes),s.$set(u)},i(c){o||(te(s.$$.fragment,c),o=!0)},o(c){le(s.$$.fragment,c),o=!1},d(c){Ne(s,c)}}}function pt(a){var Re;let s,o,c,i,u,$,M,C,F,oe,W,Q,U,P,ie,V,ce,G,X,q,ue,T,je="",Se,_,He="",Fe,me,J,de,g,L,Z,ae=a[0].meta.title+"",pe,$e,N,A,O,Pe="üå±",R,Ve=`Planted
				`,be,we,Ee,I,B,ne=`${a[0].meta.status} ${a[0].meta.statusIcon??""}`,fe,_e,ke,Te,Ae,p,he,se,De,K,qe=`<p>If you&#39;re feeling extra generous, you can show your support by buying me a
			coffee with the button in the bottom right corner of the page.</p> <div class="divider"></div>`,ve,Y,j,y;document.title=s=a[0].meta.title+" - Allan Deutsch";let h=a[0].meta.lastmod&&a[0].meta.lastmod!==a[0].meta.date&&Xe(a),v=a[0].meta.readTime&&Je(Me(a));var x=a[0].content;function Oe(t,n){return{}}x&&(p=We(x,Oe()));let f=((Re=a[0].linkedNotes)==null?void 0:Re.length)&&Ze(a);return{c(){o=m("meta"),i=m("meta"),$=m("meta"),M=m("meta"),F=m("meta"),W=m("meta"),Q=m("meta"),U=m("meta"),P=m("meta"),V=m("meta"),G=m("meta"),X=m("meta"),q=m("link"),T=m("script"),T.innerHTML=je,_=m("script"),_.innerHTML=He,me=E(),J=m("docduck-feedback"),de=E(),g=m("article"),L=m("header"),Z=m("h1"),pe=S(ae),$e=E(),N=m("div"),A=m("div"),O=m("span"),O.textContent=Pe,R=m("span"),R.textContent=Ve,be=S(a[2]),we=S(`.
				`),h&&h.c(),Ee=E(),I=m("div"),B=m("div"),fe=S(ne),ke=E(),v&&v.c(),Te=E(),Ae=E(),p&&Ie(p.$$.fragment),he=E(),se=m("div"),De=E(),K=m("aside"),K.innerHTML=qe,ve=E(),f&&f.c(),Y=E(),j=m("link"),this.h()},l(t){const n=tt("svelte-x3qw35",document.head);o=d(n,"META",{name:!0,content:!0}),i=d(n,"META",{property:!0,content:!0}),$=d(n,"META",{property:!0,content:!0}),M=d(n,"META",{property:!0,content:!0}),F=d(n,"META",{property:!0,content:!0}),W=d(n,"META",{property:!0,content:!0}),Q=d(n,"META",{property:!0,content:!0}),U=d(n,"META",{property:!0,content:!0}),P=d(n,"META",{property:!0,content:!0}),V=d(n,"META",{property:!0,content:!0}),G=d(n,"META",{property:!0,content:!0}),X=d(n,"META",{property:!0,content:!0}),q=d(n,"LINK",{rel:!0,href:!0}),T=d(n,"SCRIPT",{type:!0,src:!0,"data-svelte-h":!0}),re(T)!=="svelte-1qfon0b"&&(T.innerHTML=je),_=d(n,"SCRIPT",{"data-name":!0,"data-cfasync":!0,src:!0,"data-id":!0,"data-description":!0,"data-message":!0,"data-color":!0,"data-position":!0,"data-x_margin":!0,"data-y_margin":!0,"data-svelte-h":!0}),re(_)!=="svelte-bv2cpr"&&(_.innerHTML=He),n.forEach(r),me=k(t),J=d(t,"DOCDUCK-FEEDBACK",{team:!0}),D(J).forEach(r),de=k(t),g=d(t,"ARTICLE",{class:!0});var b=D(g);L=d(b,"HEADER",{class:!0});var z=D(L);Z=d(z,"H1",{class:!0});var Be=D(Z);pe=H(Be,ae),Be.forEach(r),$e=k(z),N=d(z,"DIV",{class:!0});var ge=D(N);A=d(ge,"DIV",{});var ee=D(A);O=d(ee,"SPAN",{class:!0,"data-svelte-h":!0}),re(O)!=="svelte-114jejz"&&(O.textContent=Pe),R=d(ee,"SPAN",{class:!0,"data-svelte-h":!0}),re(R)!=="svelte-1psjisz"&&(R.textContent=Ve),be=H(ee,a[2]),we=H(ee,`.
				`),h&&h.l(ee),ee.forEach(r),Ee=k(ge),I=d(ge,"DIV",{class:!0});var ye=D(I);B=d(ye,"DIV",{class:!0});var Ke=D(B);fe=H(Ke,ne),Ke.forEach(r),ke=k(ye),v&&v.l(ye),ye.forEach(r),ge.forEach(r),z.forEach(r),Te=k(b),Ae=k(b),p&&Ye(p.$$.fragment,b),he=k(b),se=d(b,"DIV",{class:!0}),D(se).forEach(r),De=k(b),K=d(b,"ASIDE",{class:!0,"data-svelte-h":!0}),re(K)!=="svelte-1w3uusp"&&(K.innerHTML=qe),b.forEach(r),ve=k(t),f&&f.l(t),Y=k(t),j=d(t,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),this.h()},h(){e(o,"name","description"),e(o,"content",c=a[0].meta.description),e(i,"property","og:title"),e(i,"content",u=a[0].meta.title),e($,"property","og:type"),e($,"content","article"),e(M,"property","og:url"),e(M,"content",C=`https://allandeutsch.com/${a[1].params.slug}`),e(F,"property","og:description"),e(F,"content",oe=a[0].meta.description),e(W,"property","og:locale"),e(W,"content","en_US"),e(Q,"property","twitter:card"),e(Q,"content","summary"),e(U,"property","twitter:url"),e(U,"content","https://allandeutsch.com"),e(P,"property","twitter:title"),e(P,"content",ie=a[0].meta.title),e(V,"property","twitter:description"),e(V,"content",ce=a[0].meta.description),e(G,"property","twitter:site"),e(G,"content","@AllanDeutsch"),e(X,"property","twitter:creator"),e(X,"content","@AllanDeutsch"),e(q,"rel","canonical"),e(q,"href",ue=`https://allandeutsch.com/${a[1].params.slug}`),e(T,"type","module"),Qe(T.src,Se="https://docduck.dev/selection.js")||e(T,"src",Se),e(_,"data-name","BMC-Widget"),e(_,"data-cfasync","false"),Qe(_.src,Fe="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js")||e(_,"src",Fe),e(_,"data-id","AllanDeutsch"),e(_,"data-description","Support me on Buy me a coffee!"),e(_,"data-message",""),e(_,"data-color","#5F7FFF"),e(_,"data-position","Right"),e(_,"data-x_margin","18"),e(_,"data-y_margin","18"),at(J,"team","TKxfdiO22xOXIrW0c0Pfi"),e(Z,"class","mb-8 text-left text-4xl font-bold"),e(O,"class","pr-2"),e(R,"class","hidden sm:inline"),e(B,"class",_e="note__status "+a[0].meta.status+" svelte-1w2p8sa"),e(I,"class","flex flex-col items-end"),e(N,"class","text-md mb-12 mt-4 flex justify-between border-t border-t-neutral border-opacity-20 pt-1 text-base-content"),e(L,"class","w-full max-w-3xl self-center"),e(se,"class","divider"),e(K,"class","prose"),e(g,"class","note-container prose mb-8 max-w-full px-2 svelte-1w2p8sa"),e(j,"rel","stylesheet"),e(j,"href","https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css"),e(j,"integrity","sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB"),e(j,"crossorigin","anonymous")},m(t,n){l(document.head,o),l(document.head,i),l(document.head,$),l(document.head,M),l(document.head,F),l(document.head,W),l(document.head,Q),l(document.head,U),l(document.head,P),l(document.head,V),l(document.head,G),l(document.head,X),l(document.head,q),l(document.head,T),l(document.head,_),w(t,me,n),w(t,J,n),w(t,de,n),w(t,g,n),l(g,L),l(L,Z),l(Z,pe),l(L,$e),l(L,N),l(N,A),l(A,O),l(A,R),l(A,be),l(A,we),h&&h.m(A,null),l(N,Ee),l(N,I),l(I,B),l(B,fe),l(I,ke),v&&v.m(I,null),l(g,Te),l(g,Ae),p&&Le(p,g,null),l(g,he),l(g,se),l(g,De),l(g,K),w(t,ve,n),f&&f.m(t,n),w(t,Y,n),w(t,j,n),y=!0},p(t,[n]){var b;if((!y||n&1)&&s!==(s=t[0].meta.title+" - Allan Deutsch")&&(document.title=s),(!y||n&1&&c!==(c=t[0].meta.description))&&e(o,"content",c),(!y||n&1&&u!==(u=t[0].meta.title))&&e(i,"content",u),(!y||n&2&&C!==(C=`https://allandeutsch.com/${t[1].params.slug}`))&&e(M,"content",C),(!y||n&1&&oe!==(oe=t[0].meta.description))&&e(F,"content",oe),(!y||n&1&&ie!==(ie=t[0].meta.title))&&e(P,"content",ie),(!y||n&1&&ce!==(ce=t[0].meta.description))&&e(V,"content",ce),(!y||n&2&&ue!==(ue=`https://allandeutsch.com/${t[1].params.slug}`))&&e(q,"href",ue),(!y||n&1)&&ae!==(ae=t[0].meta.title+"")&&Ce(pe,ae),t[0].meta.lastmod&&t[0].meta.lastmod!==t[0].meta.date?h?h.p(t,n):(h=Xe(t),h.c(),h.m(A,null)):h&&(h.d(1),h=null),(!y||n&1)&&ne!==(ne=`${t[0].meta.status} ${t[0].meta.statusIcon??""}`)&&Ce(fe,ne),(!y||n&1&&_e!==(_e="note__status "+t[0].meta.status+" svelte-1w2p8sa"))&&e(B,"class",_e),t[0].meta.readTime?v?v.p(Me(t),n):(v=Je(Me(t)),v.c(),v.m(I,null)):v&&(v.d(1),v=null),n&1&&x!==(x=t[0].content)){if(p){Ge();const z=p;le(z.$$.fragment,1,0,()=>{Ne(z,1)}),Ue()}x?(p=We(x,Oe()),Ie(p.$$.fragment),te(p.$$.fragment,1),Le(p,g,he)):p=null}(b=t[0].linkedNotes)!=null&&b.length?f?(f.p(t,n),n&1&&te(f,1)):(f=Ze(t),f.c(),te(f,1),f.m(Y.parentNode,Y)):f&&(Ge(),le(f,1,1,()=>{f=null}),Ue())},i(t){y||(p&&te(p.$$.fragment,t),te(f),y=!0)},o(t){p&&le(p.$$.fragment,t),le(f),y=!1},d(t){t&&(r(me),r(J),r(de),r(g),r(ve),r(Y),r(j)),r(o),r(i),r($),r(M),r(F),r(W),r(Q),r(U),r(P),r(V),r(G),r(X),r(q),r(T),r(_),h&&h.d(),v&&v.d(),p&&Ne(p),f&&f.d(t)}}}function ft(a,s,o){let c;nt(a,it,C=>o(1,c=C));let{data:i}=s;const u=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}),$=u.format(new Date(Date.parse(i.meta.date))),M=u.format(new Date(Date.parse(i.meta.lastmod)));return st(()=>{}),a.$$set=C=>{"data"in C&&o(0,i=C.data)},[i,c,$,M]}class Et extends lt{constructor(s){super(),ot(this,s,ft,pt,et,{data:0})}}export{Et as component,wt as universal};
