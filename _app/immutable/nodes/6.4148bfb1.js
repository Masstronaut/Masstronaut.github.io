import{L as Kt}from"../chunks/LoadNote.c75ae43a.js";import{H as xt}from"../chunks/control.c2cf8273.js";import{s as te,q as Wt,f as m,a as E,l as j,J as ee,g as d,u as rt,d as r,c as T,h as D,m as H,j as t,L as Qt,M as ae,v as l,i as b,n as It,H as ne,o as se,A as re}from"../chunks/scheduler.7131e7f1.js";import{S as le,i as oe,b as Lt,d as Yt,m as Ct,t as lt,c as Gt,a as et,e as Nt,g as Ut}from"../chunks/index.9e889c2d.js";import{p as ie}from"../chunks/stores.10954faa.js";import"../chunks/paths.175cc097.js";import{N as ce}from"../chunks/NoteGrid.e7983602.js";function ue(a,s){return new xt(a,s)}new TextEncoder;function me(a){return a.replace(/^\/|\/$/g,"")}const de=async({params:a})=>{const s=me(a.slug);let o=await Kt({slug:s});if(!o.success)throw console.error(`Failed to load it successfully. Error: "${o.error}"`),ue(404,`Could not find the requested note: '${s}'`);const c={content:o.content,meta:o.metadata,linkedNotes:[]};if(o.metadata.internalLinks.length===0)return c;for(let i of o.metadata.internalLinks)i=i.replace(/^\/|\/$/g,""),await Kt({slug:i}).then(u=>{u.success&&c.linkedNotes.push(u.metadata)});return c},be=Object.freeze(Object.defineProperty({__proto__:null,load:de},Symbol.toStringTag,{value:"Module"}));function Mt(a){const s=a.slice(),o=s[0].meta.readTime;return s[6]=o,s}function Xt(a){let s,o,c,i;return{c(){s=m("br"),o=j("Last tended "),c=j(a[3]),i=j(".")},l(u){s=d(u,"BR",{}),o=H(u,"Last tended "),c=H(u,a[3]),i=H(u,".")},m(u,$){b(u,s,$),b(u,o,$),b(u,c,$),b(u,i,$)},p:re,d(u){u&&(r(s),r(o),r(c),r(i))}}}function Jt(a){let s,o=`${a[6]} ${a[6]>1?"minutes":"minute"} read ‚è±`,c;return{c(){s=m("div"),c=j(o)},l(i){s=d(i,"DIV",{});var u=D(s);c=H(u,o),u.forEach(r)},m(i,u){b(i,s,u),l(s,c)},p(i,u){u&1&&o!==(o=`${i[6]} ${i[6]>1?"minutes":"minute"} read ‚è±`)&&It(c,o)},d(i){i&&r(s)}}}function Zt(a){let s,o;return s=new ce({props:{notes:a[0].linkedNotes,title:"Linked notes",showFilters:!1}}),{c(){Lt(s.$$.fragment)},l(c){Yt(s.$$.fragment,c)},m(c,i){Ct(s,c,i),o=!0},p(c,i){const u={};i&1&&(u.notes=c[0].linkedNotes),s.$set(u)},i(c){o||(et(s.$$.fragment,c),o=!0)},o(c){lt(s.$$.fragment,c),o=!1},d(c){Nt(s,c)}}}function pe(a){var Ot;let s,o,c,i,u,$,M,I,F,ot,W,Q,G,P,it,V,ct,U,X,q,ut,k,St="",jt,_,Ht="",Ft,mt,J,dt,g,C,Z,at=a[0].meta.title+"",pt,$t,N,A,R,Pt="üå±",O,Vt=`Planted
				`,wt,bt,Et,L,B,nt=`${a[0].meta.status} ${a[0].meta.statusIcon??""}`,ft,_t,Tt,kt,At,p,ht,st,Dt,z,qt=`<p>If you&#39;re feeling extra generous, you can show your support by buying me a
			coffee with the button in the bottom right corner of the page.</p> <div class="divider"></div>`,vt,Y,S,y;document.title=s=a[0].meta.title+" - Allan Deutsch";let h=a[0].meta.lastmod&&a[0].meta.lastmod!==a[0].meta.date&&Xt(a),v=a[0].meta.readTime&&Jt(Mt(a));var x=a[0].content;function Rt(e,n){return{}}x&&(p=Wt(x,Rt()));let f=((Ot=a[0].linkedNotes)==null?void 0:Ot.length)&&Zt(a);return{c(){o=m("meta"),i=m("meta"),$=m("meta"),M=m("meta"),F=m("meta"),W=m("meta"),Q=m("meta"),G=m("meta"),P=m("meta"),V=m("meta"),U=m("meta"),X=m("meta"),q=m("link"),k=m("script"),k.innerHTML=St,_=m("script"),_.innerHTML=Ht,mt=E(),J=m("pi-select"),dt=E(),g=m("article"),C=m("header"),Z=m("h1"),pt=j(at),$t=E(),N=m("div"),A=m("div"),R=m("span"),R.textContent=Pt,O=m("span"),O.textContent=Vt,wt=j(a[2]),bt=j(`.
				`),h&&h.c(),Et=E(),L=m("div"),B=m("div"),ft=j(nt),Tt=E(),v&&v.c(),kt=E(),At=E(),p&&Lt(p.$$.fragment),ht=E(),st=m("div"),Dt=E(),z=m("aside"),z.innerHTML=qt,vt=E(),f&&f.c(),Y=E(),S=m("link"),this.h()},l(e){const n=ee("svelte-x3qw35",document.head);o=d(n,"META",{name:!0,content:!0}),i=d(n,"META",{property:!0,content:!0}),$=d(n,"META",{property:!0,content:!0}),M=d(n,"META",{property:!0,content:!0}),F=d(n,"META",{property:!0,content:!0}),W=d(n,"META",{property:!0,content:!0}),Q=d(n,"META",{property:!0,content:!0}),G=d(n,"META",{property:!0,content:!0}),P=d(n,"META",{property:!0,content:!0}),V=d(n,"META",{property:!0,content:!0}),U=d(n,"META",{property:!0,content:!0}),X=d(n,"META",{property:!0,content:!0}),q=d(n,"LINK",{rel:!0,href:!0}),k=d(n,"SCRIPT",{type:!0,src:!0,"data-svelte-h":!0}),rt(k)!=="svelte-1qfon0b"&&(k.innerHTML=St),_=d(n,"SCRIPT",{"data-name":!0,"data-cfasync":!0,src:!0,"data-id":!0,"data-description":!0,"data-message":!0,"data-color":!0,"data-position":!0,"data-x_margin":!0,"data-y_margin":!0,"data-svelte-h":!0}),rt(_)!=="svelte-bv2cpr"&&(_.innerHTML=Ht),n.forEach(r),mt=T(e),J=d(e,"PI-SELECT",{team:!0}),D(J).forEach(r),dt=T(e),g=d(e,"ARTICLE",{class:!0});var w=D(g);C=d(w,"HEADER",{class:!0});var K=D(C);Z=d(K,"H1",{class:!0});var Bt=D(Z);pt=H(Bt,at),Bt.forEach(r),$t=T(K),N=d(K,"DIV",{class:!0});var gt=D(N);A=d(gt,"DIV",{});var tt=D(A);R=d(tt,"SPAN",{class:!0,"data-svelte-h":!0}),rt(R)!=="svelte-114jejz"&&(R.textContent=Pt),O=d(tt,"SPAN",{class:!0,"data-svelte-h":!0}),rt(O)!=="svelte-1psjisz"&&(O.textContent=Vt),wt=H(tt,a[2]),bt=H(tt,`.
				`),h&&h.l(tt),tt.forEach(r),Et=T(gt),L=d(gt,"DIV",{class:!0});var yt=D(L);B=d(yt,"DIV",{class:!0});var zt=D(B);ft=H(zt,nt),zt.forEach(r),Tt=T(yt),v&&v.l(yt),yt.forEach(r),gt.forEach(r),K.forEach(r),kt=T(w),At=T(w),p&&Yt(p.$$.fragment,w),ht=T(w),st=d(w,"DIV",{class:!0}),D(st).forEach(r),Dt=T(w),z=d(w,"ASIDE",{class:!0,"data-svelte-h":!0}),rt(z)!=="svelte-1w3uusp"&&(z.innerHTML=qt),w.forEach(r),vt=T(e),f&&f.l(e),Y=T(e),S=d(e,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),this.h()},h(){t(o,"name","description"),t(o,"content",c=a[0].meta.description),t(i,"property","og:title"),t(i,"content",u=a[0].meta.title),t($,"property","og:type"),t($,"content","article"),t(M,"property","og:url"),t(M,"content",I=`https://allandeutsch.com/${a[1].params.slug}`),t(F,"property","og:description"),t(F,"content",ot=a[0].meta.description),t(W,"property","og:locale"),t(W,"content","en_US"),t(Q,"property","twitter:card"),t(Q,"content","summary"),t(G,"property","twitter:url"),t(G,"content","https://allandeutsch.com"),t(P,"property","twitter:title"),t(P,"content",it=a[0].meta.title),t(V,"property","twitter:description"),t(V,"content",ct=a[0].meta.description),t(U,"property","twitter:site"),t(U,"content","@AllanDeutsch"),t(X,"property","twitter:creator"),t(X,"content","@AllanDeutsch"),t(q,"rel","canonical"),t(q,"href",ut=`https://allandeutsch.com/${a[1].params.slug}`),t(k,"type","module"),Qt(k.src,jt="https://docduck.dev/selection.js")||t(k,"src",jt),t(_,"data-name","BMC-Widget"),t(_,"data-cfasync","false"),Qt(_.src,Ft="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js")||t(_,"src",Ft),t(_,"data-id","AllanDeutsch"),t(_,"data-description","Support me on Buy me a coffee!"),t(_,"data-message",""),t(_,"data-color","#5F7FFF"),t(_,"data-position","Right"),t(_,"data-x_margin","18"),t(_,"data-y_margin","18"),ae(J,"team","TKxfdiO22xOXIrW0c0Pfi"),t(Z,"class","mb-8 text-left text-4xl font-bold"),t(R,"class","pr-2"),t(O,"class","hidden sm:inline"),t(B,"class",_t="note__status "+a[0].meta.status+" svelte-1w2p8sa"),t(L,"class","flex flex-col items-end"),t(N,"class","text-md mb-12 mt-4 flex justify-between border-t border-t-neutral border-opacity-20 pt-1 text-base-content"),t(C,"class","w-full max-w-3xl self-center"),t(st,"class","divider"),t(z,"class","prose"),t(g,"class","note-container prose mb-8 max-w-full px-2 svelte-1w2p8sa"),t(S,"rel","stylesheet"),t(S,"href","https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css"),t(S,"integrity","sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB"),t(S,"crossorigin","anonymous")},m(e,n){l(document.head,o),l(document.head,i),l(document.head,$),l(document.head,M),l(document.head,F),l(document.head,W),l(document.head,Q),l(document.head,G),l(document.head,P),l(document.head,V),l(document.head,U),l(document.head,X),l(document.head,q),l(document.head,k),l(document.head,_),b(e,mt,n),b(e,J,n),b(e,dt,n),b(e,g,n),l(g,C),l(C,Z),l(Z,pt),l(C,$t),l(C,N),l(N,A),l(A,R),l(A,O),l(A,wt),l(A,bt),h&&h.m(A,null),l(N,Et),l(N,L),l(L,B),l(B,ft),l(L,Tt),v&&v.m(L,null),l(g,kt),l(g,At),p&&Ct(p,g,null),l(g,ht),l(g,st),l(g,Dt),l(g,z),b(e,vt,n),f&&f.m(e,n),b(e,Y,n),b(e,S,n),y=!0},p(e,[n]){var w;if((!y||n&1)&&s!==(s=e[0].meta.title+" - Allan Deutsch")&&(document.title=s),(!y||n&1&&c!==(c=e[0].meta.description))&&t(o,"content",c),(!y||n&1&&u!==(u=e[0].meta.title))&&t(i,"content",u),(!y||n&2&&I!==(I=`https://allandeutsch.com/${e[1].params.slug}`))&&t(M,"content",I),(!y||n&1&&ot!==(ot=e[0].meta.description))&&t(F,"content",ot),(!y||n&1&&it!==(it=e[0].meta.title))&&t(P,"content",it),(!y||n&1&&ct!==(ct=e[0].meta.description))&&t(V,"content",ct),(!y||n&2&&ut!==(ut=`https://allandeutsch.com/${e[1].params.slug}`))&&t(q,"href",ut),(!y||n&1)&&at!==(at=e[0].meta.title+"")&&It(pt,at),e[0].meta.lastmod&&e[0].meta.lastmod!==e[0].meta.date?h?h.p(e,n):(h=Xt(e),h.c(),h.m(A,null)):h&&(h.d(1),h=null),(!y||n&1)&&nt!==(nt=`${e[0].meta.status} ${e[0].meta.statusIcon??""}`)&&It(ft,nt),(!y||n&1&&_t!==(_t="note__status "+e[0].meta.status+" svelte-1w2p8sa"))&&t(B,"class",_t),e[0].meta.readTime?v?v.p(Mt(e),n):(v=Jt(Mt(e)),v.c(),v.m(L,null)):v&&(v.d(1),v=null),n&1&&x!==(x=e[0].content)){if(p){Ut();const K=p;lt(K.$$.fragment,1,0,()=>{Nt(K,1)}),Gt()}x?(p=Wt(x,Rt()),Lt(p.$$.fragment),et(p.$$.fragment,1),Ct(p,g,ht)):p=null}(w=e[0].linkedNotes)!=null&&w.length?f?(f.p(e,n),n&1&&et(f,1)):(f=Zt(e),f.c(),et(f,1),f.m(Y.parentNode,Y)):f&&(Ut(),lt(f,1,1,()=>{f=null}),Gt())},i(e){y||(p&&et(p.$$.fragment,e),et(f),y=!0)},o(e){p&&lt(p.$$.fragment,e),lt(f),y=!1},d(e){e&&(r(mt),r(J),r(dt),r(g),r(vt),r(Y),r(S)),r(o),r(i),r($),r(M),r(F),r(W),r(Q),r(G),r(P),r(V),r(U),r(X),r(q),r(k),r(_),h&&h.d(),v&&v.d(),p&&Nt(p),f&&f.d(e)}}}function fe(a,s,o){let c;ne(a,ie,I=>o(1,c=I));let{data:i}=s;const u=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}),$=u.format(new Date(Date.parse(i.meta.date))),M=u.format(new Date(Date.parse(i.meta.lastmod)));return se(()=>{}),a.$$set=I=>{"data"in I&&o(0,i=I.data)},[i,c,$,M]}class Ee extends le{constructor(s){super(),oe(this,s,fe,pe,te,{data:0})}}export{Ee as component,be as universal};
