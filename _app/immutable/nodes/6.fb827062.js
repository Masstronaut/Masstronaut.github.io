import{L as Kt}from"../chunks/LoadNote.2f4a53e6.js";import{H as xt}from"../chunks/control.c2cf8273.js";import{s as te,q as Wt,f as u,a as E,l as j,J as ee,g as m,u as rt,d as r,c as T,h as D,m as H,j as t,L as Qt,M as ae,v as l,i as w,n as It,H as ne,o as se,A as re}from"../chunks/scheduler.7131e7f1.js";import{S as le,i as oe,b as Lt,d as Yt,m as Ct,t as lt,c as Gt,a as et,e as Nt,g as Ut}from"../chunks/index.9e889c2d.js";import{p as ie}from"../chunks/stores.59dd1f13.js";import"../chunks/paths.1e967884.js";import{N as ce}from"../chunks/NoteGrid.95cdc426.js";function ue(a,s){return new xt(a,s)}new TextEncoder;function me(a){return a.replace(/^\/|\/$/g,"")}const de=async({params:a})=>{let s=await Kt({slug:me(a.slug)});if(!s.success)throw console.error(`Failed to load it successfully. Error: "${s.error}"`),ue(404,`Could not find the requested note: '${a.slug}'`);const c={content:s.content,meta:s.metadata,linkedNotes:[]};if(s.metadata.internalLinks.length===0)return c;for(let o of s.metadata.internalLinks)o=o.replace(/^\/|\/$/g,""),await Kt({slug:o}).then(i=>{i.success&&c.linkedNotes.push(i.metadata)});return c},we=Object.freeze(Object.defineProperty({__proto__:null,load:de},Symbol.toStringTag,{value:"Module"}));function Mt(a){const s=a.slice(),c=s[0].meta.readTime;return s[6]=c,s}function Xt(a){let s,c,o,i;return{c(){s=u("br"),c=j("Last tended "),o=j(a[3]),i=j(".")},l(d){s=m(d,"BR",{}),c=H(d,"Last tended "),o=H(d,a[3]),i=H(d,".")},m(d,$){w(d,s,$),w(d,c,$),w(d,o,$),w(d,i,$)},p:re,d(d){d&&(r(s),r(c),r(o),r(i))}}}function Jt(a){let s,c=`${a[6]} ${a[6]>1?"minutes":"minute"} read ‚è±`,o;return{c(){s=u("div"),o=j(c)},l(i){s=m(i,"DIV",{});var d=D(s);o=H(d,c),d.forEach(r)},m(i,d){w(i,s,d),l(s,o)},p(i,d){d&1&&c!==(c=`${i[6]} ${i[6]>1?"minutes":"minute"} read ‚è±`)&&It(o,c)},d(i){i&&r(s)}}}function Zt(a){let s,c;return s=new ce({props:{notes:a[0].linkedNotes,title:"Linked notes",showFilters:!1}}),{c(){Lt(s.$$.fragment)},l(o){Yt(s.$$.fragment,o)},m(o,i){Ct(s,o,i),c=!0},p(o,i){const d={};i&1&&(d.notes=o[0].linkedNotes),s.$set(d)},i(o){c||(et(s.$$.fragment,o),c=!0)},o(o){lt(s.$$.fragment,o),c=!1},d(o){Nt(s,o)}}}function pe(a){var Ot;let s,c,o,i,d,$,M,I,F,ot,W,Q,G,P,it,V,ct,U,X,R,ut,k,St="",jt,_,Ht="",Ft,mt,J,dt,g,C,Z,at=a[0].meta.title+"",pt,$t,N,A,q,Pt="üå±",O,Vt=`Planted
				`,bt,wt,Et,L,z,nt=`${a[0].meta.status} ${a[0].meta.statusIcon??""}`,ft,_t,Tt,kt,At,p,ht,st,Dt,B,Rt=`<p>If you&#39;re feeling extra generous, you can show your support by buying me a
			coffee with the button in the bottom right corner of the page.</p> <div class="divider"></div>`,vt,Y,S,y;document.title=s=a[0].meta.title+" - Allan Deutsch";let h=a[0].meta.lastmod&&a[0].meta.lastmod!==a[0].meta.date&&Xt(a),v=a[0].meta.readTime&&Jt(Mt(a));var x=a[0].content;function qt(e,n){return{}}x&&(p=Wt(x,qt()));let f=((Ot=a[0].linkedNotes)==null?void 0:Ot.length)&&Zt(a);return{c(){c=u("meta"),i=u("meta"),$=u("meta"),M=u("meta"),F=u("meta"),W=u("meta"),Q=u("meta"),G=u("meta"),P=u("meta"),V=u("meta"),U=u("meta"),X=u("meta"),R=u("link"),k=u("script"),k.innerHTML=St,_=u("script"),_.innerHTML=Ht,mt=E(),J=u("pi-select"),dt=E(),g=u("article"),C=u("header"),Z=u("h1"),pt=j(at),$t=E(),N=u("div"),A=u("div"),q=u("span"),q.textContent=Pt,O=u("span"),O.textContent=Vt,bt=j(a[2]),wt=j(`.
				`),h&&h.c(),Et=E(),L=u("div"),z=u("div"),ft=j(nt),Tt=E(),v&&v.c(),kt=E(),At=E(),p&&Lt(p.$$.fragment),ht=E(),st=u("div"),Dt=E(),B=u("aside"),B.innerHTML=Rt,vt=E(),f&&f.c(),Y=E(),S=u("link"),this.h()},l(e){const n=ee("svelte-1rm6mzl",document.head);c=m(n,"META",{name:!0,content:!0}),i=m(n,"META",{property:!0,content:!0}),$=m(n,"META",{property:!0,content:!0}),M=m(n,"META",{property:!0,content:!0}),F=m(n,"META",{property:!0,content:!0}),W=m(n,"META",{property:!0,content:!0}),Q=m(n,"META",{property:!0,content:!0}),G=m(n,"META",{property:!0,content:!0}),P=m(n,"META",{property:!0,content:!0}),V=m(n,"META",{property:!0,content:!0}),U=m(n,"META",{property:!0,content:!0}),X=m(n,"META",{property:!0,content:!0}),R=m(n,"LINK",{rel:!0,href:!0}),k=m(n,"SCRIPT",{type:!0,src:!0,"data-svelte-h":!0}),rt(k)!=="svelte-1qfon0b"&&(k.innerHTML=St),_=m(n,"SCRIPT",{"data-name":!0,"data-cfasync":!0,src:!0,"data-id":!0,"data-description":!0,"data-message":!0,"data-color":!0,"data-position":!0,"data-x_margin":!0,"data-y_margin":!0,"data-svelte-h":!0}),rt(_)!=="svelte-bv2cpr"&&(_.innerHTML=Ht),n.forEach(r),mt=T(e),J=m(e,"PI-SELECT",{team:!0}),D(J).forEach(r),dt=T(e),g=m(e,"ARTICLE",{class:!0});var b=D(g);C=m(b,"HEADER",{class:!0});var K=D(C);Z=m(K,"H1",{class:!0});var zt=D(Z);pt=H(zt,at),zt.forEach(r),$t=T(K),N=m(K,"DIV",{class:!0});var gt=D(N);A=m(gt,"DIV",{});var tt=D(A);q=m(tt,"SPAN",{class:!0,"data-svelte-h":!0}),rt(q)!=="svelte-114jejz"&&(q.textContent=Pt),O=m(tt,"SPAN",{class:!0,"data-svelte-h":!0}),rt(O)!=="svelte-1psjisz"&&(O.textContent=Vt),bt=H(tt,a[2]),wt=H(tt,`.
				`),h&&h.l(tt),tt.forEach(r),Et=T(gt),L=m(gt,"DIV",{class:!0});var yt=D(L);z=m(yt,"DIV",{class:!0});var Bt=D(z);ft=H(Bt,nt),Bt.forEach(r),Tt=T(yt),v&&v.l(yt),yt.forEach(r),gt.forEach(r),K.forEach(r),kt=T(b),At=T(b),p&&Yt(p.$$.fragment,b),ht=T(b),st=m(b,"DIV",{class:!0}),D(st).forEach(r),Dt=T(b),B=m(b,"ASIDE",{class:!0,"data-svelte-h":!0}),rt(B)!=="svelte-1w3uusp"&&(B.innerHTML=Rt),b.forEach(r),vt=T(e),f&&f.l(e),Y=T(e),S=m(e,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),this.h()},h(){t(c,"name","description"),t(c,"content",o=a[0].meta.description),t(i,"property","og:title"),t(i,"content",d=a[0].meta.title),t($,"property","og:type"),t($,"content","article"),t(M,"property","og:url"),t(M,"content",I=`https://allandeutsch.com/notes/${a[1].params.slug}`),t(F,"property","og:description"),t(F,"content",ot=a[0].meta.description),t(W,"property","og:locale"),t(W,"content","en_US"),t(Q,"property","twitter:card"),t(Q,"content","summary"),t(G,"property","twitter:url"),t(G,"content","https://allandeutsch.com"),t(P,"property","twitter:title"),t(P,"content",it=a[0].meta.title),t(V,"property","twitter:description"),t(V,"content",ct=a[0].meta.description),t(U,"property","twitter:site"),t(U,"content","@AllanDeutsch"),t(X,"property","twitter:creator"),t(X,"content","@AllanDeutsch"),t(R,"rel","canonical"),t(R,"href",ut=`https://allandeutsch.com/notes/${a[1].params.slug}`),t(k,"type","module"),Qt(k.src,jt="https://docduck.dev/selection.js")||t(k,"src",jt),t(_,"data-name","BMC-Widget"),t(_,"data-cfasync","false"),Qt(_.src,Ft="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js")||t(_,"src",Ft),t(_,"data-id","AllanDeutsch"),t(_,"data-description","Support me on Buy me a coffee!"),t(_,"data-message",""),t(_,"data-color","#5F7FFF"),t(_,"data-position","Right"),t(_,"data-x_margin","18"),t(_,"data-y_margin","18"),ae(J,"team","TKxfdiO22xOXIrW0c0Pfi"),t(Z,"class","mb-8 text-left text-4xl font-bold"),t(q,"class","pr-2"),t(O,"class","hidden sm:inline"),t(z,"class",_t="note__status "+a[0].meta.status+" svelte-1w2p8sa"),t(L,"class","flex flex-col items-end"),t(N,"class","text-md mb-12 mt-4 flex justify-between border-t border-t-neutral border-opacity-20 pt-1 text-base-content"),t(C,"class","w-full max-w-3xl self-center"),t(st,"class","divider"),t(B,"class","prose"),t(g,"class","note-container prose mb-8 max-w-full px-2 svelte-1w2p8sa"),t(S,"rel","stylesheet"),t(S,"href","https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css"),t(S,"integrity","sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB"),t(S,"crossorigin","anonymous")},m(e,n){l(document.head,c),l(document.head,i),l(document.head,$),l(document.head,M),l(document.head,F),l(document.head,W),l(document.head,Q),l(document.head,G),l(document.head,P),l(document.head,V),l(document.head,U),l(document.head,X),l(document.head,R),l(document.head,k),l(document.head,_),w(e,mt,n),w(e,J,n),w(e,dt,n),w(e,g,n),l(g,C),l(C,Z),l(Z,pt),l(C,$t),l(C,N),l(N,A),l(A,q),l(A,O),l(A,bt),l(A,wt),h&&h.m(A,null),l(N,Et),l(N,L),l(L,z),l(z,ft),l(L,Tt),v&&v.m(L,null),l(g,kt),l(g,At),p&&Ct(p,g,null),l(g,ht),l(g,st),l(g,Dt),l(g,B),w(e,vt,n),f&&f.m(e,n),w(e,Y,n),w(e,S,n),y=!0},p(e,[n]){var b;if((!y||n&1)&&s!==(s=e[0].meta.title+" - Allan Deutsch")&&(document.title=s),(!y||n&1&&o!==(o=e[0].meta.description))&&t(c,"content",o),(!y||n&1&&d!==(d=e[0].meta.title))&&t(i,"content",d),(!y||n&2&&I!==(I=`https://allandeutsch.com/notes/${e[1].params.slug}`))&&t(M,"content",I),(!y||n&1&&ot!==(ot=e[0].meta.description))&&t(F,"content",ot),(!y||n&1&&it!==(it=e[0].meta.title))&&t(P,"content",it),(!y||n&1&&ct!==(ct=e[0].meta.description))&&t(V,"content",ct),(!y||n&2&&ut!==(ut=`https://allandeutsch.com/notes/${e[1].params.slug}`))&&t(R,"href",ut),(!y||n&1)&&at!==(at=e[0].meta.title+"")&&It(pt,at),e[0].meta.lastmod&&e[0].meta.lastmod!==e[0].meta.date?h?h.p(e,n):(h=Xt(e),h.c(),h.m(A,null)):h&&(h.d(1),h=null),(!y||n&1)&&nt!==(nt=`${e[0].meta.status} ${e[0].meta.statusIcon??""}`)&&It(ft,nt),(!y||n&1&&_t!==(_t="note__status "+e[0].meta.status+" svelte-1w2p8sa"))&&t(z,"class",_t),e[0].meta.readTime?v?v.p(Mt(e),n):(v=Jt(Mt(e)),v.c(),v.m(L,null)):v&&(v.d(1),v=null),n&1&&x!==(x=e[0].content)){if(p){Ut();const K=p;lt(K.$$.fragment,1,0,()=>{Nt(K,1)}),Gt()}x?(p=Wt(x,qt()),Lt(p.$$.fragment),et(p.$$.fragment,1),Ct(p,g,ht)):p=null}(b=e[0].linkedNotes)!=null&&b.length?f?(f.p(e,n),n&1&&et(f,1)):(f=Zt(e),f.c(),et(f,1),f.m(Y.parentNode,Y)):f&&(Ut(),lt(f,1,1,()=>{f=null}),Gt())},i(e){y||(p&&et(p.$$.fragment,e),et(f),y=!0)},o(e){p&&lt(p.$$.fragment,e),lt(f),y=!1},d(e){e&&(r(mt),r(J),r(dt),r(g),r(vt),r(Y),r(S)),r(c),r(i),r($),r(M),r(F),r(W),r(Q),r(G),r(P),r(V),r(U),r(X),r(R),r(k),r(_),h&&h.d(),v&&v.d(),p&&Nt(p),f&&f.d(e)}}}function fe(a,s,c){let o;ne(a,ie,I=>c(1,o=I));let{data:i}=s;const d=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}),$=d.format(new Date(Date.parse(i.meta.date))),M=d.format(new Date(Date.parse(i.meta.lastmod)));return se(()=>{}),a.$$set=I=>{"data"in I&&c(0,i=I.data)},[i,o,$,M]}class Ee extends le{constructor(s){super(),oe(this,s,fe,pe,te,{data:0})}}export{Ee as component,we as universal};
