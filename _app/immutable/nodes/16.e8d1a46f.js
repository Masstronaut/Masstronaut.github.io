import{s as F,f as g,l as S,a as y,g as p,h as w,m as P,d as _,c as x,j as d,i as C,v as h,n as B,A as q,u as D,z as Y,e as J,L as Z}from"../chunks/scheduler.e9e6880c.js";import{S as H,i as M,g as $,t as A,c as ee,a as I,b as V,d as z,m as R,e as W}from"../chunks/index.ebf47752.js";import{a as te,e as le}from"../chunks/forms.91224d8b.js";import{z as ae}from"../chunks/index.45b59163.js";import{t as N}from"../chunks/toast.7d6ee24d.js";import{e as O}from"../chunks/each.92ad7389.js";import{B as ne}from"../chunks/Button.2db4b9cc.js";/* empty css                                                                   */function T(o,e,t){const l=o.slice();return l[7]=e[t],l}function G(o){let e,t="Required";return{c(){e=g("span"),e.textContent=t,this.h()},l(l){e=p(l,"SPAN",{class:!0,["data-svelte-h"]:!0}),D(e)!=="svelte-13h5n4o"&&(e.textContent=t),this.h()},h(){d(e,"class","label-text-alt text-red-400 font-light text-sm")},m(l,a){C(l,e,a)},d(l){l&&_(e)}}}function K(o){let e,t,l=O(o[5]),a=[];for(let n=0;n<l.length;n+=1)a[n]=Q(T(o,l,n));return{c(){e=g("label"),t=g("ul");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=p(n,"LABEL",{for:!0});var f=w(e);t=p(f,"UL",{class:!0});var r=w(t);for(let i=0;i<a.length;i+=1)a[i].l(r);r.forEach(_),f.forEach(_),this.h()},h(){d(t,"class","p-1"),d(e,"for",o[1])},m(n,f){C(n,e,f),h(e,t);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(t,null)},p(n,f){if(f&32){l=O(n[5]);let r;for(r=0;r<l.length;r+=1){const i=T(n,l,r);a[r]?a[r].p(i,f):(a[r]=Q(i),a[r].c(),a[r].m(t,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=l.length}f&2&&d(e,"for",n[1])},d(n){n&&_(e),Y(a,n)}}}function Q(o){let e,t=o[7]+"",l;return{c(){e=g("li"),l=S(t),this.h()},l(a){e=p(a,"LI",{class:!0});var n=w(e);l=P(n,t),n.forEach(_),this.h()},h(){d(e,"class","text-red-500 text-xs")},m(a,n){C(a,e,n),h(e,l)},p(a,n){n&32&&t!==(t=a[7]+"")&&B(l,t)},d(a){a&&_(e)}}}function re(o){let e,t,l,a,n,f,r,i,c=o[4]&&G(),s=o[5]&&K(o);return{c(){e=g("div"),t=g("label"),l=g("span"),a=S(o[0]),n=y(),c&&c.c(),f=y(),r=g("input"),i=y(),s&&s.c(),this.h()},l(u){e=p(u,"DIV",{class:!0});var m=w(e);t=p(m,"LABEL",{class:!0,for:!0});var k=w(t);l=p(k,"SPAN",{class:!0});var L=w(l);a=P(L,o[0]),L.forEach(_),n=x(k),c&&c.l(k),k.forEach(_),f=x(m),r=p(m,"INPUT",{id:!0,name:!0,type:!0,placeholder:!0,class:!0}),i=x(m),s&&s.l(m),m.forEach(_),this.h()},h(){d(l,"class","label-text"),d(t,"class","label"),d(t,"for",o[1]),r.required=o[4],d(r,"id",o[1]),d(r,"name",o[1]),r.value=o[3],d(r,"type",o[6]),d(r,"placeholder",o[2]),d(r,"class","input input-bordered w-full max-w-lg"),d(e,"class","form-control w-full max-w-lg")},m(u,m){C(u,e,m),h(e,t),h(t,l),h(l,a),h(t,n),c&&c.m(t,null),h(e,f),h(e,r),h(e,i),s&&s.m(e,null)},p(u,[m]){m&1&&B(a,u[0]),u[4]?c||(c=G(),c.c(),c.m(t,null)):c&&(c.d(1),c=null),m&2&&d(t,"for",u[1]),m&16&&(r.required=u[4]),m&2&&d(r,"id",u[1]),m&2&&d(r,"name",u[1]),m&8&&r.value!==u[3]&&(r.value=u[3]),m&64&&d(r,"type",u[6]),m&4&&d(r,"placeholder",u[2]),u[5]?s?s.p(u,m):(s=K(u),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:q,o:q,d(u){u&&_(e),c&&c.d(),s&&s.d()}}}function se(o,e,t){let{label:l}=e,{id:a}=e,{placeholder:n=void 0}=e,{value:f}=e,{required:r=!1}=e,{errors:i=void 0}=e,{type:c="text"}=e;return o.$$set=s=>{"label"in s&&t(0,l=s.label),"id"in s&&t(1,a=s.id),"placeholder"in s&&t(2,n=s.placeholder),"value"in s&&t(3,f=s.value),"required"in s&&t(4,r=s.required),"errors"in s&&t(5,i=s.errors),"type"in s&&t(6,c=s.type)},[l,a,n,f,r,i,c]}class ie extends H{constructor(e){super(),M(this,e,se,re,F,{label:0,id:1,placeholder:2,value:3,required:4,errors:5,type:6})}}function oe(o){let e,t,l="Login/Signup",a,n,f,r,i,c;return{c(){e=g("div"),t=g("h1"),t.textContent=l,a=y(),n=g("p"),f=S("We have sent your magic link to "),r=g("em"),i=S(o[2]),c=S(`. Click it to
			sign in.`),this.h()},l(s){e=p(s,"DIV",{class:!0});var u=w(e);t=p(u,"H1",{class:!0,["data-svelte-h"]:!0}),D(t)!=="svelte-1pclhvg"&&(t.textContent=l),a=x(u),n=p(u,"P",{class:!0});var m=w(n);f=P(m,"We have sent your magic link to "),r=p(m,"EM",{});var k=w(r);i=P(k,o[2]),k.forEach(_),c=P(m,`. Click it to
			sign in.`),m.forEach(_),u.forEach(_),this.h()},h(){d(t,"class","text-center text-3xl font-medium dark:text-white"),d(n,"class","text-center dark:text-white"),d(e,"class","mx-auto mt-12 w-full max-w-lg")},m(s,u){C(s,e,u),h(e,t),h(e,a),h(e,n),h(n,f),h(n,r),h(r,i),h(n,c)},p(s,u){u&4&&B(i,s[2])},i:q,o:q,d(s){s&&_(e)}}}function ce(o){let e,t,l="Login/Signup",a,n,f="We will send you a magic link. Click it to sign in.",r,i,c,s,u,m,k,L,U;return s=new ie({props:{label:"Email address",id:"email",placeholder:"John.Doe@gmail.com",type:"email",value:X,required:!0,errors:[]}}),m=new ne({props:{loading:o[0],disabled:o[0],type:"submit",$$slots:{default:[ue]},$$scope:{ctx:o}}}),{c(){e=g("form"),t=g("h1"),t.textContent=l,a=y(),n=g("p"),n.textContent=f,r=y(),i=g("div"),c=g("div"),V(s.$$.fragment),u=y(),V(m.$$.fragment),this.h()},l(v){e=p(v,"FORM",{method:!0,action:!0,class:!0});var b=w(e);t=p(b,"H1",{class:!0,["data-svelte-h"]:!0}),D(t)!=="svelte-1pclhvg"&&(t.textContent=l),a=x(b),n=p(b,"P",{class:!0,["data-svelte-h"]:!0}),D(n)!=="svelte-zlbc67"&&(n.textContent=f),r=x(b),i=p(b,"DIV",{class:!0});var E=w(i);c=p(E,"DIV",{});var j=w(c);z(s.$$.fragment,j),j.forEach(_),u=x(E),z(m.$$.fragment,E),E.forEach(_),b.forEach(_),this.h()},h(){d(t,"class","text-center text-3xl font-medium dark:text-white"),d(n,"class","text-center dark:text-white"),d(i,"class","mb-6 grid gap-6"),d(e,"method","post"),d(e,"action","/login?/login"),d(e,"class","mx-auto mt-12 w-full max-w-lg")},m(v,b){C(v,e,b),h(e,t),h(e,a),h(e,n),h(e,r),h(e,i),h(i,c),R(s,c,null),h(i,u),R(m,i,null),k=!0,L||(U=Z(le.call(null,e,o[3])),L=!0)},p(v,b){const E={};b&1&&(E.loading=v[0]),b&1&&(E.disabled=v[0]),b&129&&(E.$$scope={dirty:b,ctx:v}),m.$set(E)},i(v){k||(I(s.$$.fragment,v),I(m.$$.fragment,v),k=!0)},o(v){A(s.$$.fragment,v),A(m.$$.fragment,v),k=!1},d(v){v&&_(e),W(s),W(m),L=!1,U()}}}function ue(o){let e=o[0]?"Loading":"Send magic link",t;return{c(){t=S(e)},l(l){t=P(l,e)},m(l,a){C(l,t,a)},p(l,a){a&1&&e!==(e=l[0]?"Loading":"Send magic link")&&B(t,e)},d(l){l&&_(t)}}}function fe(o){let e,t,l,a;const n=[ce,oe],f=[];function r(i,c){return i[1]?1:0}return e=r(o),t=f[e]=n[e](o),{c(){t.c(),l=J()},l(i){t.l(i),l=J()},m(i,c){f[e].m(i,c),C(i,l,c),a=!0},p(i,[c]){let s=e;e=r(i),e===s?f[e].p(i,c):($(),A(f[s],1,1,()=>{f[s]=null}),ee(),t=f[e],t?t.p(i,c):(t=f[e]=n[e](i),t.c()),I(t,1),t.m(l.parentNode,l))},i(i){a||(I(t),a=!0)},o(i){A(t),a=!1},d(i){i&&_(l),f[e].d(i)}}}let X="";function me(o,e,t){let l,a=!1,n=!1,f="";const r=()=>(t(0,a=!0),async({result:c,update:s})=>{var u;switch(c.type){case"success":if(!((u=c.data)!=null&&u.success)){N.error("Something went wrong with Login. Please try again.");break}N.success("ðŸ“¨ A login link has been sent to your email!"),t(1,n=!0),t(2,f=c.data.email);break;case"error":N.error("Something went wrong with Login. Please try again.");break;default:await te(c)}await s(),t(0,a=!1)}),i=ae.string().email({message:"Please enter a valid email address."});return o.$$.update=()=>{o.$$.dirty&16&&l.success},t(4,l=i.safeParse(X)),[a,n,f,r,l]}class de extends H{constructor(e){super(),M(this,e,me,fe,F,{})}}function he(o){let e,t;return e=new de({}),{c(){V(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,a){R(e,l,a),t=!0},p:q,i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}class Ce extends H{constructor(e){super(),M(this,e,null,he,F,{})}}export{Ce as component};
