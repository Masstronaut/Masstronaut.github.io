import{H as Ze}from"../chunks/control.f5b05b5f.js";import{L as Pe,a as Be,N as Je}from"../chunks/LoadNote.6001cb9b.js";import{s as Ye,q as qe,f as m,a as b,l as I,I as xe,g as c,d as r,c as $,h as w,m as M,u as Oe,j as e,M as ve,v as s,i as k,n as Re,H as et,A as Ge}from"../chunks/scheduler.95003110.js";import{S as tt,i as at,b as Ne,d as Xe,m as Le,t as ne,c as Ke,a as Y,e as Ce,g as Qe}from"../chunks/index.46e80ea9.js";import{p as nt}from"../chunks/stores.2a3bf807.js";import"../chunks/paths.6acaf604.js";function Me(a,l){return new Ze(a,l)}new TextEncoder;const lt=async({params:a})=>{let l=await Pe({slug:a.slug});if(!l.success){const o=Be.find(y=>y.slug===a.slug);if(!o||!o.filename||!o.filename.endsWith(".md"))throw Me(404,`Could not find the requested note: '${a.slug}'`);const u=await Pe({slug:o.filename.slice(0,-3)});if(!u.success)throw Me(500,`Could not load note '${a.slug}' with filename '${o.filename}'`);l=u}const d={content:l.content,meta:l.metadata,linkedNotes:[]};if(!l.success)throw Me(500,`Failed to load note '${a.slug}'.`);if(l.metadata.internalLinks.length===0)return d;const i=l.metadata.internalLinks.map(o=>o.slice(7,-1));return d.linkedNotes=Be.filter(o=>i.includes(o.slug)),d},ht=Object.freeze(Object.defineProperty({__proto__:null,load:lt},Symbol.toStringTag,{value:"Module"}));function Ue(a){let l,d,i,o;return{c(){l=m("br"),d=I("Last tended "),i=I(a[3]),o=I(".")},l(u){l=c(u,"BR",{}),d=M(u,"Last tended "),i=M(u,a[3]),o=M(u,".")},m(u,y){k(u,l,y),k(u,d,y),k(u,i,y),k(u,o,y)},p:Ge,d(u){u&&(r(l),r(d),r(i),r(o))}}}function st(a){let l,d=`${rt} minute read ‚è±`,i;return{c(){l=m("div"),i=I(d)},l(o){l=c(o,"DIV",{});var u=w(l);i=M(u,d),u.forEach(r)},m(o,u){k(o,l,u),s(l,i)},p:Ge,d(o){o&&r(l)}}}function We(a){let l,d;return l=new Je({props:{notes:a[0].linkedNotes,title:"Linked notes",showFilters:!1}}),{c(){Ne(l.$$.fragment)},l(i){Xe(l.$$.fragment,i)},m(i,o){Le(l,i,o),d=!0},p(i,o){const u={};o&1&&(u.notes=i[0].linkedNotes),l.$set(u)},i(i){d||(Y(l.$$.fragment,i),d=!0)},o(i){ne(l.$$.fragment,i),d=!1},d(i){Ce(l,i)}}}function ot(a){var Se;let l,d,i,o,u,y,A,D,H,le,R,K,Q,S,se,F,oe,U,W,z,re,ie,h,N,G,x=a[0].meta.title+"",ue,ge,L,E,P,je="üå±",ye,be,$e,we,C,B,ee=`${a[0].meta.status} ${a[0].meta.statusIcon??""}`,me,ce,Ee,ke,Ae,f,de,te,De,q,Ve=`<h2 class="prose-h2:text-lg">Feedback</h2> <p>Thanks for reading this, I hope it has helped you in some way. I&#39;d love it
			if you would share your feedback with my by using one of the buttons
			below. It only takes a second, and whether you love it or hate it, the
			feedback helps me write better content in the future!</p>`,Te,j,fe,Ie,ae,pe,X,V,_;document.title=l=a[0].meta.title+" - Allan Deutsch";let v=a[0].meta.lastmod&&a[0].meta.lastmod!==a[0].meta.date&&Ue(a),T=st();var Z=a[0].content;function He(t,n){return{}}Z&&(f=qe(Z,He()));let p=((Se=a[0].linkedNotes)==null?void 0:Se.length)&&We(a);return{c(){d=m("meta"),o=m("meta"),y=m("meta"),A=m("meta"),H=m("meta"),R=m("meta"),K=m("meta"),Q=m("meta"),S=m("meta"),F=m("meta"),U=m("meta"),W=m("meta"),z=m("link"),ie=b(),h=m("article"),N=m("header"),G=m("h1"),ue=I(x),ge=b(),L=m("div"),E=m("div"),P=m("span"),P.textContent=je,ye=I("Planted "),be=I(a[2]),$e=I(`.
				`),v&&v.c(),we=b(),C=m("div"),B=m("div"),me=I(ee),Ee=b(),T&&T.c(),ke=b(),Ae=b(),f&&Ne(f.$$.fragment),de=b(),te=m("div"),De=b(),q=m("aside"),q.innerHTML=Ve,Te=b(),j=m("pi-thumb"),Ie=b(),ae=m("div"),pe=b(),p&&p.c(),X=b(),V=m("link"),this.h()},l(t){const n=xe("svelte-136g767",document.head);d=c(n,"META",{name:!0,content:!0}),o=c(n,"META",{property:!0,content:!0}),y=c(n,"META",{property:!0,content:!0}),A=c(n,"META",{property:!0,content:!0}),H=c(n,"META",{property:!0,content:!0}),R=c(n,"META",{property:!0,content:!0}),K=c(n,"META",{property:!0,content:!0}),Q=c(n,"META",{property:!0,content:!0}),S=c(n,"META",{property:!0,content:!0}),F=c(n,"META",{property:!0,content:!0}),U=c(n,"META",{property:!0,content:!0}),W=c(n,"META",{property:!0,content:!0}),z=c(n,"LINK",{rel:!0,href:!0}),n.forEach(r),ie=$(t),h=c(t,"ARTICLE",{class:!0});var g=w(h);N=c(g,"HEADER",{class:!0});var O=w(N);G=c(O,"H1",{class:!0});var Fe=w(G);ue=M(Fe,x),Fe.forEach(r),ge=$(O),L=c(O,"DIV",{class:!0});var he=w(L);E=c(he,"DIV",{});var J=w(E);P=c(J,"SPAN",{class:!0,["data-svelte-h"]:!0}),Oe(P)!=="svelte-114jejz"&&(P.textContent=je),ye=M(J,"Planted "),be=M(J,a[2]),$e=M(J,`.
				`),v&&v.l(J),J.forEach(r),we=$(he),C=c(he,"DIV",{class:!0});var _e=w(C);B=c(_e,"DIV",{class:!0});var ze=w(B);me=M(ze,ee),ze.forEach(r),Ee=$(_e),T&&T.l(_e),_e.forEach(r),he.forEach(r),O.forEach(r),ke=$(g),Ae=$(g),f&&Xe(f.$$.fragment,g),de=$(g),te=c(g,"DIV",{class:!0}),w(te).forEach(r),De=$(g),q=c(g,"ASIDE",{class:!0,["data-svelte-h"]:!0}),Oe(q)!=="svelte-v01t3z"&&(q.innerHTML=Ve),Te=$(g),j=c(g,"PI-THUMB",{user:!0,path:!0,team:!0}),w(j).forEach(r),Ie=$(g),ae=c(g,"DIV",{class:!0}),w(ae).forEach(r),g.forEach(r),pe=$(t),p&&p.l(t),X=$(t),V=c(t,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),this.h()},h(){e(d,"name","description"),e(d,"content",i=a[0].meta.description),e(o,"property","og:title"),e(o,"content",u=a[0].meta.title),e(y,"property","og:type"),e(y,"content","article"),e(A,"property","og:url"),e(A,"content",D=`https://allandeutsch.com/notes/${a[1].params.slug}`),e(H,"property","og:description"),e(H,"content",le=a[0].meta.description),e(R,"property","og:locale"),e(R,"content","en_US"),e(K,"property","twitter:card"),e(K,"content","summary"),e(Q,"property","twitter:url"),e(Q,"content","https://allandeutsch.com"),e(S,"property","twitter:title"),e(S,"content",se=a[0].meta.title),e(F,"property","twitter:description"),e(F,"content",oe=a[0].meta.description),e(U,"property","twitter:site"),e(U,"content","@AllanDeutsch"),e(W,"property","twitter:creator"),e(W,"content","@AllanDeutsch"),e(z,"rel","canonical"),e(z,"href",re=`https://allandeutsch.com/notes/${a[1].params.slug}`),e(G,"class","mb-8 text-left text-4xl font-bold"),e(P,"class","pr-2"),e(B,"class",ce="note__status "+a[0].meta.status+" svelte-5s1sz1"),e(C,"class","flex flex-col items-end"),e(L,"class","mb-12 mt-4 flex justify-between border-t border-t-neutral border-opacity-20 pt-1 text-xl text-base-content"),e(N,"class","w-full max-w-3xl self-center"),e(te,"class","divider"),e(q,"class","prose"),ve(j,"user","(anonymous)"),ve(j,"path",fe=`notes/${a[1].params.slug}`),ve(j,"team","d6101342-650f-443e-893a-0bcb31bd8da9"),e(ae,"class","divider"),e(h,"class","prose mx-auto"),e(V,"rel","stylesheet"),e(V,"href","https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css"),e(V,"integrity","sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB"),e(V,"crossorigin","anonymous")},m(t,n){s(document.head,d),s(document.head,o),s(document.head,y),s(document.head,A),s(document.head,H),s(document.head,R),s(document.head,K),s(document.head,Q),s(document.head,S),s(document.head,F),s(document.head,U),s(document.head,W),s(document.head,z),k(t,ie,n),k(t,h,n),s(h,N),s(N,G),s(G,ue),s(N,ge),s(N,L),s(L,E),s(E,P),s(E,ye),s(E,be),s(E,$e),v&&v.m(E,null),s(L,we),s(L,C),s(C,B),s(B,me),s(C,Ee),T&&T.m(C,null),s(h,ke),s(h,Ae),f&&Le(f,h,null),s(h,de),s(h,te),s(h,De),s(h,q),s(h,Te),s(h,j),s(h,Ie),s(h,ae),k(t,pe,n),p&&p.m(t,n),k(t,X,n),k(t,V,n),_=!0},p(t,[n]){var g;if((!_||n&1)&&l!==(l=t[0].meta.title+" - Allan Deutsch")&&(document.title=l),(!_||n&1&&i!==(i=t[0].meta.description))&&e(d,"content",i),(!_||n&1&&u!==(u=t[0].meta.title))&&e(o,"content",u),(!_||n&2&&D!==(D=`https://allandeutsch.com/notes/${t[1].params.slug}`))&&e(A,"content",D),(!_||n&1&&le!==(le=t[0].meta.description))&&e(H,"content",le),(!_||n&1&&se!==(se=t[0].meta.title))&&e(S,"content",se),(!_||n&1&&oe!==(oe=t[0].meta.description))&&e(F,"content",oe),(!_||n&2&&re!==(re=`https://allandeutsch.com/notes/${t[1].params.slug}`))&&e(z,"href",re),(!_||n&1)&&x!==(x=t[0].meta.title+"")&&Re(ue,x),t[0].meta.lastmod&&t[0].meta.lastmod!==t[0].meta.date?v?v.p(t,n):(v=Ue(t),v.c(),v.m(E,null)):v&&(v.d(1),v=null),(!_||n&1)&&ee!==(ee=`${t[0].meta.status} ${t[0].meta.statusIcon??""}`)&&Re(me,ee),(!_||n&1&&ce!==(ce="note__status "+t[0].meta.status+" svelte-5s1sz1"))&&e(B,"class",ce),T.p(t,n),n&1&&Z!==(Z=t[0].content)){if(f){Qe();const O=f;ne(O.$$.fragment,1,0,()=>{Ce(O,1)}),Ke()}Z?(f=qe(Z,He()),Ne(f.$$.fragment),Y(f.$$.fragment,1),Le(f,h,de)):f=null}(!_||n&2&&fe!==(fe=`notes/${t[1].params.slug}`))&&ve(j,"path",fe),(g=t[0].linkedNotes)!=null&&g.length?p?(p.p(t,n),n&1&&Y(p,1)):(p=We(t),p.c(),Y(p,1),p.m(X.parentNode,X)):p&&(Qe(),ne(p,1,1,()=>{p=null}),Ke())},i(t){_||(f&&Y(f.$$.fragment,t),Y(p),_=!0)},o(t){f&&ne(f.$$.fragment,t),ne(p),_=!1},d(t){t&&(r(ie),r(h),r(pe),r(X),r(V)),r(d),r(o),r(y),r(A),r(H),r(R),r(K),r(Q),r(S),r(F),r(U),r(W),r(z),v&&v.d(),T&&T.d(),f&&Ce(f),p&&p.d(t)}}}const rt=1;function it(a,l,d){let i;et(a,nt,D=>d(1,i=D));let{data:o}=l;const u=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}),y=u.format(new Date(Date.parse(o.meta.date))),A=u.format(new Date(Date.parse(o.meta.lastmod)));return a.$$set=D=>{"data"in D&&d(0,o=D.data)},[o,i,y,A]}class _t extends tt{constructor(l){super(),at(this,l,it,ot,Ye,{data:0})}}export{_t as component,ht as universal};
