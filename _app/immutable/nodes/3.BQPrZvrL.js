import{L as Wt}from"../chunks/NoteGridStatusFilter.svelte_svelte_type_style_lang.CpOpTqq4.js";import{H as te}from"../chunks/entry.B4zTv_M-.js";import{s as ee,L as Qt,e as m,a as T,t as j,l as ae,c as d,m as ot,f as r,g as A,b as w,d as S,o as t,A as Ut,a3 as ne,h as o,i as b,j as Mt,k as re,n as se}from"../chunks/scheduler.D0NR2qGA.js";import{S as le,i as oe,c as Lt,a as xt,m as Nt,b as it,e as Gt,t as et,d as jt,g as Xt}from"../chunks/index.BbYnIXAR.js";import{p as ie}from"../chunks/stores.CGoUqq9Q.js";import{N as ce}from"../chunks/NoteGrid.BOFDw8_1.js";function ue(n,s){throw new te(n,s)}new TextEncoder;function me(n){return n.replace(/^\/|\/$/g,"")}const de=async({params:n})=>{const s=me(n.slug),l=await Wt({slug:s});l.success||(console.error(`Failed to load it successfully. Error: "${l.error}"`),ue(404,`Could not find the requested note: '${s}'`));const c={content:l.content,meta:l.metadata,linkedNotes:[]};if(l.metadata.internalLinks.length===0)return c;for(let i of l.metadata.internalLinks)i=i.replace(/^\/|\/$/g,""),await Wt({slug:i}).then(u=>{u.success&&c.linkedNotes.push(u.metadata)});return c},$e=Object.freeze(Object.defineProperty({__proto__:null,load:de},Symbol.toStringTag,{value:"Module"}));function It(n){const s=n.slice(),l=s[0].meta.readTime;return s[5]=l,s}function Zt(n){let s,l,c,i;return{c(){s=m("br"),l=j("Last tended "),c=j(n[3]),i=j(".")},l(u){s=d(u,"BR",{}),l=S(u,"Last tended "),c=S(u,n[3]),i=S(u,".")},m(u,$){b(u,s,$),b(u,l,$),b(u,c,$),b(u,i,$)},p:se,d(u){u&&(r(s),r(l),r(c),r(i))}}}function Jt(n){let s,l=`${n[5]} ${n[5]>1?"minutes":"minute"} read ‚è±`,c;return{c(){s=m("div"),c=j(l)},l(i){s=d(i,"DIV",{});var u=w(s);c=S(u,l),u.forEach(r)},m(i,u){b(i,s,u),o(s,c)},p(i,u){u&1&&l!==(l=`${i[5]} ${i[5]>1?"minutes":"minute"} read ‚è±`)&&Mt(c,l)},d(i){i&&r(s)}}}function Yt(n){let s,l;return s=new ce({props:{notes:n[0].linkedNotes,title:"Linked notes",showFilters:!1}}),{c(){Lt(s.$$.fragment)},l(c){xt(s.$$.fragment,c)},m(c,i){Nt(s,c,i),l=!0},p(c,i){const u={};i&1&&(u.notes=c[0].linkedNotes),s.$set(u)},i(c){l||(et(s.$$.fragment,c),l=!0)},o(c){it(s.$$.fragment,c),l=!1},d(c){jt(s,c)}}}function fe(n){var Kt;let s,l,c,i,u,$,D,C,F,ct,W,Q,U,H,ut,V,mt,G,X,P,dt,E,St="",Ft,_,Ht="",Vt,ft,Z,pt,O,q,at=n[0].meta.title+"",_t,ht,g,J,M,k,B,Pt="üå±",K,Ot=`Planted
				`,Et,kt,Tt,I,R,nt=`${n[0].meta.status} ${n[0].meta.statusIcon??""}`,vt,gt,At,Dt,f,yt,rt,Ct,z,qt=`<p>If you&#39;re feeling extra generous, you can show your support by buying me a
			coffee with the button in the bottom right corner of the page.</p> <div class="divider"></div>`,bt,Y,L,y;document.title=s=n[0].meta.title+" - Allan Deutsch";let h=n[0].meta.lastmod&&n[0].meta.lastmod!==n[0].meta.date&&Zt(n),v=n[0].meta.readTime&&Jt(It(n));var x=n[0].content;function Bt(e,a){return{}}x&&(f=Qt(x,Bt()));let p=((Kt=n[0].linkedNotes)==null?void 0:Kt.length)&&Yt(n);return{c(){l=m("meta"),i=m("meta"),$=m("meta"),D=m("meta"),F=m("meta"),W=m("meta"),Q=m("meta"),U=m("meta"),H=m("meta"),V=m("meta"),G=m("meta"),X=m("meta"),P=m("link"),E=m("script"),E.innerHTML=St,_=m("script"),_.innerHTML=Ht,ft=T(),Z=m("docduck-feedback"),pt=T(),O=m("div"),q=m("h1"),_t=j(at),ht=T(),g=m("article"),J=m("header"),M=m("div"),k=m("div"),B=m("span"),B.textContent=Pt,K=m("span"),K.textContent=Ot,Et=j(n[2]),kt=j(`.
				`),h&&h.c(),Tt=T(),I=m("div"),R=m("div"),vt=j(nt),At=T(),v&&v.c(),Dt=T(),f&&Lt(f.$$.fragment),yt=T(),rt=m("div"),Ct=T(),z=m("aside"),z.innerHTML=qt,bt=T(),p&&p.c(),Y=T(),L=m("link"),this.h()},l(e){const a=ae("svelte-x3qw35",document.head);l=d(a,"META",{name:!0,content:!0}),i=d(a,"META",{property:!0,content:!0}),$=d(a,"META",{property:!0,content:!0}),D=d(a,"META",{property:!0,content:!0}),F=d(a,"META",{property:!0,content:!0}),W=d(a,"META",{property:!0,content:!0}),Q=d(a,"META",{property:!0,content:!0}),U=d(a,"META",{property:!0,content:!0}),H=d(a,"META",{property:!0,content:!0}),V=d(a,"META",{property:!0,content:!0}),G=d(a,"META",{property:!0,content:!0}),X=d(a,"META",{property:!0,content:!0}),P=d(a,"LINK",{rel:!0,href:!0}),E=d(a,"SCRIPT",{type:!0,src:!0,"data-svelte-h":!0}),ot(E)!=="svelte-1qfon0b"&&(E.innerHTML=St),_=d(a,"SCRIPT",{"data-name":!0,"data-cfasync":!0,src:!0,"data-id":!0,"data-description":!0,"data-message":!0,"data-color":!0,"data-position":!0,"data-x_margin":!0,"data-y_margin":!0,"data-svelte-h":!0}),ot(_)!=="svelte-bv2cpr"&&(_.innerHTML=Ht),a.forEach(r),ft=A(e),Z=d(e,"DOCDUCK-FEEDBACK",{team:!0}),w(Z).forEach(r),pt=A(e),O=d(e,"DIV",{class:!0});var st=w(O);q=d(st,"H1",{class:!0,style:!0});var lt=w(q);_t=S(lt,at),lt.forEach(r),st.forEach(r),ht=A(e),g=d(e,"ARTICLE",{class:!0,style:!0});var N=w(g);J=d(N,"HEADER",{class:!0});var Rt=w(J);M=d(Rt,"DIV",{class:!0});var $t=w(M);k=d($t,"DIV",{});var tt=w(k);B=d(tt,"SPAN",{class:!0,"data-svelte-h":!0}),ot(B)!=="svelte-114jejz"&&(B.textContent=Pt),K=d(tt,"SPAN",{class:!0,"data-svelte-h":!0}),ot(K)!=="svelte-1psjisz"&&(K.textContent=Ot),Et=S(tt,n[2]),kt=S(tt,`.
				`),h&&h.l(tt),tt.forEach(r),Tt=A($t),I=d($t,"DIV",{class:!0});var wt=w(I);R=d(wt,"DIV",{class:!0});var zt=w(R);vt=S(zt,nt),zt.forEach(r),At=A(wt),v&&v.l(wt),wt.forEach(r),$t.forEach(r),Rt.forEach(r),Dt=A(N),f&&xt(f.$$.fragment,N),yt=A(N),rt=d(N,"DIV",{class:!0}),w(rt).forEach(r),Ct=A(N),z=d(N,"ASIDE",{class:!0,"data-svelte-h":!0}),ot(z)!=="svelte-1w3uusp"&&(z.innerHTML=qt),N.forEach(r),bt=A(e),p&&p.l(e),Y=A(e),L=d(e,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),this.h()},h(){t(l,"name","description"),t(l,"content",c=n[0].meta.description),t(i,"property","og:title"),t(i,"content",u=n[0].meta.title),t($,"property","og:type"),t($,"content","article"),t(D,"property","og:url"),t(D,"content",C=`https://allandeutsch.com/${n[1].params.slug}`),t(F,"property","og:description"),t(F,"content",ct=n[0].meta.description),t(W,"property","og:locale"),t(W,"content","en_US"),t(Q,"property","twitter:card"),t(Q,"content","summary"),t(U,"property","twitter:url"),t(U,"content","https://allandeutsch.com"),t(H,"property","twitter:title"),t(H,"content",ut=n[0].meta.title),t(V,"property","twitter:description"),t(V,"content",mt=n[0].meta.description),t(G,"property","twitter:site"),t(G,"content","@AllanDeutsch"),t(X,"property","twitter:creator"),t(X,"content","@AllanDeutsch"),t(P,"rel","canonical"),t(P,"href",dt=`https://allandeutsch.com/${n[1].params.slug}`),t(E,"type","module"),Ut(E.src,Ft="https://docduck.dev/selection.js")||t(E,"src",Ft),t(_,"data-name","BMC-Widget"),t(_,"data-cfasync","false"),Ut(_.src,Vt="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js")||t(_,"src",Vt),t(_,"data-id","AllanDeutsch"),t(_,"data-description","Support me on Buy me a coffee!"),t(_,"data-message",""),t(_,"data-color","#5F7FFF"),t(_,"data-position","Right"),t(_,"data-x_margin","18"),t(_,"data-y_margin","18"),ne(Z,"team","TKxfdiO22xOXIrW0c0Pfi"),t(q,"class","col-start-2 col-end-3 text-left text-4xl font-bold"),t(q,"style","view-transition-name: title"),t(O,"class","grid w-full grid-cols-[1fr_min(65ch,100%)_1fr]"),t(B,"class","pr-2"),t(K,"class","hidden sm:inline"),t(R,"class",gt="note__status "+n[0].meta.status+" svelte-hudpsb"),t(I,"class","flex flex-col items-end"),t(M,"class","text-md mb-12 mt-4 flex justify-between border-t border-t-neutral border-opacity-20 pt-1 text-base-content"),t(J,"class","w-full max-w-3xl self-center"),t(rt,"class","divider"),t(z,"class","prose"),t(g,"class","note-container prose mb-8 max-w-full px-2 svelte-hudpsb"),t(g,"style","view-transition-name: article;"),t(L,"rel","stylesheet"),t(L,"href","https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css"),t(L,"integrity","sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB"),t(L,"crossorigin","anonymous")},m(e,a){o(document.head,l),o(document.head,i),o(document.head,$),o(document.head,D),o(document.head,F),o(document.head,W),o(document.head,Q),o(document.head,U),o(document.head,H),o(document.head,V),o(document.head,G),o(document.head,X),o(document.head,P),o(document.head,E),o(document.head,_),b(e,ft,a),b(e,Z,a),b(e,pt,a),b(e,O,a),o(O,q),o(q,_t),b(e,ht,a),b(e,g,a),o(g,J),o(J,M),o(M,k),o(k,B),o(k,K),o(k,Et),o(k,kt),h&&h.m(k,null),o(M,Tt),o(M,I),o(I,R),o(R,vt),o(I,At),v&&v.m(I,null),o(g,Dt),f&&Nt(f,g,null),o(g,yt),o(g,rt),o(g,Ct),o(g,z),b(e,bt,a),p&&p.m(e,a),b(e,Y,a),b(e,L,a),y=!0},p(e,[a]){var st;if((!y||a&1)&&s!==(s=e[0].meta.title+" - Allan Deutsch")&&(document.title=s),(!y||a&1&&c!==(c=e[0].meta.description))&&t(l,"content",c),(!y||a&1&&u!==(u=e[0].meta.title))&&t(i,"content",u),(!y||a&2&&C!==(C=`https://allandeutsch.com/${e[1].params.slug}`))&&t(D,"content",C),(!y||a&1&&ct!==(ct=e[0].meta.description))&&t(F,"content",ct),(!y||a&1&&ut!==(ut=e[0].meta.title))&&t(H,"content",ut),(!y||a&1&&mt!==(mt=e[0].meta.description))&&t(V,"content",mt),(!y||a&2&&dt!==(dt=`https://allandeutsch.com/${e[1].params.slug}`))&&t(P,"href",dt),(!y||a&1)&&at!==(at=e[0].meta.title+"")&&Mt(_t,at),e[0].meta.lastmod&&e[0].meta.lastmod!==e[0].meta.date?h?h.p(e,a):(h=Zt(e),h.c(),h.m(k,null)):h&&(h.d(1),h=null),(!y||a&1)&&nt!==(nt=`${e[0].meta.status} ${e[0].meta.statusIcon??""}`)&&Mt(vt,nt),(!y||a&1&&gt!==(gt="note__status "+e[0].meta.status+" svelte-hudpsb"))&&t(R,"class",gt),e[0].meta.readTime?v?v.p(It(e),a):(v=Jt(It(e)),v.c(),v.m(I,null)):v&&(v.d(1),v=null),a&1&&x!==(x=e[0].content)){if(f){Xt();const lt=f;it(lt.$$.fragment,1,0,()=>{jt(lt,1)}),Gt()}x?(f=Qt(x,Bt()),Lt(f.$$.fragment),et(f.$$.fragment,1),Nt(f,g,yt)):f=null}(st=e[0].linkedNotes)!=null&&st.length?p?(p.p(e,a),a&1&&et(p,1)):(p=Yt(e),p.c(),et(p,1),p.m(Y.parentNode,Y)):p&&(Xt(),it(p,1,1,()=>{p=null}),Gt())},i(e){y||(f&&et(f.$$.fragment,e),et(p),y=!0)},o(e){f&&it(f.$$.fragment,e),it(p),y=!1},d(e){e&&(r(ft),r(Z),r(pt),r(O),r(ht),r(g),r(bt),r(Y),r(L)),r(l),r(i),r($),r(D),r(F),r(W),r(Q),r(U),r(H),r(V),r(G),r(X),r(P),r(E),r(_),h&&h.d(),v&&v.d(),f&&jt(f),p&&p.d(e)}}}function pe(n,s,l){let c;re(n,ie,C=>l(1,c=C));let{data:i}=s;const u=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}),$=u.format(new Date(Date.parse(i.meta.date))),D=u.format(new Date(Date.parse(i.meta.lastmod)));return n.$$set=C=>{"data"in C&&l(0,i=C.data)},[i,c,$,D]}class we extends le{constructor(s){super(),oe(this,s,pe,fe,ee,{data:0})}}export{we as component,$e as universal};
