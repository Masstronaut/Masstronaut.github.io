<!doctype html>
<html lang="en" class="min-h-full">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../_app/immutable/assets/0.Db0SiVKR.css" rel="stylesheet">
		<link href="../_app/immutable/assets/NoteGridStatusFilter.CJR5s3-7.css" rel="stylesheet">
		<link href="../_app/immutable/assets/MDSveXNoteLayout.DSVYOmHN.css" rel="stylesheet">
		<link href="../_app/immutable/assets/3.D_43WCC9.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.4LCu-Tfn.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/entry.CSk3787E.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/scheduler.DG9R8YhD.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.BfSw97s0.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.Epe6lyMB.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/preload-helper.D6kgxu3v.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.DXoakw9j.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.DUX4gN8q.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/each.C67w4ChY.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/NoteGridStatusFilter.svelte_svelte_type_style_lang.BhJnxXgk.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/3.DeZkmgjH.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/stores.C10U3_On.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/NoteGrid.DwZV2FUK.js"><title>Svelte component APIs - Allan Deutsch</title><!-- HEAD_svelte-x3qw35_START --><meta name="description" content="There are many ways to Svelte a component..."><meta property="og:title" content="Svelte component APIs"><meta property="og:type" content="article"><meta property="og:url" content="https://allandeutsch.com/notes/svelte-component-apis"><meta property="og:description" content="There are many ways to Svelte a component..."><meta property="og:locale" content="en_US"><meta property="twitter:card" content="summary"><meta property="twitter:url" content="https://allandeutsch.com"><meta property="twitter:title" content="Svelte component APIs"><meta property="twitter:description" content="There are many ways to Svelte a component..."><meta property="twitter:site" content="@AllanDeutsch"><meta property="twitter:creator" content="@AllanDeutsch"><link rel="canonical" href="https://allandeutsch.com/notes/svelte-component-apis"><script type="module" src="https://docduck.dev/selection.js" data-svelte-h="svelte-1qfon0b"></script><script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="AllanDeutsch" data-description="Support me on Buy me a coffee!" data-message="" data-color="#5F7FFF" data-position="Right" data-x_margin="18" data-y_margin="18" data-svelte-h="svelte-bv2cpr"></script><!-- HEAD_svelte-x3qw35_END --><!-- HEAD_svelte-cpyj77_START -->   <meta name="theme-color" content="dark"><!-- HTML_TAG_START --><script nonce="%sveltekit.nonce%">(function setInitialMode(defaultMode, themeColors2) {
  const rootEl = document.documentElement;
  const mode = localStorage.getItem("mode-watcher-mode") || defaultMode;
  const light = mode === "light" || mode === "system" && window.matchMedia("(prefers-color-scheme: light)").matches;
  rootEl.classList[light ? "remove" : "add"]("dark");
  rootEl.style.colorScheme = light ? "light" : "dark";
  if (themeColors2) {
    const themeMetaEl = document.querySelector('meta[name="theme-color"]');
    if (themeMetaEl) {
      themeMetaEl.setAttribute("content", mode === "light" ? themeColors2.light : themeColors2.dark);
    }
  }
  localStorage.setItem("mode-watcher-mode", mode);
})("system", {"dark":"dark","light":"light"});</script><!-- HTML_TAG_END --><!-- HEAD_svelte-cpyj77_END -->
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script
			async
			src="https://www.googletagmanager.com/gtag/js?id=UA-86124920-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag('js', new Date());

			gtag('config', 'UA-86124920-1');
		</script>
	</head>
	<body class="h-full min-h-[100vh] bg-base-100">
		<div style="display: contents">  <div class="h-full min-h-[100dvh]"><div class="toaster  svelte-jyff3d" role="alert"> </div> <div class="navbar bg-base-100 print:hidden"><div class="navbar-start"><div class="dropdown"><button tabindex="0" class="btn btn-ghost sm:hidden" data-svelte-h="svelte-o7egld"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path></svg></button>  <ul tabindex="0" class="dropdown-content menu rounded-box menu-sm mt-3 w-52 bg-base-100 p-2 shadow"><li><a href="/">Home</a></li><li><a href="/notes">Notes</a></li><li><a href="/devlog">Devlog</a></li></ul></div> <a class="btn btn-ghost text-xl normal-case" href="/">Allan Deutsch</a></div> <div class="navbar-center hidden sm:flex"><ul class="menu menu-horizontal px-1 text-base"><li><a href="/">Home</a></li><li><a href="/notes">Notes</a></li><li><a href="/devlog">Devlog</a></li></ul></div> <div class="navbar-end"> <div class="h-8" data-svelte-h="svelte-1hosge2"><a href="https://twitter.com/AllanDeutsch" class="group"><svg height="24" width="24" class="mr-1.5 inline fill-base-content transition-colors duration-300 group-hover:fill-primary" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612"><path d="M612 116.258a250.714 250.714 0 01-72.088 19.772c25.929-15.527 45.777-40.155 55.184-69.411-24.322 14.379-51.169 24.82-79.775 30.48-22.907-24.437-55.49-39.658-91.63-39.658-69.334 0-125.551 56.217-125.551 125.513 0 9.828 1.109 19.427 3.251 28.606-104.326-5.24-196.835-55.223-258.75-131.174-10.823 18.51-16.98 40.078-16.98 63.101 0 43.559 22.181 81.993 55.835 104.479a125.556 125.556 0 01-56.867-15.756v1.568c0 60.806 43.291 111.554 100.693 123.104-10.517 2.83-21.607 4.398-33.08 4.398-8.107 0-15.947-.803-23.634-2.333 15.985 49.907 62.336 86.199 117.253 87.194-42.947 33.654-97.099 53.655-155.916 53.655-10.134 0-20.116-.612-29.944-1.721 55.567 35.681 121.536 56.485 192.438 56.485 230.948 0 357.188-191.291 357.188-357.188l-.421-16.253c24.666-17.593 46.005-39.697 62.794-64.861z"></path></svg></a> <a href="https://github.com/masstronaut" class="group"><svg height="24" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true" class="mr-1.5 inline fill-base-content transition-colors duration-300 group-hover:fill-primary"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a></div> </div></div> <div class="h-full p-1 sm:p-4"> <docduck-feedback team="TKxfdiO22xOXIrW0c0Pfi"></docduck-feedback> <article class="note-container prose mb-8 max-w-full px-2 svelte-4qytck"><header class="w-full max-w-3xl self-center"><h1 class="mb-8 text-left text-4xl font-bold">Svelte component APIs</h1> <div class="text-md mb-12 mt-4 flex justify-between border-t border-t-neutral border-opacity-20 pt-1 text-base-content"><div><span class="pr-2" data-svelte-h="svelte-114jejz">üå±</span><span class="hidden sm:inline" data-svelte-h="svelte-1psjisz">Planted
				</span>February 13, 2024.
				<br>Last tended February 6, 2024.</div> <div class="flex flex-col items-end"><div class="note__status seedling svelte-4qytck">seedling üå±</div>  <div>8 minutes read ‚è±</div></div></div></header>  <p data-svelte-h="svelte-1eh5o8t">There are a handful of possible approaches to designing the API for a svelte component. I document the ones I‚Äôve encountered and my thoughts on them here. If there is a more widely-used name for any of them, or there is a design I‚Äôm missing, please <a href="https://twitter.com/AllanDeutsch" rel="nofollow">let me know</a>!</p> <ul data-svelte-h="svelte-7omskk"><li>Self-contained component</li> <li>Slot component</li> <li>Fragmented component</li> <li>Nesting doll component</li></ul> <div class="table-container col-start-1 col-end-4 w-full overflow-x-scroll svelte-ct1coh"><table><thead data-svelte-h="svelte-w2ngdb"><tr><th>API characteristic</th> <th>Self-contained</th> <th>Slot</th> <th>Fragmented</th> <th>Nesting doll</th></tr></thead> <tbody data-svelte-h="svelte-3pjfc7"><tr><td>Flexibility</td> <td>Very low</td> <td>Excellent</td> <td>Moderate+</td> <td>Moderate</td></tr> <tr><td>Opinionatedness</td> <td>High</td> <td>Very low</td> <td>Low</td> <td>Moderate</td></tr> <tr><td>Discoverability</td> <td>Excellent</td> <td>Poor</td> <td>Sufficient</td> <td>Very good</td></tr> <tr><td>Boilerplate</td> <td>Excellent</td> <td>Low</td> <td>Moderate</td> <td>Moderate</td></tr> <tr><td>Misusability</td> <td>Very low</td> <td>Very high</td> <td>Moderate+</td> <td>Low</td></tr> <tr><td>Error quality</td> <td>Excellent</td> <td>Poor</td> <td>Moderate</td> <td>Good</td></tr></tbody></table> </div> <p data-svelte-h="svelte-1iircgq">In brief, I think of these API characteristics as follows:</p> <ul data-svelte-h="svelte-1r8v0xh"><li><strong>Flexibility</strong>: how well an API can adapt to a wide variety of uses not anticipated by the API author</li> <li><strong>Opinionatedness</strong>: whether the API imposes its opinions on the consumer or leaves room for the consumer‚Äôs opinions on how things should be done</li> <li><strong>Discoverability</strong>: how easy is it to ‚Äúdiscover‚Äù what the API can do without reading its source code or documentation</li> <li><strong>Boilerplate</strong>: does the API require a lot of ‚Äúcopy-paste‚Äù code to interact with it, or can it be used without writing lots of code</li> <li><strong>Misusability</strong>: is it easy to use the API in an incorrect or sub-optimal way? <a href="/notes/make-api-misuse-hard">Make API misuse hard</a>.</li> <li><strong>Error quality</strong>: when something is wrong, how helpful are the errors? How helpful can they be?</li></ul> <h2 id="self-contained-component" data-svelte-h="svelte-1sfor7n"><a aria-hidden="true" tabindex="-1" href="#self-contained-component"><span class="icon icon-link"></span></a><a href="#self-contained-component" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Self-contained component</h2> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">script</span><span style="color:#B07D48;--shiki-dark:#BD976A"> lang</span><span style="color:#999999;--shiki-dark:#666666">=</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">ts</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	import</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><span style="color:#B07D48;--shiki-dark:#BD976A">Accordion</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#1E754F;--shiki-dark:#4D9375"> from</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">$lib/components</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">	const </span><span style="color:#B07D48;--shiki-dark:#BD976A">accordionData</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> [&#123;</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">			title</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">Click to expand</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">			content</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">Hello, world</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#125;,</span><span style="color:#999999;--shiki-dark:#666666"> &#123; </span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">			title</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">I expand too!</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">			content</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">Click me again to make me collapse</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#125;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	]</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">script</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#B07D48;--shiki-dark:#BD976A"> items</span><span style="color:#999999;--shiki-dark:#666666">=&#123;</span><span style="color:#B07D48;--shiki-dark:#BD976A">accordionData</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#999999;--shiki-dark:#666666"> /></span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">&lt;script lang="ts"&gt;
	import &#123;Accordion&#125; from '$lib/components'
	const accordionData = [&#123;
			title: "Click to expand",
			content: "Hello, world"
		&#125;, &#123; 
			title: "I expand too!",
			content: "Click me again to make me collapse"
		&#125;
	]
&lt;/script&gt;
&lt;Accordion items=&#123;accordionData&#125; /&gt;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-1vv895g">Self-contained components tend to have minimal APIs, typically defined in a single file. I‚Äôve found them the easiest to read and understand within my own codebase. They also have great error messaging when used improperly: not providing <code>items</code> or providing <code>items</code> of the wrong type both result in typescript errors. However, the minimal API of self-contained components offers minimal flexibility to consumers. The consumer is unable to do any customization not explicitly supported by the API. Adding a button in the first accordion item (as was done with the Fragmented component API) can‚Äôt be done without changing the <code>Accordion</code> API, which also has no way to style nested elements like the accordion items. While it‚Äôs possible to work around this limitation, doing so would require a much less minimal API:</p> <ul data-svelte-h="svelte-1z8ir4"><li>Optional styles for each item passed to <code>items</code></li> <li>Accepting a <code>SvelteComponent</code> as an option for the <code>items</code> prop (which would require each item be defined in a separate component file)</li> <li>Having a way to pass nested styles to the <code>Accordion</code> component</li></ul> <p data-svelte-h="svelte-19mft4q">I find all of these are very unpleasant ways to customize a component, so I believe this API design is best for single-use components at the application layer that can afford to be stubbornly opinionated.</p> <h2 id="slot-component" data-svelte-h="svelte-1bvaq8v"><a aria-hidden="true" tabindex="-1" href="#slot-component"><span class="icon icon-link"></span></a><a href="#slot-component" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Slot component</h2> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">script</span><span style="color:#B07D48;--shiki-dark:#BD976A"> lang</span><span style="color:#999999;--shiki-dark:#666666">=</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">ts</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	import</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><span style="color:#B07D48;--shiki-dark:#BD976A">Accordion</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#B07D48;--shiki-dark:#BD976A"> AccordionItem</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#1E754F;--shiki-dark:#4D9375"> from</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">$lib/components</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">script</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">AccordionItem</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">h2</span><span style="color:#B07D48;--shiki-dark:#BD976A"> slot</span><span style="color:#999999;--shiki-dark:#666666">=</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">title</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">Click to expand</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">h2</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">svelte</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#1E754F;--shiki-dark:#4D9375">fragment</span><span style="color:#B07D48;--shiki-dark:#BD976A"> slot</span><span style="color:#999999;--shiki-dark:#666666">=</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">content</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">			&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">p</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">Hello, world</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">p</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">			&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">button</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">Click me</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">button</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">svelte</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#1E754F;--shiki-dark:#4D9375">fragment</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">AccordionItem</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">AccordionItem</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">h2</span><span style="color:#B07D48;--shiki-dark:#BD976A"> slot</span><span style="color:#999999;--shiki-dark:#666666">=</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">title</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">I expand too!</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">h2</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">			&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">p</span><span style="color:#B07D48;--shiki-dark:#BD976A"> slot</span><span style="color:#999999;--shiki-dark:#666666">=</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">content</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">Click me again to make me collapse</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">p</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">AccordionItem</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#999999;--shiki-dark:#666666">></span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">&lt;script lang="ts"&gt;
	import &#123;Accordion, AccordionItem&#125; from '$lib/components'
&lt;/script&gt;

&lt;Accordion&gt;
	&lt;AccordionItem&gt;
		&lt;h2 slot="title"&gt;Click to expand&lt;/h2&gt;
		&lt;svelte:fragment slot="content"&gt;
			&lt;p&gt;Hello, world&lt;/p&gt;
			&lt;button&gt;Click me&lt;/button&gt;
		&lt;/svelte:fragment&gt;
	&lt;/AccordionItem&gt;
	&lt;AccordionItem&gt;
		&lt;h2 slot="title"&gt;I expand too!&lt;/h2&gt;
			&lt;p slot="content"&gt;Click me again to make me collapse&lt;/p&gt;
	&lt;/AccordionItem&gt;
&lt;/Accordion&gt;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-ovlbix"><a href="https://svelte.dev/docs/special-elements#slot" rel="nofollow">Svelte slots</a> are a great way to allow client code to specify nested content. Slot component APIs are a middle ground between strongly opinionated and unopinionated. They allow the client code to provide content of any structure they choose and style it as they see fit. The component maintains its intended structure because it can specify where the content of each slot goes. By only imposing some structure, I find slot components are able to retain the simpler data models and maintainability of self-contained components, while offering some of the flexibility of fragmented &amp; nested doll components.</p> <p data-svelte-h="svelte-58xd93">Where I find the slot approach lacking is in the API discoverability. I haven‚Äôt found a way to coerce my text editor to suggest slots as <code>name=&quot;&quot;</code> attribute values. Similarly, TypeScript seems blissfully unaware of slots. This means I must either read the component code or documentation to know about its slots. I find neither approach as ergonomic as an in-editor IntelliSense suggestion.</p> <p data-svelte-h="svelte-9s8ezc">The slot approach seems ideal for components which need a high-degree of customization for their content, while still wrapping that content in a well-defined design system or underlying functionality. Slots shine brightest in minimally reused layout components like a sidebar or header where the content can vary wildly but needs to remain on-brand. The poor API discoverability makes a slot API undesirable for frequently used or undocumented components.</p> <h2 id="fragmented-component" data-svelte-h="svelte-17yxhtp"><a aria-hidden="true" tabindex="-1" href="#fragmented-component"><span class="icon icon-link"></span></a><a href="#fragmented-component" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Fragmented component</h2> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">script</span><span style="color:#B07D48;--shiki-dark:#BD976A"> lang</span><span style="color:#999999;--shiki-dark:#666666">=</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">ts</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	import</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><span style="color:#B07D48;--shiki-dark:#BD976A">Accordion</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#1E754F;--shiki-dark:#4D9375"> from</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">$lib/components</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">script</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Root</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Item</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Title</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">			Click to expand</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Title</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Content</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">			&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">p</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">Hello, world</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">p</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">			&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">button</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">Click me</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">button</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Content</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Item</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Item</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Title</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">			I expand too!</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Title</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Content</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">			&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">p</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">Click me again to make me collapse</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">p</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Content</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Item</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">Root</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">&lt;script lang="ts"&gt;
	import &#123;Accordion&#125; from '$lib/components'
&lt;/script&gt;

&lt;Accordion.Root&gt;
	&lt;Accordion.Item&gt;
		&lt;Accordion.Title&gt;
			Click to expand
		&lt;/Accordion.Title&gt;
		&lt;Accordion.Content&gt;
			&lt;p&gt;Hello, world&lt;/p&gt;
			&lt;button&gt;Click me&lt;/button&gt;
		&lt;/Accordion.Content&gt;
	&lt;/Accordion.Item&gt;
	&lt;Accordion.Item&gt;
		&lt;Accordion.Title&gt;
			I expand too!
		&lt;/Accordion.Title&gt;
		&lt;Accordion.Content&gt;
			&lt;p&gt;Click me again to make me collapse&lt;/p&gt;
		&lt;/Accordion.Content&gt;
	&lt;/Accordion.Item&gt;
&lt;/Accordion.Root&gt;
</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-ildss7">Component fragments offer a clean API with great flexibility for the consumer to provide custom styling and child content. While this example makes the API appear highly verbose, in many cases the <code>Accordion.Item</code>s could be put in an <code>#each</code> block to minimize the boilerplate.</p> <p data-svelte-h="svelte-ko21iu">Fragmented components are more error prone. Fragments can be used improperly, such as with the wrong nesting or by not including required children. I‚Äôm not aware of a way to provide good error messaging like <code>Accordion error: Content was not provided</code>, though Nesting doll components can enforce the correct nesting hierarchy. The design also makes components with non-trivial state more complicated. If I wanted the accordion to only allow 1 item to be expanded at a time, either the consuming code would need to wire a lot of props and values, or the Accordion components would need to use the context API to handle state since it‚Äôs not a Self-contained component.</p> <p data-svelte-h="svelte-ymnjs0">Due to the high level of customizability, I think this approach is best for lower-level uses like component libraries where a less opinionated approach is best. It offers a lot of flexibility to downstream consumers of the component.</p> <h2 id="nesting-doll-component" data-svelte-h="svelte-1s6xnwe"><a aria-hidden="true" tabindex="-1" href="#nesting-doll-component"><span class="icon icon-link"></span></a><a href="#nesting-doll-component" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Nesting doll component</h2> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">script</span><span style="color:#B07D48;--shiki-dark:#BD976A"> lang</span><span style="color:#999999;--shiki-dark:#666666">=</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">ts</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	import</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><span style="color:#B07D48;--shiki-dark:#BD976A">Accordion</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#1E754F;--shiki-dark:#4D9375"> from</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">$lib/components</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">script</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#AB5959;--shiki-dark:#CB7676"> let</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A">Item</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Item</span><span style="color:#AB5959;--shiki-dark:#CB7676"> let</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A">Title</span><span style="color:#AB5959;--shiki-dark:#CB7676"> let</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A">Content</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Title</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">			Click to expand</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Title</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Content</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">			&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">p</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">Hello, world</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">p</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">			&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">button</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">Click me</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">button</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Content</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Item</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Item</span><span style="color:#AB5959;--shiki-dark:#CB7676"> let</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A">Title</span><span style="color:#AB5959;--shiki-dark:#CB7676"> let</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A">Content</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Title</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">			I expand too!</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Title</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;</span><span style="color:#998418;--shiki-dark:#B8A965">Content</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">			&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">p</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">Click me again to make me collapse</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">p</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">		&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Content</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Item</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#998418;--shiki-dark:#B8A965">Accordion</span><span style="color:#999999;--shiki-dark:#666666">></span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">&lt;script lang="ts"&gt;
	import &#123;Accordion&#125; from '$lib/components'
&lt;/script&gt;

&lt;Accordion let:Item&gt;
	&lt;Item let:Title let:Content&gt;
		&lt;Title&gt;
			Click to expand
		&lt;/Title&gt;
		&lt;Content&gt;
			&lt;p&gt;Hello, world&lt;/p&gt;
			&lt;button&gt;Click me&lt;/button&gt;
		&lt;/Content&gt;
	&lt;/Item&gt;
	&lt;Item let:Title let:Content&gt;
		&lt;Title&gt;
			I expand too!
		&lt;/Title&gt;
		&lt;Content&gt;
			&lt;p&gt;Click me again to make me collapse&lt;/p&gt;
		&lt;/Content&gt;
	&lt;/Item&gt;
&lt;/Accordion&gt;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-7wo1u8">This design has many of the benefits of Fragmented components, and in some cases a less verbose API (no more <code>Accordion.</code> for each child element). Where I think it truly outshines is how it reduces the opportunity for incorrect usage of nested child components. It‚Äôs impossible to put an Accordion <code>Item</code> outside of an <code>Accordion</code> component, because the only way to access the <code>Item</code> component is <em>inside</em> an <code>Accordion</code>. The same is true of the <code>Title</code> and <code>Content</code> of an <code>Item</code>. The Svelte Language Server also provides IntelliSense hints about nested components; the IDE can therefore tell you that <code>let:Item</code> is available on <code>Accordion</code>. This is the magic of nesting doll components!</p> <p data-svelte-h="svelte-1pe22ht">I‚Äôm not sure if this approach supports tree-shaking; if not, it may unnecessarily increase bundle size if not all of the nested components are used. It also shares most of the downsides of Fragmented components:</p> <ul data-svelte-h="svelte-mtjv9a"><li>Limited error messaging 
<ul><li>it‚Äôs possible to use them incorrectly without errors</li></ul></li> <li>Somewhat verbose API</li> <li>Increased complexity for components that use state across nested components</li></ul> <div class="divider"></div> <aside class="prose" data-svelte-h="svelte-1w3uusp"> <p>If you&#39;re feeling extra generous, you can show your support by buying me a
			coffee with the button in the bottom right corner of the page.</p> <div class="divider"></div></aside></article>   <div class="flex w-full flex-col items-center"><h2 class="my-6 self-center text-5xl text-base-content">Linked notes</h2>  <div class="col-auto grid w-full grid-cols-[repeat(auto-fill,_minmax(300px,_1fr))] justify-items-center gap-3"><a href="/notes/make-api-misuse-hard" class="m-4 flex w-full min-w-[300px] max-w-[450px] flex-1 basis-80 text-inherit no-underline" style="--statusColor: 85, 40%, 55%;"><article class="group flex h-64 w-full flex-col justify-between border border-solid border-base-300 bg-base-100 px-10 py-8 text-base-content text-opacity-80 transition-all duration-200 hover:border-[hsl(var(--statusColor))] hover:text-opacity-100 hover:shadow-xl hover:shadow-[hsla(var(--statusColor),.25)] active:-translate-y-1 active:scale-[1.01] active:shadow-md  svelte-1xtqadk"><section class="notecontent"><header class="svelte-1xtqadk"><h1 class="line-clamp-2 h-16 text-lg leading-[175%] svelte-1xtqadk">Make API misuse hard</h1></header> <p class="mt-3 line-clamp-3 h-[4.5em] leading-[1.5em] transition-all duration-200">Being hard to misuse is an underrated characteristic of exceptional APIs, especially when the possibility needs to be exposed to the client for advanced scenarios.</p></section> <section class="notemetadata border-t border-t-neutral-content border-opacity-60 pt-1 text-right text-sm svelte-1xtqadk"><div class="date min-w-[12ch] text-opacity-50 svelte-1xtqadk">Feb 13, 2024</div> <div class="min-w-[12ch] capitalize text-[hsl(var(--statusColor))] svelte-1xtqadk">seedling üå±</div></section></article> </a></div></div>  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" integrity="sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB" crossorigin="anonymous"></div></div>  
			
			<script>
				{
					__sveltekit_j7gd6f = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("../_app/immutable/entry/start.4LCu-Tfn.js"),
						import("../_app/immutable/entry/app.Epe6lyMB.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
