<!doctype html>
<html lang="en" class="min-h-full">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../_app/immutable/assets/0.DJzTHClV.css" rel="stylesheet">
		<link href="../_app/immutable/assets/NoteGridStatusFilter.XVDl0Kvs.css" rel="stylesheet">
		<link href="../_app/immutable/assets/MDSveXNoteLayout.CyYI4j1f.css" rel="stylesheet">
		<link href="../_app/immutable/assets/3.CL5GBsTu.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.6s-Ft8pu.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DidFZe1Z.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/1HLFgmCb.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/_9pnLWT9.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D9oPQppQ.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.CH_vTdaF.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C1FmrZbK.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BJAtj1_n.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CHUXHOPN.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/W8aj68s9.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DHsDDbHh.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/QqLkXUPV.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B-eN9XNX.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C6iUor_U.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/AsWAPDv1.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/1IPPVSMY.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.CU1Z70wX.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Dn6m01Wt.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DZxdjYg5.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CVM844WK.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DNxLwEpJ.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Kj7Lx_IK.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/-X8ACxro.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Ck6BX3gD.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C932wzq6.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/3.Q3g7zqeZ.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DrQfv_NR.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Y3wZzVj7.js"><!--[--><meta name="description" content="A deep dive into neovim config, controlling focus, pane management with edgy.nvim, and a little open source contribution to boot!" class="svelte-de2ged"> <meta property="og:title" content="Open neovim edgebar with focus set" class="svelte-de2ged"> <meta property="og:type" content="article" class="svelte-de2ged"> <meta property="og:url" content="https://allandeutsch.com/notes/focus-edgy-view" class="svelte-de2ged"> <meta property="og:description" content="A deep dive into neovim config, controlling focus, pane management with edgy.nvim, and a little open source contribution to boot!" class="svelte-de2ged"> <meta property="og:locale" content="en_US" class="svelte-de2ged"> <meta property="twitter:card" content="summary" class="svelte-de2ged"> <meta property="twitter:url" content="https://allandeutsch.com" class="svelte-de2ged"> <meta property="twitter:title" content="Open neovim edgebar with focus set" class="svelte-de2ged"> <meta property="twitter:description" content="A deep dive into neovim config, controlling focus, pane management with edgy.nvim, and a little open source contribution to boot!" class="svelte-de2ged"> <meta property="twitter:site" content="@AllanDeutsch" class="svelte-de2ged"> <meta property="twitter:creator" content="@AllanDeutsch" class="svelte-de2ged"> <link rel="canonical" href="https://allandeutsch.com/notes/focus-edgy-view" class="svelte-de2ged"> <script type="module" src="https://docduck.dev/selection.js" class="svelte-de2ged"></script> <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="AllanDeutsch" data-description="Support me on Buy me a coffee!" data-message="" data-color="#5F7FFF" data-position="Right" data-x_margin="18" data-y_margin="18" class="svelte-de2ged"></script><!--]--><!--[--><!--[--><meta name="theme-color" content="dark"><!--]--> <!----><script>(function setInitialMode({ defaultMode = "system", themeColors: themeColors2, darkClassNames: darkClassNames2 = ["dark"], lightClassNames: lightClassNames2 = [], defaultTheme = "", modeStorageKey: modeStorageKey2 = "mode-watcher-mode", themeStorageKey: themeStorageKey2 = "mode-watcher-theme" }) {
  const rootEl = document.documentElement;
  const mode = localStorage.getItem(modeStorageKey2) || defaultMode;
  const theme2 = localStorage.getItem(themeStorageKey2) || defaultTheme;
  const light = mode === "light" || mode === "system" && window.matchMedia("(prefers-color-scheme: light)").matches;
  if (light) {
    if (darkClassNames2.length)
      rootEl.classList.remove(...darkClassNames2);
    if (lightClassNames2.length)
      rootEl.classList.add(...lightClassNames2);
  } else {
    if (lightClassNames2.length)
      rootEl.classList.remove(...lightClassNames2);
    if (darkClassNames2.length)
      rootEl.classList.add(...darkClassNames2);
  }
  rootEl.style.colorScheme = light ? "light" : "dark";
  if (themeColors2) {
    const themeMetaEl = document.querySelector('meta[name="theme-color"]');
    if (themeMetaEl) {
      themeMetaEl.setAttribute("content", mode === "light" ? themeColors2.light : themeColors2.dark);
    }
  }
  if (theme2) {
    rootEl.setAttribute("data-theme", theme2);
    localStorage.setItem(themeStorageKey2, theme2);
  }
  localStorage.setItem(modeStorageKey2, mode);
})({"defaultMode":"system","themeColors":{"dark":"dark","light":"light"},"darkClassNames":["dark"],"lightClassNames":[],"defaultTheme":"","modeStorageKey":"mode-watcher-mode","themeStorageKey":"mode-watcher-theme"});</script><!----><!--]--><title>Open neovim edgebar with focus set - Allan Deutsch</title>
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script
			async
			src="https://www.googletagmanager.com/gtag/js?id=UA-86124920-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag('js', new Date());

			gtag('config', 'UA-86124920-1');
		</script>
	</head>
	<body
		data-sveltekit-preload-data="hover"
		data-sveltekit-preload-data="viewport"
		class="h-full min-h-[100vh] bg-base-100">
		<div style="display: contents"><!--[--><!--[--><!----><div class="h-full min-h-[100dvh]"><!--[!--><!--]--><!----> <div class="flex w-full items-center bg-base-100 p-2 print:hidden"><!----><!----><!--[!--><button class="px-4 sm:hidden" id="bits-17" aria-haspopup="menu" aria-expanded="false" data-state="closed" data-dropdown-menu-trigger="" type="button"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path></svg> <span class="sr-only">Open navigation menu</span><!----></button><!--]--><!----><!----> <!----><!----><!--[!--><!--]--><!----><!----><!----><!----><!----><!----> <div class="w-1/2 px-4 text-xl font-semibold"><a href="/">Allan Deutsch</a></div> <div class="hidden shrink-0 sm:flex"><ul class="menu menu-horizontal px-1 text-base"><!--[--><!--[!--><li><a href="/">Home</a></li><!--]--><!--[!--><li><a href="/notes">Notes</a></li><!--]--><!--[!--><li><a href="/devlog">Devlog</a></li><!--]--><!--]--></ul></div> <div class="flex w-1/2 justify-end"><!--[!--><div><a href="https://twitter.com/AllanDeutsch" class="group"><span class="sr-only">Follow me on Twitter</span> <svg height="24" width="24" class="mr-1.5 inline fill-base-content transition-colors duration-300 group-hover:fill-primary" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612"><path d="M612 116.258a250.714 250.714 0 01-72.088 19.772c25.929-15.527 45.777-40.155 55.184-69.411-24.322 14.379-51.169 24.82-79.775 30.48-22.907-24.437-55.49-39.658-91.63-39.658-69.334 0-125.551 56.217-125.551 125.513 0 9.828 1.109 19.427 3.251 28.606-104.326-5.24-196.835-55.223-258.75-131.174-10.823 18.51-16.98 40.078-16.98 63.101 0 43.559 22.181 81.993 55.835 104.479a125.556 125.556 0 01-56.867-15.756v1.568c0 60.806 43.291 111.554 100.693 123.104-10.517 2.83-21.607 4.398-33.08 4.398-8.107 0-15.947-.803-23.634-2.333 15.985 49.907 62.336 86.199 117.253 87.194-42.947 33.654-97.099 53.655-155.916 53.655-10.134 0-20.116-.612-29.944-1.721 55.567 35.681 121.536 56.485 192.438 56.485 230.948 0 357.188-191.291 357.188-357.188l-.421-16.253c24.666-17.593 46.005-39.697 62.794-64.861z"></path></svg></a> <a href="https://github.com/masstronaut" class="group"><span class="sr-only">Follow me on GitHub</span> <svg height="24" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true" class="mr-1.5 inline fill-base-content transition-colors duration-300 group-hover:fill-primary"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a></div><!--]--></div></div><!----> <div class="h-full p-1 sm:p-4"><!----><docduck-feedback team="TKxfdiO22xOXIrW0c0Pfi" class="svelte-de2ged"></docduck-feedback> <div class="grid w-full grid-cols-[1fr_min(65ch,100%)_1fr] svelte-de2ged"><h1 class="col-start-2 col-end-3 text-left text-4xl font-bold svelte-de2ged" style="view-transition-name: title">Open neovim edgebar with focus set</h1></div> <article class="note-container prose mb-8 max-w-full px-2 svelte-de2ged" style="view-transition-name: article;"><header class="w-full max-w-3xl self-center svelte-de2ged"><div class="text-md border-t-neutral/20 text-base-content mt-4 mb-12 flex justify-between border-t pt-1 svelte-de2ged"><div class="svelte-de2ged"><span class="pr-2 svelte-de2ged">🌱</span><span class="hidden sm:inline svelte-de2ged">Planted</span>August 10, 2024. <!--[!--><!--]--></div> <div class="flex flex-col items-end svelte-de2ged"><div class="note__status seedling svelte-de2ged">seedling 🌱</div> <!--[--><div class="svelte-de2ged">9 minutes read ⏱</div><!--]--></div></div></header> <!----><p>Recently I <a href="/notes/use-neovim">switched to Neovim</a> as my go-to text editor, and have been configuring it as an IDE. The flexibility to have it behave exactly the way I want is amazing!</p> <p>One GUI element of VS Code that I’ve missed is having a sidebar with hotkeys to quickly jump between different views, such as Git and my project’s file tree. Fortunately, there’s a great library by <a href="https://github.com/folke" rel="nofollow">folke</a> that is designed to create and manage sidebars: <a href="https://github.com/folke/edgy.nvim" rel="nofollow">edgy.nvim</a>. The sidebar config is reminiscent of declarative languages like CSS, so setting up my sidebar felt pretty familiar. To start, I created a side with three <a href="https://github.com/nvim-neo-tree/neo-tree.nvim" rel="nofollow">neo-tree.nvim</a> views:</p> <ol><li>A file tree (explorer) view</li> <li>A list of my open buffers</li> <li>Git tree view of my modified files</li></ol> <p>The <a href="https://github.com/folke/lazy.nvim/?tab=readme-ov-file" rel="nofollow">lazy.nvim</a> edgy config for that looks like this:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" lua filename="~/.config/nvim/lua/plugins/edgy.nvim"><code><span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">return</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> &#123;</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">	"</span><span style="color:#B56959;--shiki-dark:#C98A7D">folke/edgy.nvim</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	event</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">VeryLazy</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">	init</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#1E754F;--shiki-dark:#4D9375"> function</span><span style="color:#999999;--shiki-dark:#666666">()</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">		vim</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#59873A;--shiki-dark:#80A665">opt</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#59873A;--shiki-dark:#80A665">laststatus</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#2F798A;--shiki-dark:#4C9A91"> 3</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> -- show a single status line at the bottom</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">		vim</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#59873A;--shiki-dark:#80A665">opt</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#59873A;--shiki-dark:#80A665">splitkeep</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">screen</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">" </span><span style="color:#A0ADA0;--shiki-dark:#758575DD">-- prevents jumping when open/close sidebars</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	end</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	opts</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> &#123;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">		right</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">	&#123;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				title</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">Files</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				ft</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">neo-tree</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">				filter</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#1E754F;--shiki-dark:#4D9375"> function</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">buf</span><span style="color:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">					return</span><span style="color:#B07D48;--shiki-dark:#BD976A"> vim</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#59873A;--shiki-dark:#80A665">b</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">[</span><span style="color:#B07D48;--shiki-dark:#BD976A">buf</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">].</span><span style="color:#59873A;--shiki-dark:#80A665">neo_tree_source</span><span style="color:#AB5959;--shiki-dark:#CB7676"> ==</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">filesystem</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">				end</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				open</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">Neotree filesystem</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				size</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> &#123; </span><span style="color:#B07D48;--shiki-dark:#BD976A">height</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#2F798A;--shiki-dark:#4C9A91"> 0.5</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> &#125;, </span><span style="color:#A0ADA0;--shiki-dark:#758575DD">-- 1/2 window height</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				pinned</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#1E754F;--shiki-dark:#4D9375"> true</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">			&#125;,</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">			&#123;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				title</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">Buffers</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				ft</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">neo-tree</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">				filter</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#1E754F;--shiki-dark:#4D9375"> function</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">buf</span><span style="color:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">					return</span><span style="color:#B07D48;--shiki-dark:#BD976A"> vim</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#59873A;--shiki-dark:#80A665">b</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">[</span><span style="color:#B07D48;--shiki-dark:#BD976A">buf</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">].</span><span style="color:#59873A;--shiki-dark:#80A665">neo_tree_source</span><span style="color:#AB5959;--shiki-dark:#CB7676"> ==</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">buffers</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">				end</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				pinned</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#1E754F;--shiki-dark:#4D9375"> true</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				open</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">Neotree position=top buffers</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				size</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> &#123; </span><span style="color:#B07D48;--shiki-dark:#BD976A">height</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#2F798A;--shiki-dark:#4C9A91"> 0.25</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> &#125;,</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">			&#125;,</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">			&#123;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				title</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">Git</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				ft</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">neo-tree</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">				filter</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#1E754F;--shiki-dark:#4D9375"> function</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">buf</span><span style="color:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">					return</span><span style="color:#B07D48;--shiki-dark:#BD976A"> vim</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#59873A;--shiki-dark:#80A665">b</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">[</span><span style="color:#B07D48;--shiki-dark:#BD976A">buf</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">].</span><span style="color:#59873A;--shiki-dark:#80A665">neo_tree_source</span><span style="color:#AB5959;--shiki-dark:#CB7676"> ==</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">git_status</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">				end</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				pinned</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#1E754F;--shiki-dark:#4D9375"> true</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				open</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">Neotree position=left git_status</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">				size</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> &#123; </span><span style="color:#B07D48;--shiki-dark:#BD976A">height</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#2F798A;--shiki-dark:#4C9A91"> 0.25</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> &#125;,</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">			&#125;,</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">			-- any other neo-tree windows should also be here</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">			"</span><span style="color:#B56959;--shiki-dark:#C98A7D">neo-tree</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">		&#125;</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">	&#125;</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">&#125;</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">return &#123;
	"folke/edgy.nvim",
	event = "VeryLazy",
	init = function()
		vim.opt.laststatus = 3 -- show a single status line at the bottom
		vim.opt.splitkeep = "screen" -- prevents jumping when open/close sidebars
	end,
	opts = &#123;
		right =	&#123;
				title = "Files",
				ft = "neo-tree",
				filter = function(buf)
					return vim.b[buf].neo_tree_source == "filesystem"
				end,
				open = "Neotree filesystem",
				size = &#123; height = 0.5 &#125;, -- 1/2 window height
				pinned = true,
			&#125;,
			&#123;
				title = "Buffers",
				ft = "neo-tree",
				filter = function(buf)
					return vim.b[buf].neo_tree_source == "buffers"
				end,
				pinned = true,
				open = "Neotree position=top buffers",
				size = &#123; height = 0.25 &#125;,
			&#125;,
			&#123;
				title = "Git",
				ft = "neo-tree",
				filter = function(buf)
					return vim.b[buf].neo_tree_source == "git_status"
				end,
				pinned = true,
				open = "Neotree position=left git_status",
				size = &#123; height = 0.25 &#125;,
			&#125;,
			-- any other neo-tree windows should also be here
			"neo-tree",
		&#125;
	&#125;
&#125;</pre><!----> <p>Overall this is great! I get a sidebar with all the panels I want in one place. It has a problem though. Perhaps because the three <code>pinned</code> views of the edgebar are opened in the order I declare them (files -> buffers -> git), my focus always ends up in the git view when I open it. I put it on the bottom because I use it the least, though. What I really want is to default to the Files view getting focus, with a specific binding for each of the views if I want to focus a specific one.</p> <h2 id="programmatically-focusing-a-window-in-neovim"><a aria-hidden="true" tabindex="-1" href="#programmatically-focusing-a-window-in-neovim"><span class="icon icon-link"></span></a><a href="#programmatically-focusing-a-window-in-neovim" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Programmatically focusing a window in Neovim</h2> <p>After a quick search, I found the API for setting focus on a window:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">vim</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#59873A;--shiki-dark:#80A665">api</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">nvim_set_current_win</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">window_id</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">)</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">vim.api.nvim_set_current_win(window_id)</pre><!----> <p>Super simple and straightforward! Unfortunately, it requires a window ID. I have no idea what my window IDs are. The good news is that Neovim has a similarly simple API for that one, too.</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">-- integer[]</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">local</span><span style="color:#B07D48;--shiki-dark:#BD976A"> window_ids</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B07D48;--shiki-dark:#BD976A"> vim</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#59873A;--shiki-dark:#80A665">api</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">nvim_list_wins</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">()</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">-- integer[]
local window_ids = vim.api.nvim_list_wins()</pre><!----> <p>I’m going to feel like such a champion calling a function that lists all my wins!</p> <p>Now I’ve got a list of window IDs and and an API to set my focus to one of them. The only question that remains is: which one is which? I have no hope of figuring out which <code>window_ids</code> integer corresponds to which window. For this one I’m going to need to use the <a href="https://github.com/folke/edgy.nvim?tab=readme-ov-file#-api" rel="nofollow">edgy API</a>. The <code>get_win(window?)</code> API looks like what I’m after!</p> <p>I tried calling it with one of my window IDs, only to have the LSP tell me I’m doing it wrong! Apparently the API takes a <code>window</code> object, not an integer?</p> <picture><source media="(prefers-color-scheme: dark)" srcset="https://img.allandeutsch.com/allandeutschcom-note-images/6bb0a76fd64b73c476f50e5212c5eb83.png"> <source media="(prefers-color-scheme: light )" srcset="https://img.allandeutsch.com/allandeutschcom-note-images/467b41e0d88bd7afcb7d4a5bf8508f7a.png"> <img alt="A code block on allandeutsch.com rendered to show the filename in a tab along the top bar of the code block"></picture> <p>What the heck, how am I supposed to get a window object if not via a window ID from the <code>nvim_list_wins()</code> API?</p> <p>I did some digging which ultimately resulted in me reading the <a href="https://github.com/folke/edgy.nvim/blob/ebb77fde6f5cb2745431c6c0fe57024f66471728/lua/edgy/editor.lua#L167" rel="nofollow">edgy source code for the <code>get_win()</code> function</a> and the short answer is: I’m not supposed to! The function defaults to grabbing the <strong>integer</strong> window ID for the current window if one isn’t provided. What’s up with that?! After verifying that it is in fact using an integer the whole time, I opened a <a href="https://github.com/folke/edgy.nvim/pull/110" rel="nofollow">PR to fix the type annotation for the window parameter</a>. Anyway long story short, the integer window ID works fine, so until that PR gets merged I’m going to just ignore the warning. This is the magic of open source: if you find something wrong, you can make the change and submit a PR to fix it!</p> <p>That was a bit of a tangent, but it’s always great to contribute to open source. Anyway, I’ve still got a problem: I don’t know the window ID of my neo-tree panes! At this point I was getting comfortable poking around in the edgy codebase, so I looked for where I can find the <code>Title</code> value I set for each of my views. I found a function to select a window, and in the code to open a selector UI it has <a href="https://github.com/folke/edgy.nvim/blob/ebb77fde6f5cb2745431c6c0fe57024f66471728/lua/edgy/editor.lua#L130" rel="nofollow">the following line</a>:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">local</span><span style="color:#B07D48;--shiki-dark:#BD976A"> title</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B07D48;--shiki-dark:#BD976A"> w</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#59873A;--shiki-dark:#80A665">view</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">get_title</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">()</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">local title = w.view.get_title()</pre><!----> <p>Perfect! That is <em>exactly</em> what I need. It’s all coming together:</p> <ol><li>Channel my inner winner and call <code>nvim_list_wins()</code></li> <li>With each window ID, get the corresponding edgy <code>Window</code> object</li> <li>Check if the value from <code>Window.view.get_title()</code> matches the name of the window I want</li> <li>If it does, set my focus to that window</li></ol> <p>With only one major bump along the road, this seems to be going pretty smoothly. I quickly coded up a helper function for this since I want to use it in 4 separate keybindings: One to open the edge bar, and one for each of the three views within that edge bar. Here’s what that looks like:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" lua filename="~/.config/nvim/lua/plugins/edgy.lua"><code><span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">---</span><span style="color:#AB5959;--shiki-dark:#CB7676">@param</span><span style="color:#59873A;--shiki-dark:#80A665"> title</span><span style="color:#998418;--shiki-dark:#B8A965"> string</span><span style="color:#AB5959;--shiki-dark:#CB7676">: </span><span style="color:#998418;--shiki-dark:#B8A965">the edgy title of the window to focus</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">local</span><span style="color:#59873A;--shiki-dark:#80A665"> focus_window</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#1E754F;--shiki-dark:#4D9375"> function</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">title</span><span style="color:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	local</span><span style="color:#B07D48;--shiki-dark:#BD976A"> all_win_ids</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B07D48;--shiki-dark:#BD976A"> vim</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#59873A;--shiki-dark:#80A665">api</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">nvim_list_wins</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">()</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	local</span><span style="color:#B07D48;--shiki-dark:#BD976A"> edgy</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#998418;--shiki-dark:#B8A965"> require</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">edgy</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">) </span><span style="color:#A0ADA0;--shiki-dark:#758575DD">-- owns the window titles</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	for</span><span style="color:#B07D48;--shiki-dark:#BD976A"> _</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">, </span><span style="color:#B07D48;--shiki-dark:#BD976A">win_id</span><span style="color:#1E754F;--shiki-dark:#4D9375"> in</span><span style="color:#998418;--shiki-dark:#B8A965"> ipairs</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">all_win_ids</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">) </span><span style="color:#1E754F;--shiki-dark:#4D9375">do</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> -- loop over all windows</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">		local</span><span style="color:#B07D48;--shiki-dark:#BD976A"> win</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#B07D48;--shiki-dark:#BD976A"> edgy</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">get_win</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">win_id</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">) </span><span style="color:#A0ADA0;--shiki-dark:#758575DD">-- edgy window.view stores the title</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">		if</span><span style="color:#B07D48;--shiki-dark:#BD976A"> win</span><span style="color:#AB5959;--shiki-dark:#CB7676"> and</span><span style="color:#B07D48;--shiki-dark:#BD976A"> win</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#59873A;--shiki-dark:#80A665">view</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">get_title</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">() </span><span style="color:#AB5959;--shiki-dark:#CB7676">==</span><span style="color:#B07D48;--shiki-dark:#BD976A"> title</span><span style="color:#1E754F;--shiki-dark:#4D9375"> then</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">			vim</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#59873A;--shiki-dark:#80A665">api</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">nvim_set_current_win</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">win_id</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">)</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">		end</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	end</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">end</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">---@param title string: the edgy title of the window to focus
local focus_window = function(title)
	local all_win_ids = vim.api.nvim_list_wins()
	local edgy = require("edgy") -- owns the window titles
	for _, win_id in ipairs(all_win_ids) do -- loop over all windows
		local win = edgy.get_win(win_id) -- edgy window.view stores the title
		if win and win.view.get_title() == title then
			vim.api.nvim_set_current_win(win_id)
		end
	end
end</pre><!----> <p>All that’s left is to call this sucker in my keybinds and I’m ready to roll! For brevity, here’s just the keybind to open the edge bar on the right:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" lua filename="~/.config/nvim/lua/plugins/edgy.lua"><code><span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">return</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> &#123;</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">	"</span><span style="color:#B56959;--shiki-dark:#C98A7D">folke/edgy.nvim</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">,</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">	-- other configs...</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	keys</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> &#123;</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">		&#123;</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">			"</span><span style="color:#B56959;--shiki-dark:#C98A7D">&#x3C;leader>pl</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">, </span><span style="color:#A0ADA0;--shiki-dark:#758575DD">-- the keybinding</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">			function</span><span style="color:#999999;--shiki-dark:#666666">()</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> -- what happens when I press it</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">				-- ensure neo-tree is loaded</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">				require</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">lazy</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">).</span><span style="color:#998418;--shiki-dark:#B8A965">load</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(&#123;</span><span style="color:#B07D48;--shiki-dark:#BD976A">plugins</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> &#123;</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">neo-tree.nvim</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">&#125;&#125;)</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">				-- Open the right edge bar</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">				require</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">edgy</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">).</span><span style="color:#998418;--shiki-dark:#B8A965">toggle</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">right</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">)</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">				focus_window</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">Files</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">) </span><span style="color:#A0ADA0;--shiki-dark:#758575DD">-- The magic sauce!</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">			end</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">		&#125;</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">	&#125;</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">&#125;</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">return &#123;
	"folke/edgy.nvim",
	-- other configs...
	keys = &#123;
		&#123;
			"&lt;leader&gt;pl", -- the keybinding
			function() -- what happens when I press it
				-- ensure neo-tree is loaded
				require("lazy").load(&#123;plugins = &#123;"neo-tree.nvim"&#125;&#125;)
				-- Open the right edge bar
				require("edgy").toggle("right")
				focus_window("Files") -- The magic sauce!
			end
		&#125;
	&#125;
&#125;</pre><!----> <p>Now that everything is in place, I was ready to feel like a wizard, conjuring up trees and having my cursor arrive precisely where it is meant to. I ran <code>:source %</code> to reload my new edgy config and try it out:</p> <video autoplay loop playsinline><source media="(prefers-color-scheme: light)" src="https://img.allandeutsch.com/allandeutschcom-note-images/100ee2eba506f0ecd22e5398f7bca788.mp4" type="video/mp4"><source media="(prefers-color-scheme: dark)" src="https://img.allandeutsch.com/allandeutschcom-note-images/2d1c36903f3468185b8652a42566a55c.mp4" type="video/mp4"><track kind="captions" src="" srclang="en" label="A neovim window is displayed and a sidebar containing a filetree, buffer list, and git modified files tree view is toggled open and closed."></video> <p>Uh oh. It’s still behaving exactly the same, focusing the Git view in the bottom right corner. Once the pane is opened, my keybinds to jump to a specific named view work correctly. What could cause that? My first thought is that either edgy or neo-tree opens asynchronously to avoid blocking the main thread. I’m by no means an expert in Lua, so I have no idea how the parallelism engine works for the language.</p> <p>After a bit of research, I found <a href="https://www.youtube.com/watch?v=GMS0JvS7W1Y" rel="nofollow">this video by TJ DeVries about the vim scheduler</a>. I found it very interesting, but the TL;DR: here is that neovim lua code has an event loop similar to <em>JavaScript</em>. To queue a function to be executed once the runtime finishes executing everything on the event loop, call <code>vim.schedule()</code> and pass it the function you want it to run. Not too bad! With this change, the function run on keybind looks something like this:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">function</span><span style="color:#999999;--shiki-dark:#666666">()</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">	require</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">lazy</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">).</span><span style="color:#998418;--shiki-dark:#B8A965">load</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(&#123; </span><span style="color:#B07D48;--shiki-dark:#BD976A">plugins</span><span style="color:#AB5959;--shiki-dark:#CB7676"> =</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> &#123; </span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">neo-tree.nvim</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">" </span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">&#125; &#125;)</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">	require</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">edgy</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">).</span><span style="color:#998418;--shiki-dark:#B8A965">toggle</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">right</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">)</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	vim</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="color:#998418;--shiki-dark:#B8A965">schedule</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">( </span><span style="color:#1E754F;--shiki-dark:#4D9375">function</span><span style="color:#999999;--shiki-dark:#666666">()</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">		focus_window</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">Files</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">)</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	end</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">)</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">end</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">function()
	require("lazy").load(&#123; plugins = &#123; "neo-tree.nvim" &#125; &#125;)
	require("edgy").toggle("right")
	vim.schedule( function()
		focus_window("Files")
	end)
end</pre><!----> <p>Another round of <code>:source %</code> to reload the config, and this time it works how I want! I love that I have so much control over the behavior of my editor in Neovim. You can check out the final <a href="https://github.com/Masstronaut/nvim-config/blob/main/lua/plugins/edgy.lua" rel="nofollow">edgy.lua config on my GitHub</a>.</p><!----><!----> <div class="divider svelte-de2ged"></div> <aside class="prose svelte-de2ged"><p class="svelte-de2ged">If you're feeling extra generous, you can show your support by buying me a
			coffee with the button in the bottom right corner of the page.</p> <div class="divider svelte-de2ged"></div></aside></article> <!----><p class="svelte-de2ged">Loading comments...</p><!---->  <!--[--><div class="flex w-full flex-col items-center"><h2 class="text-base-content my-6 self-center text-5xl">Linked notes</h2> <!--[!--><!--]--> <div class="col-auto grid w-full grid-cols-[repeat(auto-fill,_minmax(300px,_1fr))] justify-items-center gap-3"><!--[--><a style="--statusColor: 85, 40%, 55%;" href="/notes/use-neovim" class="m-4 flex w-full min-w-[300px] max-w-[450px] flex-1 basis-80 text-inherit no-underline"><article class="group flex h-64 w-full flex-col justify-between border border-solid border-base-300 bg-base-100 px-10 py-8 text-base-content text-opacity-80 transition-all duration-200 hover:border-[hsl(var(--statusColor))] hover:text-opacity-100 hover:shadow-xl hover:shadow-[hsla(var(--statusColor),.25)] active:-translate-y-1 active:scale-[1.01] active:shadow-md svelte-15ajeer"><section class="notecontent"><header class="svelte-15ajeer"><h1 class="line-clamp-2 h-16 text-lg svelte-15ajeer">I use Neovim btw</h1></header> <!--[--><p class="mt-3 line-clamp-3 h-[4.5em] leading-[1.5em] transition-all duration-200">Imagine a world where something as simple as editing text becomes a fun and challenging puzzle to be solved.</p><!--]--></section> <section class="notemetadata border-t border-t-neutral-content border-opacity-60 pt-1 text-right text-sm svelte-15ajeer"><div class="date min-w-[12ch] text-opacity-50 svelte-15ajeer">Jul 30, 2024</div> <div class="min-w-[12ch] capitalize text-[hsl(var(--statusColor))] svelte-15ajeer">seedling 🌱</div></section></article></a><!--]--></div></div><!--]--> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" integrity="sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB" crossorigin="anonymous" class="svelte-de2ged"><!----><!----></div></div> <!--[!--><!--]--><!----><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_p8p3lq = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.6s-Ft8pu.js"),
						import("../_app/immutable/entry/app.CH_vTdaF.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3],
							data: [null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
