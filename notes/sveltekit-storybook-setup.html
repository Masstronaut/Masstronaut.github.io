<!doctype html>
<html lang="en" class="min-h-full">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../_app/immutable/assets/0.Jb37YdP6.css" rel="stylesheet">
		<link href="../_app/immutable/assets/GlassEffect.Gd98zA8l.css" rel="stylesheet">
		<link href="../_app/immutable/assets/NoteGridStatusFilter.Co4IHj8N.css" rel="stylesheet">
		<link href="../_app/immutable/assets/MDSveXNoteLayout.CyYI4j1f.css" rel="stylesheet">
		<link href="../_app/immutable/assets/TronHeading.BM8M17rP.css" rel="stylesheet">
		<link href="../_app/immutable/assets/3.BfmV6CXG.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.D6RekGvI.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BEnDfOMg.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D3gzdBfP.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CqL3m0EW.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CYS_vOGN.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.Bb_ezr8l.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C1FmrZbK.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CjXLuCCS.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C0I5fKiw.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/2_1PFl8f.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DK96qR65.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/-j1eTb9y.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Dz-novvo.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DvfXy-yu.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Cfg-jI0z.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D5rbeBa2.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.C73XH8Vg.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B7aGl16T.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DMqc4r9H.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BDn8a3cu.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BouKHSAI.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BHdqvFYR.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B3nTyGvu.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/4441jdL-.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C932wzq6.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DZS_K8_F.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/3.DTqTdiHa.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DSHt_3HH.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Bj-5gyRC.js"><!--[--><meta name="description" content="Setting up Storybook on a SvelteKit project doesn't work out of the box using the config tool. This guide walks you through a few extra steps needed to get SvelteKit and Storybook running." class="svelte-con17z"> <meta property="og:title" content="Setting up a SvelteKit project with Storybook" class="svelte-con17z"> <meta property="og:type" content="article" class="svelte-con17z"> <meta property="og:url" content="https://allandeutsch.com/notes/sveltekit-storybook-setup" class="svelte-con17z"> <meta property="og:description" content="Setting up Storybook on a SvelteKit project doesn't work out of the box using the config tool. This guide walks you through a few extra steps needed to get SvelteKit and Storybook running." class="svelte-con17z"> <meta property="og:locale" content="en_US" class="svelte-con17z"> <meta property="twitter:card" content="summary" class="svelte-con17z"> <meta property="twitter:url" content="https://allandeutsch.com" class="svelte-con17z"> <meta property="twitter:title" content="Setting up a SvelteKit project with Storybook" class="svelte-con17z"> <meta property="twitter:description" content="Setting up Storybook on a SvelteKit project doesn't work out of the box using the config tool. This guide walks you through a few extra steps needed to get SvelteKit and Storybook running." class="svelte-con17z"> <meta property="twitter:site" content="@AllanDeutsch" class="svelte-con17z"> <meta property="twitter:creator" content="@AllanDeutsch" class="svelte-con17z"> <link rel="canonical" href="https://allandeutsch.com/notes/sveltekit-storybook-setup" class="svelte-con17z"> <script type="module" src="https://docduck.dev/selection.js" class="svelte-con17z"></script> <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="AllanDeutsch" data-description="Support me on Buy me a coffee!" data-message="" data-color="#5F7FFF" data-position="Right" data-x_margin="18" data-y_margin="18" class="svelte-con17z"></script><!--]--><!--[--><!--[--><meta name="theme-color" content="dark"><!--]--> <!----><script>(function setInitialMode({ defaultMode = "system", themeColors: themeColors2, darkClassNames: darkClassNames2 = ["dark"], lightClassNames: lightClassNames2 = [], defaultTheme = "", modeStorageKey: modeStorageKey2 = "mode-watcher-mode", themeStorageKey: themeStorageKey2 = "mode-watcher-theme" }) {
  const rootEl = document.documentElement;
  const mode = localStorage.getItem(modeStorageKey2) || defaultMode;
  const theme2 = localStorage.getItem(themeStorageKey2) || defaultTheme;
  const light = mode === "light" || mode === "system" && window.matchMedia("(prefers-color-scheme: light)").matches;
  if (light) {
    if (darkClassNames2.length)
      rootEl.classList.remove(...darkClassNames2);
    if (lightClassNames2.length)
      rootEl.classList.add(...lightClassNames2);
  } else {
    if (lightClassNames2.length)
      rootEl.classList.remove(...lightClassNames2);
    if (darkClassNames2.length)
      rootEl.classList.add(...darkClassNames2);
  }
  rootEl.style.colorScheme = light ? "light" : "dark";
  if (themeColors2) {
    const themeMetaEl = document.querySelector('meta[name="theme-color"]');
    if (themeMetaEl) {
      themeMetaEl.setAttribute("content", mode === "light" ? themeColors2.light : themeColors2.dark);
    }
  }
  if (theme2) {
    rootEl.setAttribute("data-theme", theme2);
    localStorage.setItem(themeStorageKey2, theme2);
  }
  localStorage.setItem(modeStorageKey2, mode);
})({"defaultMode":"system","themeColors":{"dark":"dark","light":"light"},"darkClassNames":["dark"],"lightClassNames":[],"defaultTheme":"","modeStorageKey":"mode-watcher-mode","themeStorageKey":"mode-watcher-theme"});</script><!----><!--]--><title>Setting up a SvelteKit project with Storybook - Allan Deutsch</title>
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script
			async
			src="https://www.googletagmanager.com/gtag/js?id=UA-86124920-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag('js', new Date());

			gtag('config', 'UA-86124920-1');
		</script>
	</head>
	<body
		data-sveltekit-preload-data="hover"
		data-sveltekit-preload-data="viewport"
		class="bg-background h-full min-h-[100vh]">
		<div style="display: contents"><!--[--><!--[--><!----><div class="h-full min-h-[100dvh]"><canvas class="svelte-1pbc9e"></canvas> <canvas class="svelte-1pbc9e"></canvas><!----> <!--[!--><!--]--><!----> <div class="relative flex w-full items-center p-2 print:hidden"><div class="backdrop svelte-1awoxck"></div> <div class="backdrop-edge svelte-1awoxck"></div><!----> <!----><!----><!--[!--><button class="px-4 sm:hidden" id="bits-52" aria-haspopup="menu" aria-expanded="false" data-state="closed" data-dropdown-menu-trigger="" type="button"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path></svg> <span class="sr-only">Open navigation menu</span><!----></button><!--]--><!----><!----> <!----><!----><!--[!--><!--]--><!----><!----><!----><!----><!----><!----> <div class="w-1/2 px-4 text-xl font-semibold"><a href="/"><span class="retrotext text-muted font-bold uppercase svelte-q7kqyc" style="--color: hsl(85, 45%, 55%); --scalar: 0; --hoveredScalar: 0.1; --letters: 13; --duration: 0.3s;"><!--[--><span class="word inline-block svelte-q7kqyc"><!--[--><span class="letter relative svelte-q7kqyc" style="--letter:0">A<!--[--><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">A</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">A</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">A</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">A</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">A</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">A</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">A</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">A</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">A</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">A</span><!--]--></span><span class="letter relative svelte-q7kqyc" style="--letter:1">l<!--[--><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">l</span><!--]--></span><span class="letter relative svelte-q7kqyc" style="--letter:2">l<!--[--><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">l</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">l</span><!--]--></span><span class="letter relative svelte-q7kqyc" style="--letter:3">a<!--[--><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">a</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">a</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">a</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">a</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">a</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">a</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">a</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">a</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">a</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">a</span><!--]--></span><span class="letter relative svelte-q7kqyc" style="--letter:4">n<!--[--><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">n</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">n</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">n</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">n</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">n</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">n</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">n</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">n</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">n</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">n</span><!--]--></span><!--]--><!--[--><span class="space svelte-q7kqyc">¬†</span><!--]--></span><span class="word inline-block svelte-q7kqyc"><!--[--><span class="letter relative svelte-q7kqyc" style="--letter:6">D<!--[--><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">D</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">D</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">D</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">D</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">D</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">D</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">D</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">D</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">D</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">D</span><!--]--></span><span class="letter relative svelte-q7kqyc" style="--letter:7">e<!--[--><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">e</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">e</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">e</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">e</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">e</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">e</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">e</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">e</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">e</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">e</span><!--]--></span><span class="letter relative svelte-q7kqyc" style="--letter:8">u<!--[--><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">u</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">u</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">u</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">u</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">u</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">u</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">u</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">u</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">u</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">u</span><!--]--></span><span class="letter relative svelte-q7kqyc" style="--letter:9">t<!--[--><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">t</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">t</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">t</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">t</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">t</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">t</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">t</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">t</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">t</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">t</span><!--]--></span><span class="letter relative svelte-q7kqyc" style="--letter:10">s<!--[--><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">s</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">s</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">s</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">s</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">s</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">s</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">s</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">s</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">s</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">s</span><!--]--></span><span class="letter relative svelte-q7kqyc" style="--letter:11">c<!--[--><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">c</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">c</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">c</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">c</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">c</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">c</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">c</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">c</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">c</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">c</span><!--]--></span><span class="letter relative svelte-q7kqyc" style="--letter:12">h<!--[--><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 0 * var(--scalar)); --index: 0;">h</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 1 * var(--scalar)); --index: 1;">h</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 2 * var(--scalar)); --index: 2;">h</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 3 * var(--scalar)); --index: 3;">h</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 4 * var(--scalar)); --index: 4;">h</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 5 * var(--scalar)); --index: 5;">h</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 6 * var(--scalar)); --index: 6;">h</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 7 * var(--scalar)); --index: 7;">h</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 8 * var(--scalar)); --index: 8;">h</span><span class="absolute select-none svelte-q7kqyc" style="--inset: calc(1 - 9 * var(--scalar)); --index: 9;">h</span><!--]--></span><!--]--><!--[!--><!--]--></span><!--]--></span><!----></a></div> <div class="hidden shrink-0 sm:flex"><ul class="inline-flex w-fit flex-row px-1 text-base"><!--[--><!--[!--><li><a href="/" class="px-3 text-lg"><span class="svelte-1gal0a6"><!---->Home<!----></span><!----></a></li><!--]--><!--[!--><li><a href="/notes" class="px-3 text-lg"><span class="svelte-1gal0a6"><!---->Notes<!----></span><!----></a></li><!--]--><!--[!--><li><a href="/devlog" class="px-3 text-lg"><span class="svelte-1gal0a6"><!---->Devlog<!----></span><!----></a></li><!--]--><!--]--></ul></div> <div class="flex w-1/2 justify-end"><!--[!--><div><a href="https://linkedin.com/in/allandeutsch" class="group"><span class="sr-only">connect with me on LinkedIn</span> <svg class="fill-muted-foreground group-hover:fill-primary mr-1.5 inline transition-colors duration-300" aria-hidden="true" role="img" width="24" height="24" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M34 2.5v29a2.5 2.5 0 01-2.5 2.5h-29A2.5 2.5 0 010 31.5v-29A2.5 2.5 0 012.5 0h29A2.5 2.5 0 0134 2.5zM10 13H5v16h5zm.45-5.5a2.88 2.88 0 00-2.86-2.9H7.5a2.9 2.9 0 000 5.8 2.88 2.88 0 002.95-2.81zM29 19.28c0-4.81-3.06-6.68-6.1-6.68a5.7 5.7 0 00-5.06 2.58h-.14V13H13v16h5v-8.51a3.32 3.32 0 013-3.58h.19c1.59 0 2.77 1 2.77 3.52V29h5z"></path></svg></a> <a href="https://bsky.app/profile/allandeutsch.com" class="group"><span class="sr-only">Follow me on Bluesky</span> <svg height="24" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-muted-foreground group-hover:fill-primary mr-1.5 inline transition-colors duration-300"><title>Bluesky</title><path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"></path></svg></a> <a href="https://github.com/masstronaut" class="group"><span class="sr-only">Follow me on GitHub</span> <svg height="24" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true" class="fill-muted-foreground group-hover:fill-primary mr-1.5 inline transition-colors duration-300"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a></div><!--]--></div></div><!----> <div class="h-full p-1 sm:p-4"><!----><docduck-feedback team="TKxfdiO22xOXIrW0c0Pfi" class="svelte-con17z"></docduck-feedback> <div class="grid w-full grid-cols-[1fr_min(65ch,100%)_1fr] svelte-con17z"><h1 class="col-start-2 col-end-3 text-left text-4xl font-bold svelte-con17z" style="view-transition-name: title">Setting up a SvelteKit project with Storybook</h1></div> <article class="note-container dark:prose-invert prose mb-8 max-w-full px-2 svelte-con17z"><header class="w-full max-w-3xl self-center svelte-con17z"><div class="text-md border-t-neutral/20 text-muted-foreground mt-4 mb-12 flex justify-between border-t pt-1 svelte-con17z"><div class="svelte-con17z"><span class="pr-2 svelte-con17z">üå±</span><span class="hidden sm:inline svelte-con17z">Planted</span>April 19, 2022. <!--[!--><!--]--></div> <div class="flex flex-col items-end svelte-con17z"><div class="note__status seedling svelte-con17z">seedling üå±</div> <!--[--><div class="svelte-con17z">4 minutes read ‚è±</div><!--]--></div></div></header> <!----><p>This will walk you through the steps to set up a new <em>SvelteKit</em> project with <em>StorybookJS</em>. It will also configure Storybook to use <em>ViteJS</em>. Using Vite gets the local storybook server up and running around ~50x faster.</p> <blockquote><p>Note: I‚Äôve opted to use TypeScript in this guide, but it works just as well for JavaScript. As of April 2022, Storybook supports svelte components implemented in TS, but does <strong>not</strong> support <em>stories</em> written in TypeScript yet.</p></blockquote> <p>Initialize a <em>SvelteKit</em> project:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">npm</span><span style="color:#B56959;--shiki-dark:#C98A7D"> init</span><span style="color:#B56959;--shiki-dark:#C98A7D"> svelte@next</span><span style="color:#B56959;--shiki-dark:#C98A7D"> my-sveltekit-app</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">npm init svelte@next my-sveltekit-app</pre><!----> <p>Confirm that it can install <code>create-svelte@next</code> then continue to the SvelteKit config options. My preferred config is as follows:</p> <div class="table-container col-start-1 col-end-4 w-full overflow-x-scroll svelte-jm9m59"><table><thead><tr><th>Option</th><th>Selection</th></tr></thead> <tbody><tr><td>Which Svelte app template?</td><td>Skeleton project</td></tr><tr><td>Add type checking?</td><td>TypeScript</td></tr><tr><td>Add ESLint for code linting?</td><td>Yes</td></tr><tr><td>Add Prettier for code formatting?</td><td>Yes</td></tr><tr><td>Add Playwright for browser testing?</td><td>No</td></tr><tr><td>Add Vitest for unit testing?</td><td>Yes</td></tr></tbody><!----></table></div><!----> <p>With <em>SvelteKit</em> configured, we can start setting up <em>StorybookJS</em>:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#998418;--shiki-dark:#B8A965">cd</span><span style="color:#B56959;--shiki-dark:#C98A7D"> my-sveltekit-app</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">npx</span><span style="color:#B56959;--shiki-dark:#C98A7D"> sb</span><span style="color:#B56959;--shiki-dark:#C98A7D"> init</span><span style="color:#A65E2B;--shiki-dark:#C99076"> --builder</span><span style="color:#B56959;--shiki-dark:#C98A7D"> @storybook/builder-vite</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">cd my-sveltekit-app
npx sb init --builder @storybook/builder-vite</pre><!----> <p>The automated <em>StorybookJS</em> configuration tool will run and set things up for a Svelte project. It‚Äôll ask you if you want to set up the storybook linter plugin:</p> <div class="table-container col-start-1 col-end-4 w-full overflow-x-scroll svelte-jm9m59"><table><thead><tr><th>Option</th><th>Selection</th></tr></thead> <tbody><tr><td>Do you want to run the ‚ÄòeslintPlugin‚Äô fix on your project?</td><td>Yes</td></tr></tbody><!----></table></div><!----> <p>Once the setup is done, there are a couple manual config steps we need to go through.</p> <p>First we need to tell Storybook to use <em>CommonJS</em>. Create the file <code>.storybook/package.json</code> and add the following to it:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">// .storybook/package.json</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#123;</span></span>
<span class="line"><span style="color:#99841877;--shiki-dark:#B8A96577">  "</span><span style="color:#998418;--shiki-dark:#B8A965">type</span><span style="color:#99841877;--shiki-dark:#B8A96577">"</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">commonjs</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">// .storybook/package.json
&#123;
  "type": "commonjs"
&#125;</pre><!----> <p>Then we need to remove Storybook‚Äôs preprocessing config and tell <em>ViteJS</em> how to find and preprocess our svelte files:</p> <ol><li>Remove <code>"preprocess": require( "../svelte.config.js" ).preprocess</code></li> <li>Import the svelte preprocessor: <code>const preprocess = require('svelte-preprocess');</code></li> <li>Import the <code>path</code> package to help with include paths: <code>const path = require('path');</code></li> <li>Set the <em>ViteJS</em> config to use the svelte preprocessor and include paths (see the <code>async viteFinal(config, {configType}) {...}</code> below)</li></ol> <p>The final <code>.storybook/main.js</code> file should look like this:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">// .storybook/main.js</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const</span><span style="color:#B07D48;--shiki-dark:#BD976A"> preprocess</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#59873A;--shiki-dark:#80A665"> require</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">svelte-preprocess</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#59873A;--shiki-dark:#80A665"> require</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">path</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">module</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#998418;--shiki-dark:#B8A965">exports</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">  "</span><span style="color:#B56959;--shiki-dark:#C98A7D">stories</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> [</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">    "</span><span style="color:#B56959;--shiki-dark:#C98A7D">../src/**/*.stories.mdx</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">    "</span><span style="color:#B56959;--shiki-dark:#C98A7D">../src/**/*.stories.@(js|jsx|ts|tsx|svelte)</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">  ],</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">  "</span><span style="color:#B56959;--shiki-dark:#C98A7D">addons</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> [</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">    "</span><span style="color:#B56959;--shiki-dark:#C98A7D">@storybook/addon-links</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">    "</span><span style="color:#B56959;--shiki-dark:#C98A7D">@storybook/addon-essentials</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">    "</span><span style="color:#B56959;--shiki-dark:#C98A7D">@storybook/addon-svelte-csf</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">  ],</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">  "</span><span style="color:#B56959;--shiki-dark:#C98A7D">framework</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">@storybook/svelte</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">  "</span><span style="color:#B56959;--shiki-dark:#C98A7D">core</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#C98A7D77">    "</span><span style="color:#B56959;--shiki-dark:#C98A7D">builder</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">@storybook/builder-vite</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">  &#125;,</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">  async</span><span style="color:#59873A;--shiki-dark:#80A665"> viteFinal</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">config</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><span style="color:#B07D48;--shiki-dark:#BD976A"> configType</span><span style="color:#999999;--shiki-dark:#666666"> &#125;)</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">    config</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#B07D48;--shiki-dark:#BD976A">preprocess</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#59873A;--shiki-dark:#80A665"> preprocess</span><span style="color:#999999;--shiki-dark:#666666">(&#123;&#125;);</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">    config</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#B07D48;--shiki-dark:#BD976A">resolve</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#B07D48;--shiki-dark:#BD976A">alias</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">	  // alias: path</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">	  $components</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#59873A;--shiki-dark:#80A665">resolve</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">./src/components</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#999999;--shiki-dark:#666666">),</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">	  $routes</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#59873A;--shiki-dark:#80A665">resolve</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">./src/routes</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#999999;--shiki-dark:#666666">),</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">	  $lib</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#59873A;--shiki-dark:#80A665">resolve</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">./src/lib</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#999999;--shiki-dark:#666666">),</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">	  // The $styles alias is used to setup tailwindcss </span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">	  $styles</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#59873A;--shiki-dark:#80A665">resolve</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">./src/styles</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#999999;--shiki-dark:#666666">),</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#125;;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">    return</span><span style="color:#B07D48;--shiki-dark:#BD976A"> config</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">  &#125;,</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">// .storybook/main.js
const preprocess = require('svelte-preprocess');
const path = require('path');
module.exports = &#123;
  "stories": [
    "../src/**/*.stories.mdx",
    "../src/**/*.stories.@(js|jsx|ts|tsx|svelte)"
  ],
  "addons": [
    "@storybook/addon-links",
    "@storybook/addon-essentials",
    "@storybook/addon-svelte-csf"
  ],
  "framework": "@storybook/svelte",
  "core": &#123;
    "builder": "@storybook/builder-vite"
  &#125;,
  async viteFinal(config, &#123; configType &#125;) &#123;
    config.preprocess = preprocess(&#123;&#125;);
    config.resolve.alias = &#123;
	  // alias: path
	  $components: path.resolve('./src/components'),
	  $routes: path.resolve('./src/routes'),
	  $lib: path.resolve('./src/lib'),
	  // The $styles alias is used to setup tailwindcss 
	  $styles: path.resolve('./src/styles'),
	&#125;;
    return config;
  &#125;,
&#125;</pre><!----> <blockquote><p>Note: if you have different include path aliases, you‚Äôll want to make sure that the ones in <code>.storybook/main.js</code> match your <code>svelte.config.js</code> aliases</p></blockquote> <p>Voila! You should be all set.</p> <h2 id="bonus-tailwindcss-support"><a aria-hidden="true" tabindex="-1" href="#bonus-tailwindcss-support"><span class="icon icon-link"></span></a><a href="#bonus-tailwindcss-support" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Bonus: Tailwindcss support</h2> <p>If you <em>also</em> want to use <em>tailwindcss</em> with both <em>SvelteJS</em>/<em>SvelteKit</em> and <em>StorybookJS</em>, that config has a couple of gotchas as well. Here‚Äôs the steps to get it up and running.</p> <p>First, install <em>tailwindcss</em> in your <em>SvelteKit</em> project (per <a href="https://tailwindcss.com/docs/guides/sveltekit" rel="nofollow">the official tailwind docs</a>):</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">npm</span><span style="color:#B56959;--shiki-dark:#C98A7D"> install</span><span style="color:#A65E2B;--shiki-dark:#C99076"> -D</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tailwindcss</span><span style="color:#B56959;--shiki-dark:#C98A7D"> postcss</span><span style="color:#B56959;--shiki-dark:#C98A7D"> autoprefixer</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">npx</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tailwindcss</span><span style="color:#B56959;--shiki-dark:#C98A7D"> init</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tailwind.config.cjs</span><span style="color:#A65E2B;--shiki-dark:#C99076"> -p</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">mv</span><span style="color:#B56959;--shiki-dark:#C98A7D"> postcss.config.js</span><span style="color:#B56959;--shiki-dark:#C98A7D"> postcss.config.cjs</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init tailwind.config.cjs -p
mv postcss.config.js postcss.config.cjs</pre><!----> <p>Then update the <code>tailwind.config.cjs</code> so it knows where to find your components:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">// tailwind.config.cjs</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">/** </span><span style="color:#999999;--shiki-dark:#666666">@</span><span style="color:#1E754F;--shiki-dark:#4D9375">type</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">import('tailwindcss').Config</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> */</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">module</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#998418;--shiki-dark:#B8A965">exports</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">  content</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">./src/**/*.&#123;html,js,svelte,ts&#125;</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#999999;--shiki-dark:#666666">],</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">  theme</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    extend</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> &#123;&#125;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">  &#125;,</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">  plugins</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> []</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;;</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">// tailwind.config.cjs
/** @type &#123;import('tailwindcss').Config&#125; */
module.exports = &#123;
  content: ['./src/**/*.&#123;html,js,svelte,ts&#125;'],
  theme: &#123;
    extend: &#123;&#125;
  &#125;,
  plugins: []
&#125;;</pre><!----> <p>Create a <code>src/styles/tailwind.css</code> file that sets up <em>tailwindcss</em> for your components:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#999999;--shiki-dark:#666666">@</span><span style="color:#1E754F;--shiki-dark:#4D9375">tailwind</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> base</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">@</span><span style="color:#1E754F;--shiki-dark:#4D9375">tailwind</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> components</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">@</span><span style="color:#1E754F;--shiki-dark:#4D9375">tailwind</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> utilities</span><span style="color:#999999;--shiki-dark:#666666">;</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">@tailwind base;
@tailwind components;
@tailwind utilities;</pre><!----> <p>Finally, create a <code>src/routes/__layout.svelte</code> file that includes <em>tailwindcss</em> for your sveltekit project:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">script</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">  import</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">$styles/tailwind.css</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="color:#1E754F;--shiki-dark:#4D9375">script</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#1E754F;--shiki-dark:#4D9375">slot</span><span style="color:#999999;--shiki-dark:#666666"> /></span></span></code></pre><!----><!----><pre class="code-copy-target hidden">&lt;script&gt;
  import "$styles/tailwind.css";
&lt;/script&gt;

&lt;slot /&gt;</pre><!----> <p>At this point <em>tailwindcss</em> should be working in your <em>SvelteKit</em> project. It won‚Äôt be working in the <em>StorybookJS</em> view of your components though; storybook still needs to be configured to use <em>tailwindcss</em>. To do that add the following line to the top of <code>.storybook/preview.js</code>:</p> <!----><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">// .storybook/preview.js</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">import</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">$styles/tailwind.css</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">// No need to touch the rest of it, which for me looks like this:</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">export</span><span style="color:#AB5959;--shiki-dark:#CB7676"> const</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameters</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">  actions</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><span style="color:#998418;--shiki-dark:#B8A965"> argTypesRegex</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">^on[A-Z].*</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#999999;--shiki-dark:#666666"> &#125;,</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">  controls</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    matchers</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">      color</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> /</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#AB5E3F;--shiki-dark:#C4704F">background</span><span style="color:#AB5959;--shiki-dark:#CB7676">|</span><span style="color:#AB5E3F;--shiki-dark:#C4704F">color</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#1E754F;--shiki-dark:#4D9375">$</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">/</span><span style="color:#1E754F;--shiki-dark:#4D9375">i</span><span style="color:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">      date</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> /</span><span style="color:#AB5E3F;--shiki-dark:#C4704F">Date</span><span style="color:#1E754F;--shiki-dark:#4D9375">$</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">/</span><span style="color:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">    &#125;,</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">  &#125;,</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span></span></code></pre><!----><!----><pre class="code-copy-target hidden">// .storybook/preview.js
import '$styles/tailwind.css';

// No need to touch the rest of it, which for me looks like this:
export const parameters = &#123;
  actions: &#123; argTypesRegex: "^on[A-Z].*" &#125;,
  controls: &#123;
    matchers: &#123;
      color: /(background|color)$/i,
      date: /Date$/,
    &#125;,
  &#125;,
&#125;</pre><!----> <blockquote><p>!Note: the <code>.storybook/main.js</code> file needs to have the alias <code>$styles: path.resolve('./src/styles')</code> set in vite‚Äôs <code>config.resolve.alias</code> object for the <code>import '$styles/tailwind.css'</code> to work.</p></blockquote> <p>That‚Äôs it! You should have the following correctly set up now:</p> <ul><li><em>SvelteKit</em> using <em>TypeScript</em>, styleable with <em>tailwindcss</em>, all using <em>ViteJS</em></li> <li>A complementary <em>StorybookJS</em> also using <em>ViteJS</em> and <em>tailwindcss</em> for your <em>TypeScript</em> components.</li></ul> <p>Sadly as of now (May 2022) your stories still need to be authored in <em>JavaScript</em>.</p><!----><!----> <div class="divider svelte-con17z"></div> <aside class="prose dark:prose-invert svelte-con17z"><p class="svelte-con17z">If you're feeling extra generous, you can show your support by buying me a
			coffee with the button in the bottom right corner of the page.</p> <div class="divider svelte-con17z"></div></aside></article> <!----><p class="svelte-con17z">Loading comments...</p><!---->  <!--[!--><!--]--> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" integrity="sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB" crossorigin="anonymous" class="svelte-con17z"><!----><!----></div></div> <!--[!--><!--]--><!----><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_suo54q = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.D6RekGvI.js"),
						import("../_app/immutable/entry/app.Bb_ezr8l.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3],
							data: [null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
