<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../../_app/immutable/assets/0.993bd362.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/NoteGridStatusFilter.144730f5.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/6.8a973cea.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/MDSveXNoteLayout.61812917.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.8ef38e86.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/scheduler.7131e7f1.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/singletons.3046fc60.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/paths.7c3cc199.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/parse.bee59afc.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/control.c2cf8273.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.49924333.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/preload-helper.a4192956.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.9e889c2d.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.bebed144.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/each.49c20442.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.cb697023.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/navigation.75ec5967.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/toast.eab4b5c0.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/spread.8a54911c.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/6.9ec26cf0.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/LoadNote.c467315a.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/stores.cddc106a.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/NoteGrid.95cdc426.js"><title>Total Typescript notes - Allan Deutsch</title><!-- HEAD_svelte-1rm6mzl_START --><meta name="description" content="I've learned a lot from this course, and use this note to record bits I want to remember and riff on some of my observations."><meta property="og:title" content="Total Typescript notes"><meta property="og:type" content="article"><meta property="og:url" content="https://allandeutsch.com/notes/notes/total-typescript-notes/"><meta property="og:description" content="I've learned a lot from this course, and use this note to record bits I want to remember and riff on some of my observations."><meta property="og:locale" content="en_US"><meta property="twitter:card" content="summary"><meta property="twitter:url" content="https://allandeutsch.com"><meta property="twitter:title" content="Total Typescript notes"><meta property="twitter:description" content="I've learned a lot from this course, and use this note to record bits I want to remember and riff on some of my observations."><meta property="twitter:site" content="@AllanDeutsch"><meta property="twitter:creator" content="@AllanDeutsch"><link rel="canonical" href="https://allandeutsch.com/notes/notes/total-typescript-notes/"><script type="module" src="https://docduck.dev/selection.js" data-svelte-h="svelte-1qfon0b"></script><script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="AllanDeutsch" data-description="Support me on Buy me a coffee!" data-message="" data-color="#5F7FFF" data-position="Right" data-x_margin="18" data-y_margin="18" data-svelte-h="svelte-bv2cpr"></script><!-- HEAD_svelte-1rm6mzl_END --><!-- HEAD_svelte-cpyj77_START -->   <meta name="theme-color" content="dark"><!-- HTML_TAG_START --><script nonce="%sveltekit.nonce%">(function setInitialMode(defaultMode, themeColors2) {
  const rootEl = document.documentElement;
  const mode = localStorage.getItem("mode-watcher-mode") || defaultMode;
  const light = mode === "light" || mode === "system" && window.matchMedia("(prefers-color-scheme: light)").matches;
  rootEl.classList[light ? "remove" : "add"]("dark");
  rootEl.style.colorScheme = light ? "light" : "dark";
  if (themeColors2) {
    const themeMetaEl = document.querySelector('meta[name="theme-color"]');
    if (themeMetaEl) {
      themeMetaEl.setAttribute("content", mode === "light" ? themeColors2.light : themeColors2.dark);
    }
  }
  localStorage.setItem("mode-watcher-mode", mode);
})("system", {"dark":"dark","light":"light"});</script><!-- HTML_TAG_END --><!-- HEAD_svelte-cpyj77_END -->
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script
			async
			src="https://www.googletagmanager.com/gtag/js?id=UA-86124920-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag('js', new Date());

			gtag('config', 'UA-86124920-1');
		</script>
	</head>
	<body data-sveltekit-preload-data="hover" class="bg-base-100">
		<div style="display: contents">  <div class="toaster  svelte-jyff3d"> </div> <div class="navbar bg-base-100"><div class="navbar-start"><div class="dropdown"><button tabindex="0" class="btn-ghost btn sm:hidden" data-svelte-h="svelte-1h8jdop"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path></svg></button> <ul tabindex="0" class="dropdown-content menu rounded-box menu-sm mt-3 w-52 bg-base-100 p-2 shadow"><li><a href="/">Home</a></li><li><a href="/notes">Notes</a></li></ul></div> <a class="btn-ghost btn text-xl normal-case" href="/">Allan Deutsch</a></div> <div class="navbar-center hidden sm:flex"><ul class="menu menu-horizontal px-1 text-base"><li><a href="/">Home</a></li><li><a href="/notes">Notes</a></li></ul></div> <div class="navbar-end"> <div class="h-8" data-svelte-h="svelte-1hosge2"><a href="https://twitter.com/AllanDeutsch" class="group"><svg height="24" width="24" class="mr-1.5 inline fill-base-content transition-colors duration-300 group-hover:fill-primary" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612"><path d="M612 116.258a250.714 250.714 0 01-72.088 19.772c25.929-15.527 45.777-40.155 55.184-69.411-24.322 14.379-51.169 24.82-79.775 30.48-22.907-24.437-55.49-39.658-91.63-39.658-69.334 0-125.551 56.217-125.551 125.513 0 9.828 1.109 19.427 3.251 28.606-104.326-5.24-196.835-55.223-258.75-131.174-10.823 18.51-16.98 40.078-16.98 63.101 0 43.559 22.181 81.993 55.835 104.479a125.556 125.556 0 01-56.867-15.756v1.568c0 60.806 43.291 111.554 100.693 123.104-10.517 2.83-21.607 4.398-33.08 4.398-8.107 0-15.947-.803-23.634-2.333 15.985 49.907 62.336 86.199 117.253 87.194-42.947 33.654-97.099 53.655-155.916 53.655-10.134 0-20.116-.612-29.944-1.721 55.567 35.681 121.536 56.485 192.438 56.485 230.948 0 357.188-191.291 357.188-357.188l-.421-16.253c24.666-17.593 46.005-39.697 62.794-64.861z"></path></svg></a> <a href="https://github.com/masstronaut" class="group"><svg height="24" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true" class="mr-1.5 inline fill-base-content transition-colors duration-300 group-hover:fill-primary"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a></div> </div></div> <div class="p-1 sm:p-4"> <pi-select team="TKxfdiO22xOXIrW0c0Pfi"></pi-select> <article class="note-container prose mb-8 max-w-full px-2 svelte-1w2p8sa"><header class="w-full max-w-3xl self-center"><h1 class="mb-8 text-left text-4xl font-bold">Total Typescript notes</h1> <div class="text-md mb-12 mt-4 flex justify-between border-t border-t-neutral border-opacity-20 pt-1 text-base-content"><div><span class="pr-2" data-svelte-h="svelte-114jejz">üå±</span><span class="hidden sm:inline" data-svelte-h="svelte-1psjisz">Planted
				</span>November 23, 2023.
				<br>Last tended March 13, 2024.</div> <div class="flex flex-col items-end"><div class="note__status budding svelte-1w2p8sa">budding üåø</div>  <div>16 minutes read ‚è±</div></div></div></header>  <p data-svelte-h="svelte-13yv32v">Sections here which I‚Äôve pulled out into their own notes:</p> <ul data-svelte-h="svelte-ucurwr"><li><a href="/notes/structural-branded-types-nominal">Type branding removes structural type compatibility</a></li></ul> <h2 id="splitting-a-string-literal-using-a-delimeter" data-svelte-h="svelte-1bjq58w"><a aria-hidden="true" tabindex="-1" href="#splitting-a-string-literal-using-a-delimeter"><span class="icon icon-link"></span></a><a href="#splitting-a-string-literal-using-a-delimeter" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Splitting a string literal using a delimeter</h2> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark twoslash lsp" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" ts twoslash data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBAymA2BLYNgCdEDsDmAeAUFFACpQQAewEmAJgM5R3pbYA0hUAIhEgLbIQ0ZStXqNmOfAD4oAXhLCqtBgAMAJAG8sAM0FQAMhG3AAvpu58BaM1sy6hAJUTYAFqZUcA-FADa6jYbGJiqsUAB0EXBIKBJ4-k6u7qEWiPxUaFIAuhwAXL7EmQDcQA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> </span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> SplitString</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Delimiter</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> &#96;</span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#AB5959;--shiki-dark:#CB7676">infer</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Left</span><span style="color:#999999;--shiki-dark:#666666">&#125;$&#123;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">Delimiter</span><span style="color:#999999;--shiki-dark:#666666">&#125;$&#123;</span><span style="color:#AB5959;--shiki-dark:#CB7676">infer</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Right</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#AB5959;--shiki-dark:#CB7676"> ?</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">Left</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#999999;--shiki-dark:#666666"> ...</span><span style="color:#2E8F82;--shiki-dark:#5DA994">SplitString</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">Right</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Delimiter</span><span style="color:#999999;--shiki-dark:#666666">>]</span><span style="color:#AB5959;--shiki-dark:#CB7676"> :</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">]</span></code></span>SplitString</span></span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span></span>
<span class="line"><span style="color:#2E8F82;--shiki-dark:#5DA994">  </span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> T</span><span style="color:#59873A;--shiki-dark:#80A665"> in</span><span style="color:#59873A;--shiki-dark:#80A665"> type</span><span style="color:#59873A;--shiki-dark:#80A665"> SplitString</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Delimiter</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">></span></code></span>T</span></span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:#2E8F82;--shiki-dark:#5DA994">  </span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> Delimiter</span><span style="color:#59873A;--shiki-dark:#80A665"> in</span><span style="color:#59873A;--shiki-dark:#80A665"> type</span><span style="color:#59873A;--shiki-dark:#80A665"> SplitString</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Delimiter</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">></span></code></span>Delimiter</span></span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> </span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> T</span><span style="color:#59873A;--shiki-dark:#80A665"> in</span><span style="color:#59873A;--shiki-dark:#80A665"> type</span><span style="color:#59873A;--shiki-dark:#80A665"> SplitString</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Delimiter</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">></span></code></span>T</span></span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> &#96;</span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#AB5959;--shiki-dark:#CB7676">infer</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> </span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> Left</span></code></span>Left</span></span><span style="color:#999999;--shiki-dark:#666666">&#125;$&#123;</span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> Delimiter</span><span style="color:#59873A;--shiki-dark:#80A665"> in</span><span style="color:#59873A;--shiki-dark:#80A665"> type</span><span style="color:#59873A;--shiki-dark:#80A665"> SplitString</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Delimiter</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">></span></code></span>Delimiter</span></span><span style="color:#999999;--shiki-dark:#666666">&#125;$&#123;</span><span style="color:#AB5959;--shiki-dark:#CB7676">infer</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> </span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> Right</span></code></span>Right</span></span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">  ?</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> Left</span></code></span>Left</span></span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#999999;--shiki-dark:#666666"> ...</span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> SplitString</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Delimiter</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> &#96;</span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#AB5959;--shiki-dark:#CB7676">infer</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Left</span><span style="color:#999999;--shiki-dark:#666666">&#125;$&#123;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">Delimiter</span><span style="color:#999999;--shiki-dark:#666666">&#125;$&#123;</span><span style="color:#AB5959;--shiki-dark:#CB7676">infer</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Right</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#AB5959;--shiki-dark:#CB7676"> ?</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">Left</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#999999;--shiki-dark:#666666"> ...</span><span style="color:#2E8F82;--shiki-dark:#5DA994">SplitString</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">Right</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Delimiter</span><span style="color:#999999;--shiki-dark:#666666">>]</span><span style="color:#AB5959;--shiki-dark:#CB7676"> :</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">]</span></code></span>SplitString</span></span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> Right</span></code></span>Right</span></span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> </span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> Delimiter</span><span style="color:#59873A;--shiki-dark:#80A665"> in</span><span style="color:#59873A;--shiki-dark:#80A665"> type</span><span style="color:#59873A;--shiki-dark:#80A665"> SplitString</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Delimiter</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">></span></code></span>Delimiter</span></span><span style="color:#999999;--shiki-dark:#666666">>]</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">  :</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> T</span><span style="color:#59873A;--shiki-dark:#80A665"> in</span><span style="color:#59873A;--shiki-dark:#80A665"> type</span><span style="color:#59873A;--shiki-dark:#80A665"> SplitString</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Delimiter</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">></span></code></span>T</span></span><span style="color:#999999;--shiki-dark:#666666">];</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type SplitString&lt;
  T extends string,
  Delimiter extends string
&gt; = T extends &#96;$&#123;infer Left&#125;$&#123;Delimiter&#125;$&#123;infer Right&#125;&#96;
  ? [&#96;$&#123;Left&#125;&#96;, ...SplitString&lt;&#96;$&#123;Right&#125;&#96;, Delimiter&gt;]
  : [T];</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-7s3kk6">This snippet splits a into a union of parts using a recursive template literal string. The type splits its input into two pieces: before the delimiter and after. The part after the delimiter is recursively passed into the <code>SplitString&lt;&gt;</code> utility type and split until no delimiters remain. The split pieces are then bundled up into a tuple.</p> <h3 id="extracting-route-parameters-from-a-route" data-svelte-h="svelte-3x1fn5"><a aria-hidden="true" tabindex="-1" href="#extracting-route-parameters-from-a-route"><span class="icon icon-link"></span></a><a href="#extracting-route-parameters-from-a-route" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Extracting route parameters from a route</h3> <p data-svelte-h="svelte-41rp46">Imagine you have routes with parameters in them that you wish to extract into an object that could be passed to a route handler with the values for a route instance. For example, you have handlers for the following routes:</p> <div class="table-container col-start-1 col-end-4 w-full overflow-x-scroll svelte-ct1coh"><table><thead data-svelte-h="svelte-k9n91c"><tr><th>Route</th> <th>RouteParams object provided to handler</th></tr></thead> <tbody data-svelte-h="svelte-euigto"><tr><td><code>/item/:id</code></td> <td><code>{ id: string }</code></td></tr> <tr><td><code>/user/:id/team/:teamId</code></td> <td><code>{ user: string; team: string}</code></td></tr></tbody></table> </div> <p data-svelte-h="svelte-37k5pq">To maintain type safety, the routes need to be used to generate RouteParams objects at the type level. The API to generate a RouteParams object would look something like <code>RouteParams&lt;`/item/:id`&gt;</code>, receiving the route as a <em>type</em> parameter rather than a runtime variable.</p> <p data-svelte-h="svelte-1dudyaw">Building on the <code>Split</code> type from <em>Splitting a string literal using a delimeter</em> this is possible, enabling type-safety in route handlers.</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBASg9gV2BACgQwE5oLYGcA8AKlBAB7IB2AJrlAAYD0AJAN67AYCWFA5gL50AfFAC8UFgCgoUANoBlCD2wQKwKNyhywAG07A5HbjyIAaKAHIG5wTIoJsAIwgYAulAkBIaWloKlKtTJKGnoALlZuADNnKHQsbAF3LygAfljMHChQqAoIADdnF2z2Ll4Abgk+MqA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> RouteParams</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> &#96;</span><span style="color:#B56959;--shiki-dark:#C98A7D">/</span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">></span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">  [</span><span style="color:#2E8F82;--shiki-dark:#5DA994">Segment</span><span style="color:#AB5959;--shiki-dark:#CB7676"> in</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> SplitString</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">/</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">>[</span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">]</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> </span></span>
<span class="line"><span style="color:#2E8F82;--shiki-dark:#5DA994">	  as</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Segment</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> &#96;</span><span style="color:#B56959;--shiki-dark:#C98A7D">:</span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#AB5959;--shiki-dark:#CB7676">infer</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Param</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> </span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">	  ?</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Param</span><span style="color:#AB5959;--shiki-dark:#CB7676"> :</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> never</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">]</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;;</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type RouteParams&lt;T extends &#96;/$&#123;string&#125;&#96;&gt; = &#123;
  [Segment in SplitString&lt;T, '/'&gt;[number] 
	  as Segment extends &#96;:$&#123;infer Param&#125;&#96; 
	  ? Param : never]: string;
&#125;;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-16g9g8j">This snippet works in 3 parts:</p> <ol data-svelte-h="svelte-1tbetfo"><li><code>SplitString&lt;T, &#39;/&#39;&gt;</code>splits the route into segments separate by <code>/</code></li> <li>Segments that start with a <code>:</code> are kept as params; segments that don‚Äôt are discarded as <code>never</code></li> <li>The kept segments are used to create a <a href="https://www.typescriptlang.org/docs/handbook/2/mapped-types.html" rel="nofollow">mapped type</a> with the params as the object keys that correspond to string values.</li></ol> <p data-svelte-h="svelte-1tb9uft">Then a runtime parser can be used to grab the param values from real request URLs, construct a RequestParams object, and pass it to the route handler. Awesome!</p> <h2 id="typescript-momu-pattern---mapped-object-mapped-union" data-svelte-h="svelte-p9ky9"><a aria-hidden="true" tabindex="-1" href="#typescript-momu-pattern---mapped-object-mapped-union"><span class="icon icon-link"></span></a><a href="#typescript-momu-pattern---mapped-object-mapped-union" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>TypeScript MOMU pattern - Mapped object, mapped union</h2> <p data-svelte-h="svelte-n855ta">This isn‚Äôt explicitly a pattern in TTS, but I noticed its recurrence and wanted to note it for myself.</p> <p data-svelte-h="svelte-18ivlae">Imagine you have an object type consisting of basic key-value (KV) pairs. For example:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBAChBOBnA9gOygXigbwFAEgBLAEwC4pFh5DUBzAbgNQEMBbCcy6ux-Z2jlFQBXVgCMEjAL70gA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Person</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	id</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	name</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	age</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;;</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type Person = &#123;
	id: string;
	name: string;
	age: number;
&#125;;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-9va59z">Using a <a href="https://www.typescriptlang.org/docs/handbook/2/mapped-types.html" rel="nofollow">mapped type</a> this can be transformed into a derivative type, such as one where the KV pairs are tuple values. To demonstrate, consider this mapped type:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBAChBOBnA9gOwNIDVFQLxQG8AoASAG10oBLVKAawhGQDNYEVUBdALigoBo2SNBU6cA3EQC+4oA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> PersonKVs</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	[</span><span style="color:#2E8F82;--shiki-dark:#5DA994">K</span><span style="color:#AB5959;--shiki-dark:#CB7676"> in</span><span style="color:#AB5959;--shiki-dark:#CB7676"> keyof</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Person</span><span style="color:#999999;--shiki-dark:#666666">]: [</span><span style="color:#2E8F82;--shiki-dark:#5DA994">K</span><span style="color:#999999;--shiki-dark:#666666">, </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Person</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#2E8F82;--shiki-dark:#5DA994">K</span><span style="color:#999999;--shiki-dark:#666666">]];</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;;</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type PersonKVs = &#123;
	[K in keyof Person]: [K, Person[K]];
&#125;;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-1pxlm1t">A hand-written equivalent of this type would be:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBAChBOBnA9gOwNIDVFQLxQG8AoASAEsATALigG0ByS+gGikWHjNQHMBdAblKoAhgFsINBiPEs2HLn0Elh3CXXoqIs1AFdRAIwQCiAX35A"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> PersonKVs</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	id</span><span style="color:#999999;--shiki-dark:#666666">: [</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">id</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">, </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">];</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	name</span><span style="color:#999999;--shiki-dark:#666666">: [</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">name</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">, </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">];</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	age</span><span style="color:#999999;--shiki-dark:#666666">: [</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">age</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">, </span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">];</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;;</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type PersonKVs = &#123;
	id: ['id', string];
	name: ['name', string];
	age: ['age', number];
&#125;;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-r4n0gt">Mapped types are useful for transforming one type into another shape, adding functionality (such as getter/setter functions), etc.</p> <p data-svelte-h="svelte-1ecmp2i">The Mapped Object Mapped Union (MOMU) pattern extends this by taking the mapped object and further mapping it into a union type. This can be used to transform an initial object type such as <code>Person</code> into a union of tuple types. For example:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBAChBOBnA9gOwNIDUAqBXMANhIlALxQDeAUAJADa6UAlqlANYQjIBmsCKqALoAuKAwA0fJGgaDBAbioBfOhy6840oYqoB6XVAgBHXEwBuAQyKpgUUJGFV70TQKx5C0cnQDkTACY+kojA8CwA5oJQAD5iPqgWALYQQVAhYaiRMXEW4SnZqLiJAEYICkA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> PersonKVTuples</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	[</span><span style="color:#2E8F82;--shiki-dark:#5DA994">K</span><span style="color:#AB5959;--shiki-dark:#CB7676"> in</span><span style="color:#AB5959;--shiki-dark:#CB7676"> keyof</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Person</span><span style="color:#999999;--shiki-dark:#666666">]: [</span><span style="color:#2E8F82;--shiki-dark:#5DA994">K</span><span style="color:#999999;--shiki-dark:#666666">, </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Person</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#2E8F82;--shiki-dark:#5DA994">K</span><span style="color:#999999;--shiki-dark:#666666">]];</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;[</span><span style="color:#AB5959;--shiki-dark:#CB7676">keyof</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Person</span><span style="color:#999999;--shiki-dark:#666666">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">// equivalent type:</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> PersonKVTuple</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">id</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">]</span><span style="color:#999999;--shiki-dark:#666666"> |</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">name</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">]</span><span style="color:#999999;--shiki-dark:#666666"> |</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">age</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666"> |</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> number</span><span style="color:#999999;--shiki-dark:#666666">];</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type PersonKVTuples = &#123;
	[K in keyof Person]: [K, Person[K]];
&#125;[keyof Person];

// equivalent type:
type PersonKVTuple = ['id', string] | ['name', string] | ['age' | number];</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-16pr15g">In the MOMU pattern, the initial mapped object type is mapped once more into a union type. Performing a second mapping provides a lot of extra options when transforming types.</p> <p data-svelte-h="svelte-1ny8t6i">The MOMU pattern can also be used to transform a union type into another union type. One example of this is turning a discriminated union into a union of template literals:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBAogTnA9nAzlAvFA3gKAJADGiAJhAFxQAsADJQNz4C2EKKAhgOblQDkAcomBQAZogCuAO2I8GAXygAfbPiKkKNAMwM8zVp248AYsgBGAS2KkJMnLIY5QkWAmQBZFuy5pMuPAG0AaSgzCWckVCg2NAC-HlUIHgBdRIoAAwASLBi4kgTE2QpM7N1PPNlUuT94cJRY+KTEuiA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Errors</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	code</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2F798A;--shiki-dark:#4C9A91">404</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	message</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">Not found</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#999999;--shiki-dark:#666666"> |</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	code</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2F798A;--shiki-dark:#4C9A91">403</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	message</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">Forbidden</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> ErrorMessages</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	[</span><span style="color:#2E8F82;--shiki-dark:#5DA994">K</span><span style="color:#AB5959;--shiki-dark:#CB7676"> in</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Errors</span><span style="color:#1E754F;--shiki-dark:#4D9375"> as</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> K</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">code</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">]]: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">K</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">code</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">]</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B56959;--shiki-dark:#C98A7D">: </span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">K</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">message</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">]</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;[</span><span style="color:#2E8F82;--shiki-dark:#5DA994">Errors</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">code</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">]];</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type Errors = &#123;
	code: 404;
	message: 'Not found';
&#125; | &#123;
	code: 403;
	message: 'Forbidden';
&#125;;

type ErrorMessages = &#123;
	[K in Errors as K['code']]: &#96;$&#123;K['code']&#125;: $&#123;K['message']&#125;&#96;;
&#125;[Errors['code']];</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-1q2rw8q">The <code>ErrorMessages</code> would be equivalent to the following union type:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBAogTnA9nAshAzughgcw1AXigHIAWABlIC4oA5RYKAM0QFcA7AE2KgB8oABhQDMNAGLIARgEtOnCOwEBuIA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> ErrorMessages</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">404: Not found</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666"> |</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> &#96;</span><span style="color:#B56959;--shiki-dark:#C98A7D">403: Forbidden</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666">;</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type ErrorMessages = '404: Not found' | &#96;403: Forbidden&#96;;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-hi0wbm">The MOMU pattern also works if the scenario is flipped and you wanted to get from <code>ErrorMessages</code> to <code>Errors</code>:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/PTAEAUCcHsBMFcDGBTAzqALgC2aVBDAW13gDsBLaU0fdbXAAwFFIZJUHMBPAB2QCgMvXCzaoATKAC8oAN79Qi0AG1R0SKHLU1kALJoCAczQBdAFygdoZAA8MyUrHQMAJLK0AzZBsRxkAXws3T29QYlQjAM4FJQB+OV9YZAtE5AAaMIN8YwtwyP9QGMULUmQAN29+f1VWdX0I7NMgA"><code><span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">// Produces the same union as the &#96;Errors&#96; type</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Errors2</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">    [</span><span style="color:#2E8F82;--shiki-dark:#5DA994">Error</span><span style="color:#AB5959;--shiki-dark:#CB7676"> in</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> ErrorMessages</span><span style="color:#999999;--shiki-dark:#666666">]: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Error</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> &#96;</span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#AB5959;--shiki-dark:#CB7676">infer</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> code</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B56959;--shiki-dark:#C98A7D">: </span><span style="color:#999999;--shiki-dark:#666666">$&#123;</span><span style="color:#AB5959;--shiki-dark:#CB7676">infer</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> message</span><span style="color:#999999;--shiki-dark:#666666">&#125;</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">&#96;</span><span style="color:#999999;--shiki-dark:#666666"> </span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">    ?</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><span style="color:#B07D48;--shiki-dark:#BD976A">code</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">code</span><span style="color:#999999;--shiki-dark:#666666">, </span><span style="color:#B07D48;--shiki-dark:#BD976A">message</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">message</span><span style="color:#999999;--shiki-dark:#666666">&#125; </span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">    :</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> never</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;[</span><span style="color:#2E8F82;--shiki-dark:#5DA994">ErrorMessages</span><span style="color:#999999;--shiki-dark:#666666">]</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">// Produces the same union as the &#96;Errors&#96; type
type Errors2 = &#123;
    [Error in ErrorMessages]: Error extends &#96;$&#123;infer code&#125;: $&#123;infer message&#125;&#96; 
    ? &#123;code: code, message: message&#125; 
    : never
&#125;[ErrorMessages]</pre><!-- HTML_TAG_END --> <h2 id="use-generics-at-the-lowest-level-possible" data-svelte-h="svelte-8dlcq2"><a aria-hidden="true" tabindex="-1" href="#use-generics-at-the-lowest-level-possible"><span class="icon icon-link"></span></a><a href="#use-generics-at-the-lowest-level-possible" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Use generics at the lowest level possible</h2> <p data-svelte-h="svelte-1bnmghd">Imagine you want to write a generic function for overriding home page feature flags. Instead of making the entire config object generic, make only the <em>home page</em> feature flags generic. Here‚Äôs an example from the total typescript exercise:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/KYDwDg9gTgLgBAYwgOwM7wObBgCQgW2AAUBDLAMWBJgFcphyAbM1OAXjgB4mWA+ACgBQcRCgBmASwwAuOAG84UEgHcAwuKmyFYqrXo8MqLXAAWBYmWCyDrAL5x7tgDTC4EAG7AoUCQBMrcPxizIbWIagAlOy8cDaCUWwxcq70eshunt5+wPxIyJIYAHRKahpFOtR0DOGFZoSkWBEA3IK2TUA"><code><span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">export</span><span style="color:#AB5959;--shiki-dark:#CB7676"> const </span><span style="color:#59873A;--shiki-dark:#80A665">getHomePageFeatureFlags</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">Flags</span><span style="color:#999999;--shiki-dark:#666666">>(</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">  config</span><span style="color:#999999;--shiki-dark:#666666">: &#123; </span><span style="color:#B07D48;--shiki-dark:#BD976A">rawConfig</span><span style="color:#999999;--shiki-dark:#666666">: &#123; </span><span style="color:#B07D48;--shiki-dark:#BD976A">featureFlags</span><span style="color:#999999;--shiki-dark:#666666">: &#123; </span><span style="color:#B07D48;--shiki-dark:#BD976A">homePage</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Flags</span><span style="color:#999999;--shiki-dark:#666666"> &#125; &#125; &#125;,</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">  override</span><span style="color:#999999;--shiki-dark:#666666">: (</span><span style="color:#B07D48;--shiki-dark:#BD976A">flags</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Flags</span><span style="color:#999999;--shiki-dark:#666666">) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Flags</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#999999;--shiki-dark:#666666"> =></span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">  return</span><span style="color:#59873A;--shiki-dark:#80A665"> override</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">config</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#B07D48;--shiki-dark:#BD976A">rawConfig</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#B07D48;--shiki-dark:#BD976A">featureFlags</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#B07D48;--shiki-dark:#BD976A">homePage</span><span style="color:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;;</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">export const getHomePageFeatureFlags = &lt;Flags&gt;(
  config: &#123; rawConfig: &#123; featureFlags: &#123; homePage: Flags &#125; &#125; &#125;,
  override: (flags: Flags) =&gt; Flags
) =&gt; &#123;
  return override(config.rawConfig.featureFlags.homePage);
&#125;;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-hflq5q">Rather than having the entire <code>config</code> object be a generic, only <code>config.rawConfig.featureFlags.homePage</code> is. Here the <code>override</code> signature is able to accept only the nested home page flags object. This provides nicer intellisense, requires less code be written, and is more readable.</p> <h3 id="example-get-a-typed-array-of-object-keys" data-svelte-h="svelte-149gtpz"><a aria-hidden="true" tabindex="-1" href="#example-get-a-typed-array-of-object-keys"><span class="icon icon-link"></span></a><a href="#example-get-a-typed-array-of-object-keys" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Example: Get a typed array of object keys</h3> <p data-svelte-h="svelte-qem5kq">Using JavaScript‚Äôs <code>Object.keys()</code> is a handy way to get an array of any object‚Äôs keys. Unfortunately, the result is typed as <code>string[]</code>, which isn‚Äôt specific enough to make typesafe accesses to an object. For that case, it‚Äôs better to use a generic to get a <em>typed</em> array of the keys. Check it out:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/FAYw9gdgzgLgBDAngBwKYBMDyAjAVqkGAaVUSjgF44AeAFTlQA8ZUJ1zYAnASwgHMAfAAoweAFxwASgTCd0dADRwArhADWEMAHcIAgJSUBcAN7A4cTqhjLOEODnyEAdGtJQReAwENyAQU6cXoh0AgDcwAC+oUA"><code><span class="line"></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#59873A;--shiki-dark:#80A665">typedObjectKeys</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">>(</span><span style="color:#B07D48;--shiki-dark:#BD976A">obj</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Record</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">, </span><span style="color:#2E8F82;--shiki-dark:#5DA994">unknown</span><span style="color:#999999;--shiki-dark:#666666">>)</span><span style="color:#999999;--shiki-dark:#666666"> =></span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">  return</span><span style="color:#B07D48;--shiki-dark:#BD976A"> Object</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#59873A;--shiki-dark:#80A665">keys</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">obj</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#1E754F;--shiki-dark:#4D9375"> as</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Array</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">>;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;;</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">
const typedObjectKeys = &lt;T extends string&gt;(obj: Record&lt;T, unknown&gt;) =&gt; &#123;
  return Object.keys(obj) as Array&lt;T&gt;;
&#125;;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-1gmz3yf"><code>typedObjectKeys</code> uses the generic at the lowest level possible, the object‚Äôs keys, to minimize how much of the type is a generic. It still requires a cast (the <code>as Array&lt;T&gt;</code>) to get the result typed correctly.</p> <h3 id="example-infer-the-literal-types-of-an-array-rather-than-the-basic-type" data-svelte-h="svelte-18w9tu6"><a aria-hidden="true" tabindex="-1" href="#example-infer-the-literal-types-of-an-array-rather-than-the-basic-type"><span class="icon icon-link"></span></a><a href="#example-infer-the-literal-types-of-an-array-rather-than-the-basic-type" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Example: infer the literal types of an array, rather than the basic type</h3> <p data-svelte-h="svelte-czyjeh">Sometimes the TypeScript compiler infers a broader type than is desirable. Consider this example:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/MYewdgzgLgBAtgQwNYFMCCAnDCCeMC8MAPACowoAeUKYAJhDJtjkdBgJZgDmAfDwBQA3BABsAriggAuGCQCUBHjGHjJAbgBQoSLARZcBeMnT6c-ANoByAGYgQlgDQxLAIz2WAunLUwA9L5goHAAHFFoYBAYmXFYoDm4lEAwYNk4ucw8gA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#59873A;--shiki-dark:#80A665">makeArray</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Array</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">>>(</span><span style="color:#B07D48;--shiki-dark:#BD976A">values</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#999999;--shiki-dark:#666666"> =></span><span style="color:#B07D48;--shiki-dark:#BD976A"> values</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A">array</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#59873A;--shiki-dark:#80A665"> makeArray</span><span style="color:#999999;--shiki-dark:#666666">([</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">foo</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">bar</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">]);</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> // typed as Array&#x3C;string> or string[]</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">const makeArray = &lt;T extends Array&lt;string&gt;&gt;(values: T) =&gt; values;
const array = makeArray(['foo', 'bar']); // typed as Array&lt;string&gt; or string[]</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-1gwulla">This typing is less precise than I‚Äôd like, because the values are known at compile time. Because the generic <code>T extends Array&lt;string&gt;</code> is broadly generic on the <em><code>Array</code></em> type, the compiler doesn‚Äôt narrow the generic being passed to <code>Array&lt;&gt;</code>, ie the <code>string</code>. By moving <code>makeArray</code>‚Äôs generic a lower level - the type parameter being passed to <code>Array&lt;&gt;</code>, Typescript is able to infer a narrower type. Rather than it inferring the <code>Array&lt;string&gt;</code> it will infer what is being passed to <code>Array</code>. Here‚Äôs what that looks like:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/MYewdgzgLgBAtgQwNYFMCCAnDCCeMC8MAPACowoAeUKYAJhDNBgJZgDmAfABQBuCANgFcUEAFwxM2HKQ4BKAhxh8hIgNwAoUJFgIsuAvGTo9OLgG0A5ADMQICwBoYFgEa6LAXVmqY6gPS+YQJgAPRgoHAAHFFoYBAZJXCJrWwsYAB8nVwwLRRAMGC5ku3TMt1kzdyA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#59873A;--shiki-dark:#80A665">makeArray</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">>(</span><span style="color:#B07D48;--shiki-dark:#BD976A">values</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Array</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">>)</span><span style="color:#999999;--shiki-dark:#666666"> =></span><span style="color:#B07D48;--shiki-dark:#BD976A"> values</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A">array</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#59873A;--shiki-dark:#80A665"> makeArray</span><span style="color:#999999;--shiki-dark:#666666">([</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">foo</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">bar</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">]);</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> </span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">//    ^ typed as Array&#x3C;'foo' | 'bar'> or ('foo' | 'bar')[]</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">const makeArray = &lt;T extends string&gt;(values: Array&lt;T&gt;) =&gt; values;
const array = makeArray(['foo', 'bar']); 
//    ^ typed as Array&lt;'foo' | 'bar'&gt; or ('foo' | 'bar')[]</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-rt747z">This makes use of the same trick as the <em>getting a typed array of object keys</em> - moving the generic to something more specific to coerce the Typescript compiler to infer a narrower type.</p> <h3 id="example-wrap-a-function-and-safely-get-the-result-or-thrown-error" data-svelte-h="svelte-jle4qh"><a aria-hidden="true" tabindex="-1" href="#example-wrap-a-function-and-safely-get-the-result-or-thrown-error"><span class="icon icon-link"></span></a><a href="#example-wrap-a-function-and-safely-get-the-result-or-thrown-error" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Example: wrap a function and safely get the result or thrown error</h3> <p data-svelte-h="svelte-quktlt">Often there is a need to call a function which might throw. by the time all the cases are handled in the <code>catch</code> block it‚Äôs a long and deeply-nested mess of unwieldy code. What would it look like to instead wrap the potentially throwing function and get a result of <code>&#39;success&#39;</code> or <code>&#39;failure&#39;</code> that can be used with a guard clause instead? Here‚Äôs a riff on how Matt Pocock handles that in Total Typescript.</p> <p data-svelte-h="svelte-1ifu3ok">Notice that the generic is at a higher level (the entire function type) rather than the lowest possible level (the parameters &amp; return type of the function). This is so that in contexts where the generic is used, the intellisense will show <code>makeSafe</code> as a generic on the function type, which is more intuitive than having a generic with 2 type parameters - 1 for the function parameters and another for the return type.</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/MYewdgzgLgBAtgQwNYFMDKCBmKYF4BQMMAPACowoAeUKYAJhDABQB0bCATgOYQBcMAQQ4cEAT2IIwogHwBKPNJiSZTTAFcwwfqXm5phZgaJsWnHvwAKnBHBQ0OEMvqKzeRmAB8YAb3dEiUKIADij8AOQQasDAKBAQYQDcfv4csWoANlD8AEp2ahxgpMEoTkn+-gC+7l6+5eWBIeGYCACW6fkoiclEKMIgHPwAon0cZXUVCj7uUByiU3UwoJCwqZGZeDDqmqzs3BCyY+WpUPlg8wswDaEwEVExcWEANN0wqxlQzwsVhzATwAhQYAAC2YKHktTqx1O5wWVyarXaqSeL16HH6-BwCEYwzRHE+4x+VSI33w+AA9GSYGoIAguCh8EtoDAAG4IdItOgAlAAdQ5dNguGYmBAIH4vLo-N0im8LUwQpFLFZ7Lo8ihBU2IoSlyBaIA7jAAEQASTASo5MF1fLsBoSVQZ4CZNOwADU2RyueL+RtEKgMNgmGbOTRPXYDqTGbBLRK7K7lQCWuBcmsBTAnShY+7g1aoEwo5KkrLc9mM0GE2Ak+8WFcYABCXCCyLRWL7fAASDVZwNzTaKDolxALLdQZweet+FHUBL8cTaUyLDec+pPOzTAOQA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A">makeSafe</span><span style="color:#999999;--shiki-dark:#666666"> =</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">  &#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends </span><span style="color:#999999;--shiki-dark:#666666">(...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Array</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">>)</span><span style="color:#999999;--shiki-dark:#666666"> =></span><span style="color:#2E8F82;--shiki-dark:#5DA994"> any</span><span style="color:#999999;--shiki-dark:#666666">>(</span><span style="color:#B07D48;--shiki-dark:#BD976A">func</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#999999;--shiki-dark:#666666"> =></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">  (</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">    ...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#AB5959;--shiki-dark:#CB7676">: </span><span style="color:#B07D48;--shiki-dark:#BD976A">Parameters</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#B07D48;--shiki-dark:#BD976A">T</span><span style="color:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">  )</span><span style="color:#AB5959;--shiki-dark:#CB7676">:</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">    |</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">        type</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">success</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">        result</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> ReturnType</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#B07D48;--shiki-dark:#BD976A">T</span><span style="color:#999999;--shiki-dark:#666666">>;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      &#125;</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">    |</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">        type</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">failure</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">        error</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> Error</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      &#125;</span><span style="color:#999999;--shiki-dark:#666666"> =></span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">    try</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">      const </span><span style="color:#B07D48;--shiki-dark:#BD976A">result</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#59873A;--shiki-dark:#80A665"> func</span><span style="color:#999999;--shiki-dark:#666666">(...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">      return</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">        type</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">success</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">        result</span><span style="color:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      &#125;;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">    &#125;</span><span style="color:#1E754F;--shiki-dark:#4D9375"> catch</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">e</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">      return</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">        type</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">failure</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">        error</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B07D48;--shiki-dark:#BD976A">e</span><span style="color:#1E754F;--shiki-dark:#4D9375"> as</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Error</span><span style="color:#999999;--shiki-dark:#666666">,</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      &#125;;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">    &#125;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">  &#125;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">// usage</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#59873A;--shiki-dark:#80A665">validateWidget</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">foo</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Widget</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#999999;--shiki-dark:#666666"> =></span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><span style="color:#1E754F;--shiki-dark:#4D9375">if</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">foo</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#B07D48;--shiki-dark:#BD976A">valid</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#1E754F;--shiki-dark:#4D9375"> return</span><span style="color:#B07D48;--shiki-dark:#BD976A"> foo</span><span style="color:#999999;--shiki-dark:#666666">;</span><span style="color:#1E754F;--shiki-dark:#4D9375"> throw</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">Invalid widget</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A">safeValidateWidget</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#59873A;--shiki-dark:#80A665"> makeSafe</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">validateWidget</span><span style="color:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A">widgetValidationResult</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#59873A;--shiki-dark:#80A665"> safeValidateWidget</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">widget</span><span style="color:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">if</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">widgetValidationResult</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#AB5959;--shiki-dark:#CB7676"> !==</span><span style="color:#B07D48;--shiki-dark:#BD976A"> success</span><span style="color:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	return</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">failed to validate widget</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">widgetValidationResult</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#B07D48;--shiki-dark:#BD976A">result</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#59873A;--shiki-dark:#80A665">useWidget</span><span style="color:#999999;--shiki-dark:#666666">();</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">const makeSafe =
  &lt;T extends (...args: Array&lt;any&gt;) =&gt; any&gt;(func: T) =&gt;
  (
    ...args: Parameters&lt;T&gt;
  ):
    | &#123;
        type: 'success';
        result: ReturnType&lt;T&gt;;
      &#125;
    | &#123;
        type: 'failure';
        error: Error;
      &#125; =&gt; &#123;
    try &#123;
      const result = func(...args);
      return &#123;
        type: 'success',
        result,
      &#125;;
    &#125; catch (e) &#123;
      return &#123;
        type: 'failure',
        error: e as Error,
      &#125;;
    &#125;
  &#125;;

// usage
const validateWidget = (foo: Widget) =&gt; &#123;if (foo.valid) return foo; throw "Invalid widget";&#125;

const safeValidateWidget = makeSafe(validateWidget);

const widgetValidationResult = safeValidateWidget(widget);
if(widgetValidationResult.type !== success)
	return "failed to validate widget"
widgetValidationResult.result.useWidget();</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-c0sez1">This approach is great because the <code>result</code> on <code>widgetValidationResult</code> will be correctly typed as the return type of <code>validateWidget</code>. Similarly, trying to call <code>validateWidget</code> with a value that doesn‚Äôt satisfy <code>Widget</code> will result in a Typescript error.</p> <h2 id="narrowing-return-types-in-generics" data-svelte-h="svelte-1meljz2"><a aria-hidden="true" tabindex="-1" href="#narrowing-return-types-in-generics"><span class="icon icon-link"></span></a><a href="#narrowing-return-types-in-generics" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Narrowing return types in generics</h2> <p data-svelte-h="svelte-qbv8s6">TypeScript‚Äôs type system being built on set theory has some limitations when it comes to narrowing.</p> <h2 id="function-overloads" data-svelte-h="svelte-m2geuf"><a aria-hidden="true" tabindex="-1" href="#function-overloads"><span class="icon icon-link"></span></a><a href="#function-overloads" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Function overloads</h2> <p data-svelte-h="svelte-19o0w4g">Function overloads are a bit weird in TypeScript. This is an artifact of TypeScript being compatible with JavaScript, which doesn‚Äôt support function overloading. To work around this, TypeScript allows function overloading in a very specific way:</p> <ol data-svelte-h="svelte-17qic5j"><li>All of the overload signatures must be declared using the <code>function</code> keyword (they can‚Äôt be arrow functions)</li> <li>The overload signatures must be declared next to each other in code, with nothing else in between them</li> <li>None of the overload signatures can have an implementation</li> <li>An overload implementation must be written after the overload signatures. It must be compatible with all of the overload signatures declared before it.</li></ol> <p data-svelte-h="svelte-1lmw9tq">To simplify, here‚Äôs an example of what a valid function overload might look like:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/PTAEBUAsFNQewG7QE4Bs4EMAmoDOBLAcwDsMAXAV2Wl1A2tAAcKAjVfAY1H2LJQDMMHGqDKRyoDhmKgWsCrmg4ycbsQRwA1rDGx+FYhzL44xAFD7Dx06H5w4ACh7MyALjxlkPQgEp3uT28AbgsDIxMZO0dnCjdQYgoAWzlkP3iklJDLcJsop2IXdwBvBRR-QOJCAF80lntUaGkQkAgYbkTGBsToXnII7loMUAAqRi8EcmhhtT5kQWFQAHdITkgB+LgyUGgAD0Y4RWVVUuRcUKt+vJi46QBPHyKzAEh8fgcyW8ZoOH41F1AALxA0AAIgCXkqIJ8oGolGQMjBFUIIJCLzeHy+Pz+sUBwJBCWSKChMOgcJkAEYAEwAZlRr3en2+v2uuIBoLgLAAVtAjCDQAAyfmgADyXJ5ZAAdOJcMLFsR8i4ADSgk5Q6GwqgyTwUaAhKpAA"><code><span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">// The overload signatures are public interfaces that can be used to invoke the function</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> foo</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">input</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">):</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> foo</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">input</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">):</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> number</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> foo</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">input</span><span style="color:#999999;--shiki-dark:#666666">: &#123;</span><span style="color:#B07D48;--shiki-dark:#BD976A">user</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">&#125;):</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> boolean</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">// The implementation is a *private* interface which is not exposed to users</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> foo</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">input</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">)&#123;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	if</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#AB5959;--shiki-dark:#CB7676">typeof</span><span style="color:#B07D48;--shiki-dark:#BD976A"> input</span><span style="color:#AB5959;--shiki-dark:#CB7676"> ===</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">string</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#1E754F;--shiki-dark:#4D9375"> return</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">string</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	if</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#AB5959;--shiki-dark:#CB7676">typeof</span><span style="color:#B07D48;--shiki-dark:#BD976A"> input</span><span style="color:#AB5959;--shiki-dark:#CB7676"> ===</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">number</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#1E754F;--shiki-dark:#4D9375"> return</span><span style="color:#2F798A;--shiki-dark:#4C9A91"> 123</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	if</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#AB5959;--shiki-dark:#CB7676">typeof</span><span style="color:#B07D48;--shiki-dark:#BD976A"> input</span><span style="color:#AB5959;--shiki-dark:#CB7676"> ===</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">object</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#AB5959;--shiki-dark:#CB7676"> &#x26;&#x26;</span><span style="color:#B07D48;--shiki-dark:#BD976A"> Object</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#59873A;--shiki-dark:#80A665">hasOwn</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">input</span><span style="color:#999999;--shiki-dark:#666666">,</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">user</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">))</span><span style="color:#1E754F;--shiki-dark:#4D9375"> return</span><span style="color:#1E754F;--shiki-dark:#4D9375"> true</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">// The overload signatures are public interfaces that can be used to invoke the function
function foo(input: string): string;
function foo(input: number): number;
function foo(input: &#123;user: string&#125;): boolean;
// The implementation is a *private* interface which is not exposed to users
function foo(input: any)&#123;
	if(typeof input === "string") return "string";
	if(typeof input === "number") return 123;
	if(typeof input === "object" && Object.hasOwn(input, "user")) return true;
&#125;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-sxw1hz">Unfortunately this example has an issue. While the compiler correctly infers return types, it thinks that the implementation isn‚Äôt compatible with the declarations. There are 2 approaches to fix this:</p> <ol data-svelte-h="svelte-kf1qs0"><li>Provide a type annotation for the implementation‚Äôs return type</li> <li>Add type annotations to the values being returned within the implementation.</li></ol> <p data-svelte-h="svelte-khn6hr">Option 1 looks like this:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/GYVwdgxgLglg9mABMOcAUMwAcRQFyICGYAngJQEDOUATpgOaIA+iYIAtgEYCmNzinVABtuxRAG8AUAHppiAHSLJAXyA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> foo</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">input</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">):</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666"> |</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> number</span><span style="color:#999999;--shiki-dark:#666666"> |</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> boolean</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">// ...</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">function foo(input: any): string | number | boolean &#123;
// ...
&#125;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-ku59px">The downside of this approach is that typescript can‚Äôt provide useful hints within the function about valid values, especially for narrower types.</p> <p data-svelte-h="svelte-9ksov3">The alternative is a slightly more verbose approach of specifying types for each return value. In many cases this will probably be fine as real functions tend to be more complex than demos. There are two ways of doing this. My preference is to declare the variables ahead of the return statement and use a type annotation:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/GYVwdgxgLglg9mABMOcAUMwAcRQFyICGYAngJSIDeAUAJAzBpQlYCmcwimOUiAvAMQAiAM5QATpgDmQijVq0ICMYhEExksFP7CN0oQG46tcayghxSEUdoBfOgHoHiOFAAWrcVwC2WADas3qxgUISwygB0UdS2QA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> foo</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">input</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	if</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#AB5959;--shiki-dark:#CB7676">typeof</span><span style="color:#B07D48;--shiki-dark:#BD976A"> input</span><span style="color:#AB5959;--shiki-dark:#CB7676"> ===</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">string</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">		const </span><span style="color:#B07D48;--shiki-dark:#BD976A">s</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">string</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">		return</span><span style="color:#B07D48;--shiki-dark:#BD976A"> s</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">	&#125;</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">	// other implementations...</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">function foo(input: any) &#123;
	if(typeof input === "string") &#123;
		const s: string = "string";
		return s;
	&#125;
	// other implementations...
&#125;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-139aje3">Alternatively, the annotations can be provided inline using <code>as</code>:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/GYVwdgxgLglg9mABMOcAUMwAcRQFyICGYAngJSIDeAUAJAzBpQlYCmcwimOUiAvAMQAiAM5QATpgDmQiuNZQQ4pKInShREYjGSwUgNx0A9EcRwoAC1biuAWywAbVrdZgohWAhEA6X9QC+QA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> foo</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">input</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	if</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#AB5959;--shiki-dark:#CB7676">typeof</span><span style="color:#B07D48;--shiki-dark:#BD976A"> input</span><span style="color:#AB5959;--shiki-dark:#CB7676"> ===</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">string</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#1E754F;--shiki-dark:#4D9375"> return</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">string</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#1E754F;--shiki-dark:#4D9375"> as</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> string</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#A0ADA0;--shiki-dark:#758575DD">	// other implementations...</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">function foo(input: any) &#123;
	if(typeof input === "string") return "string" as string;
	// other implementations...
&#125;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-14mt0g9">This is more concise, but in my opinion using <code>as</code> is a bit of a code smell vs using an explicit type annotation.</p> <p data-svelte-h="svelte-1fs9oi">Overall, TypeScript function overloads seem to only be worth it if the return type changes based on the input. If the return type is always the same, I find it cleaner to write a single function signature where the parameter(s) are a union of the possible input values and there is a single return type.</p> <h2 id="identity-functions" data-svelte-h="svelte-b8mzpf"><a aria-hidden="true" tabindex="-1" href="#identity-functions"><span class="icon icon-link"></span></a><a href="#identity-functions" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Identity functions</h2> <p data-svelte-h="svelte-29oivh">Identity functions are a tool to improve type information. They take the form of a function that provides TypeScript with extra type information and typically have a return value that is identical to argument passed to them. Typically identity functions are used to either provide a library‚Äôs users with better type information, or for a library to get better type information from a user. In both cases, the goal seems to be improving ease of use and developer experience.</p> <p data-svelte-h="svelte-rhpgyv">A common use of identity functions is defining configurations. There will be a <code>defineConfig()</code> or similar function with a parameter whose type is the config type for a library. Using it results in the IDE‚Äôs intellisense showing the user the config options right where they are defining the config. In my experience this is much nicer than having to reference docs for every option. Some tools I use that take this approach are:</p> <ul data-svelte-h="svelte-1s2il9t"><li><a href="https://typescript-eslint.io/packages/typescript-eslint#config" rel="nofollow">typescript-eslint</a></li> <li><a href="https://vitejs.dev/config/#config-intellisense" rel="nofollow">vite‚Äôs defineConfig</a></li></ul> <p data-svelte-h="svelte-1s1yhdv">The other use for identity functions is to get more type information from users without them needing to provide it. This use case is not as straightforward, but can enable some really incredible APIs.</p> <h3 id="narrowing-an-array-to-readonly-literals-of-an-object-type" data-svelte-h="svelte-1a6ohbd"><a aria-hidden="true" tabindex="-1" href="#narrowing-an-array-to-readonly-literals-of-an-object-type"><span class="icon icon-link"></span></a><a href="#narrowing-an-array-to-readonly-literals-of-an-object-type" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Narrowing an array to readonly literals of an object type</h3> <p data-svelte-h="svelte-k6lrmt">Imagine you are building a basic router. It needs to know the path and handler for each route, and it takes an array of objects with these values. Trivially, that might look something like this:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBASg9gV2NAvFA3gKAJBgIbAAWAXFAM7ABOAlgHYDmA3DoXrQCYA2ElpAFADoheSvTKk2IANoBdAJQoAfFEmYAvpgBmCWgGNg1OLSgARCJroR4SCGT6VEycbEcRZcrNkoRgCSsYcbMmYNTCA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Route</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">	handler</span><span style="color:#999999;--shiki-dark:#666666">: (...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">[])=> </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> DefineRoutes</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Route</span><span style="color:#999999;--shiki-dark:#666666">[])&#123;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	return</span><span style="color:#B07D48;--shiki-dark:#BD976A"> routes</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type Route = &#123;
	path: string;
	handler: (...args: any[])=&gt; any
&#125;
function DefineRoutes(routes: Route[])&#123;
	return routes;
&#125;

</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-fnoiew">This straightforward approach will produce a runtime array of values, but the type system doesn‚Äôt know the <em>exact</em> paths or <em>exact</em> parameters for each route. TypeScript only knows that paths are strings and handlers are functions. Hovering over the highlighted values below reveals that TypeScript knows only their broad types.</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark twoslash lsp" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" ts twoslash data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBASg9gV2NAvFA3gKAJBgIbAAWAXFAM7ABOAlgHYDmA3DoXrQCYA2ElpAFADoheSvTKk2IANoBdAJQoAfFEmYAvpgBmCWgGNg1OLSgARCJroR4SCGT6VEycbEcRZcrNkoRgCSsYcbMmYNAHpQqABaaN0kaMjMXSMKKECnKDQzC1orVzspLCgiqHwiUgByUMIITk44UIB3OEpOdnKAGihMcKKAPX7ezGKoVg5uXig+AFtbMjx6CFIKGgYFZRmyOYWBbgYiboioAeOh4rVOwuLSkihK+jg4dgAjEAhQqYfaDq6eo4HToqjLg8fhrdBhQ7Hf5qeSYIA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Route</span><span style="color:#999999;--shiki-dark:#666666">[]</span></code></span>routes</span></span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#59873A;--shiki-dark:#80A665"> </span><span style="color:#59873A;--shiki-dark:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> DefineRoutes</span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Route</span><span style="color:#999999;--shiki-dark:#666666">[]):</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Route</span><span style="color:#999999;--shiki-dark:#666666">[]</span></code></span>DefineRoutes</span></span><span style="color:#999999;--shiki-dark:#666666">([&#123;</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    </span><span class="twoslash-highlighted"><span style="color:#998418;--shiki-dark:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">path</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> string</span></code></span>path</span></span></span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">/hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">, </span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    </span><span class="twoslash-highlighted"><span style="color:#59873A;--shiki-dark:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">handler</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> (...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">[])</span><span style="color:#999999;--shiki-dark:#666666"> =></span><span style="color:#B07D48;--shiki-dark:#BD976A"> any</span></code></span>handler</span></span></span><span style="color:#999999;--shiki-dark:#666666">: (</span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">message</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> string</span></code></span>message</span></span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">)=> </span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">message</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> string</span></code></span>message</span></span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#998418;--shiki-dark:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48;--shiki-dark:#BD976A">String</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#998418;--shiki-dark:#B8A965">length</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">: </span><span style="color:#B07D48;--shiki-dark:#BD976A">number</span></code><div class="twoslash-popup-docs">Returns the length of a String object.</div></span>length</span></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">    &#125;,</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    </span><span class="twoslash-highlighted"><span style="color:#998418;--shiki-dark:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">path</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> string</span></code></span>path</span></span></span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">/goodbye/moon</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">, </span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    </span><span class="twoslash-highlighted"><span style="color:#59873A;--shiki-dark:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">handler</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> (...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">[])</span><span style="color:#999999;--shiki-dark:#666666"> =></span><span style="color:#B07D48;--shiki-dark:#BD976A"> any</span></code></span>handler</span></span></span><span style="color:#999999;--shiki-dark:#666666">: ()=>&#123;&#125;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;])</span></span>
<span class="line"></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type Route = &#123;
	path: string;
	handler: (...args: any[])=&gt; any
&#125;
function DefineRoutes(routes: Route[])&#123;
	return routes;
&#125;
// ---cut---
const routes = DefineRoutes([&#123;
    path: '/hello/world', 
//  ^^^^
    handler: (message: string)=&gt; message.length
//  ^^^^^^^
    &#125;, &#123;
    path: '/goodbye/moon', 
//  ^^^^
    handler: ()=&gt;&#123;&#125;
//  ^^^^^^^
&#125;])
</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-h40ul5">Now let‚Äôs build a version of this API where the type system has extremely narrow types for each value. That can provide many benefits that are impossible otherwise:</p> <ul data-svelte-h="svelte-gyv5x6"><li>A type safe API that only allows calls to a route that match the route handler‚Äôs signature</li> <li>When specifying a route, instead of any string being allowed it could be limited to only <em>defined</em> routes, which would all pop up as suggestions in the intellisense</li></ul> <p data-svelte-h="svelte-1lm0xw6"><code>Router</code> will need to be a generic so the type system can infer narrower types. Specifically, it needs to narrow in three ways:</p> <ol data-svelte-h="svelte-e9hn07"><li>The <code>Route.path</code> values must be narrowed to <a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types" rel="nofollow">string literals</a></li> <li>The <code>Route.handler</code> values must be narrowly typed as their exact function signature</li> <li>Both 1&amp;2 need to happen separately for each value in the array</li></ol> <p data-svelte-h="svelte-1nh4jc2">To do this requires a <a href="https://devblogs.microsoft.com/typescript/announcing-typescript-5-0/#const-type-parameters" rel="nofollow"><code>const</code> type parameter</a> (introduced in TypeScript 5.0) and until TS 5.3 it requires using a <code>ReadonlyArray</code> as well. This should do it:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark twoslash lsp" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" ts twoslash data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBASg9gV2NAvFA3gKAJBgIbAAWAXFAM7ABOAlgHYDmA3DoXrQCYA2ElpAFADoheSvTKk2IANoBdAJQoAfFEmYAvpgBmCWgGNg1OLSgARCJroR4SCGQA8uoxSgAVa8jJQIAD2QdPMBB47EacIACClJR4IHbuEIqKfJSIHqRuqbZyWAD0OVAFhUXFxQB65eUlVUUVtXX15TiUEMAIlMYpNmTMGphAA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> </span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Route</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><br><span style="color:#B07D48;--shiki-dark:#BD976A">    path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#59873A;--shiki-dark:#80A665">    handler</span><span style="color:#999999;--shiki-dark:#666666">: (...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">[]) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;</span></code></span>Route</span></span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">	</span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">path</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> string</span></code></span>path</span></span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">	</span><span style="color:#59873A;--shiki-dark:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">handler</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> (...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">[])</span><span style="color:#999999;--shiki-dark:#666666"> =></span><span style="color:#B07D48;--shiki-dark:#BD976A"> any</span></code></span>handler</span></span><span style="color:#999999;--shiki-dark:#666666">: (...</span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">args</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> any</span><span style="color:#999999;--shiki-dark:#666666">[]</span></code></span>args</span></span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">[])=> </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> </span><span style="color:#59873A;--shiki-dark:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> DefineRoutes</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#AB5959;--shiki-dark:#CB7676">const</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> TRoutes</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#AB5959;--shiki-dark:#CB7676"> readonly</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Route</span><span style="color:#999999;--shiki-dark:#666666">[]>(</span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">TRoutes</span><span style="color:#999999;--shiki-dark:#666666">):</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> TRoutes</span></code></span>DefineRoutes</span></span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span class="twoslash-highlighted"><span style="color:#AB5959;--shiki-dark:#CB7676">const</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> </span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> TRoutes</span><span style="color:#59873A;--shiki-dark:#80A665"> in</span><span style="color:#59873A;--shiki-dark:#80A665"> DefineRoutes</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#AB5959;--shiki-dark:#CB7676">const</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> TRoutes</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#AB5959;--shiki-dark:#CB7676"> readonly</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Route</span><span style="color:#999999;--shiki-dark:#666666">[]>(</span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">TRoutes</span><span style="color:#999999;--shiki-dark:#666666">):</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> TRoutes</span></code></span>TRoutes</span></span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> </span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">interface</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> ReadonlyArray</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">></span></code></span>ReadonlyArray</span></span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Route</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><br><span style="color:#B07D48;--shiki-dark:#BD976A">    path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#59873A;--shiki-dark:#80A665">    handler</span><span style="color:#999999;--shiki-dark:#666666">: (...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">[]) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;</span></code></span>Route</span></span><span style="color:#999999;--shiki-dark:#666666">></span></span><span style="color:#999999;--shiki-dark:#666666">>(</span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">routes</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#AB5959;--shiki-dark:#CB7676"> const </span><span style="color:#B07D48;--shiki-dark:#BD976A">TRoutes</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends readonly Route[]</span></code></span>routes</span></span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> TRoutes</span><span style="color:#59873A;--shiki-dark:#80A665"> in</span><span style="color:#59873A;--shiki-dark:#80A665"> DefineRoutes</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#AB5959;--shiki-dark:#CB7676">const</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> TRoutes</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#AB5959;--shiki-dark:#CB7676"> readonly</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Route</span><span style="color:#999999;--shiki-dark:#666666">[]>(</span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">TRoutes</span><span style="color:#999999;--shiki-dark:#666666">):</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> TRoutes</span></code></span>TRoutes</span></span><span style="color:#999999;--shiki-dark:#666666">)&#123;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">	return</span><span style="color:#B07D48;--shiki-dark:#BD976A"> </span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">routes</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#AB5959;--shiki-dark:#CB7676"> const </span><span style="color:#B07D48;--shiki-dark:#BD976A">TRoutes</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends readonly Route[]</span></code></span>routes</span></span><span style="color:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type Route = &#123;
	path: string;
	handler: (...args: any[])=&gt; any
&#125;
function DefineRoutes&lt;const TRoutes extends ReadonlyArray&lt;Route&gt;&gt;(routes: TRoutes)&#123;
//                    ^^^^^                 ^^^^^^^^^^^^^^^^^^^^
	return routes;
&#125;

</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-1qe73x9">The <code>const</code> type parameter tells TypeScript to infer the narrowest type possible. It does a great job at it, too. Check them out for the same call to <code>Router</code> as above, but using the new typing for it:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark twoslash lsp" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" ts twoslash data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBASg9gV2NAvFA3gKAJBgIbAAWAXFAM7ABOAlgHYDmA3DoXrQCYA2ElpAFADoheSvTKk2IANoBdAJQoAfFEmYAvpgBmCWgGNg1OLSgARCJroR4SCGQA8uoxSgAVa8jJQIAD2QdPMBB47EacIACClJR4IHbuEIqKfJSIHqRuqbZyWNiUEMAIlMYpNmTMGgD0FVAAtHW6SHU1mI60ziUeUGhmFrRWmWR8UlhQo1D4RKQA5BWEEJyccBUA7nCUnOxTADRQmFWjAHpHB5hjUKwc3LxQfAC2tmR49BCkFDQMCsr3ZI-PAtwMIh7apQY5g05jNQ7EZjCYkKAzehwODsABGIAgFVuyNo212+1BxwhowuXB4-E+6EqILBRLU8kwjMZQA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#AB5959;--shiki-dark:#CB7676">readonly</span><span style="color:#999999;--shiki-dark:#666666"> [&#123;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">/hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#59873A;--shiki-dark:#80A665"> handler</span><span style="color:#999999;--shiki-dark:#666666">: (</span><span style="color:#B07D48;--shiki-dark:#BD976A">message</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;, &#123;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">/goodbye/moon</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#59873A;--shiki-dark:#80A665"> handler</span><span style="color:#999999;--shiki-dark:#666666">: () => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">void</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;]</span></code></span>routes</span></span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#59873A;--shiki-dark:#80A665"> </span><span style="color:#59873A;--shiki-dark:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> DefineRoutes</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#AB5959;--shiki-dark:#CB7676">readonly</span><span style="color:#999999;--shiki-dark:#666666"> [&#123;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">/hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#59873A;--shiki-dark:#80A665"> handler</span><span style="color:#999999;--shiki-dark:#666666">: (</span><span style="color:#B07D48;--shiki-dark:#BD976A">message</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;,</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">/goodbye/moon</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#59873A;--shiki-dark:#80A665"> handler</span><span style="color:#999999;--shiki-dark:#666666">: () => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">void</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;]>(</span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#AB5959;--shiki-dark:#CB7676">readonly</span><span style="color:#999999;--shiki-dark:#666666"> [&#123;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">/hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#59873A;--shiki-dark:#80A665"> handler</span><span style="color:#999999;--shiki-dark:#666666">: (</span><span style="color:#B07D48;--shiki-dark:#BD976A">message</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;, &#123;</span><br><span style="color:#999999;--shiki-dark:#666666">    ...;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;]):</span><span style="color:#AB5959;--shiki-dark:#CB7676"> readonly</span><span style="color:#999999;--shiki-dark:#666666"> [...]</span></code></span>DefineRoutes</span></span><span style="color:#999999;--shiki-dark:#666666">([&#123;</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    </span><span class="twoslash-highlighted"><span style="color:#998418;--shiki-dark:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">path</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">/hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span></code></span>path</span></span></span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">/hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">, </span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    </span><span class="twoslash-highlighted"><span style="color:#59873A;--shiki-dark:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">handler</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">message</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#999999;--shiki-dark:#666666"> =></span><span style="color:#B07D48;--shiki-dark:#BD976A"> number</span></code></span>handler</span></span></span><span style="color:#999999;--shiki-dark:#666666">: (</span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">message</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> string</span></code></span>message</span></span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">)=> </span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">message</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> string</span></code></span>message</span></span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#998418;--shiki-dark:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48;--shiki-dark:#BD976A">String</span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#998418;--shiki-dark:#B8A965">length</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">: </span><span style="color:#B07D48;--shiki-dark:#BD976A">number</span></code><div class="twoslash-popup-docs">Returns the length of a String object.</div></span>length</span></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">    &#125;,</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    </span><span class="twoslash-highlighted"><span style="color:#998418;--shiki-dark:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">path</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">/goodbye/moon</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span></code></span>path</span></span></span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">/goodbye/moon</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">, </span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    </span><span class="twoslash-highlighted"><span style="color:#59873A;--shiki-dark:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">handler</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> ()</span><span style="color:#999999;--shiki-dark:#666666"> =></span><span style="color:#AB5959;--shiki-dark:#CB7676"> void</span></code></span>handler</span></span></span><span style="color:#999999;--shiki-dark:#666666">: ()=>&#123;&#125;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;])</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type Route = &#123;
	path: string;
	handler: (...args: any[])=&gt; any
&#125;
function DefineRoutes&lt;const TRoutes extends ReadonlyArray&lt;Route&gt;&gt;(routes: TRoutes)&#123;
	return routes;
&#125;
// ---cut---
const routes = DefineRoutes([&#123;
    path: '/hello/world', 
//  ^^^^
    handler: (message: string)=&gt; message.length
//  ^^^^^^^
    &#125;, &#123;
    path: '/goodbye/moon', 
//  ^^^^
    handler: ()=&gt;&#123;&#125;
//  ^^^^^^^
&#125;])




</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-t44mj3">Notice that both the <code>path</code> and <code>handler</code> values are getting typed as narrowly as possible. That makes it possible to do all sorts of cool things with them:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark twoslash lsp" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" ts twoslash data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBASg9gV2NAvFA3gKAJBgIbAAWAXFAM7ABOAlgHYDmA3DoXrQCYA2ElpAFADoheSvTKk2IANoBdAJQoAfFEmYAvpgBmCWgGNg1OLSgARCJroR4SCGQA8uoxSgAVa8jJQIAD2QdPMBB47EacIACClJR4IHbuEIqKfJSIHqRuqbZyWNiUEMAIlMYpNmTMGo60ziUeUGhmFrRWmWR8UlhQnVD4RKQA5AD0hBCcnHADAO5wlJzsfQA0UJgDA50AehtrmF1QrBzcvFB8ALa2ZHj0EKQUNAwKyqdk55cC3AxEy6tQmz-bXWqLDpdHokKCDehwODsABGIAgA2OkNoCyWK3Wmz+nT2XB4-Hu6A0aO+Pw26nknygAFpqbokNTKZgKQABMb0UjxTzUTx4KCgSBQHSGYxwTS84bdAiETz4J4Qdi8uBQAAG8UofDkSswfOgHLqvPAEBFUBqtiktAQx2hPBkUj6IL6Mgp6N+mCAA"><code><span class="line"></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> </span><span class="twoslash-highlighted"><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Routes</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">/hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666"> |</span><span style="color:#B5695999;--shiki-dark:#C98A7D99"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">/goodbye/moon</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span></code></span>Routes</span></span></span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#AB5959;--shiki-dark:#CB7676"> typeof</span><span style="color:#B07D48;--shiki-dark:#BD976A"> </span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#AB5959;--shiki-dark:#CB7676">readonly</span><span style="color:#999999;--shiki-dark:#666666"> [&#123;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">/hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#59873A;--shiki-dark:#80A665"> handler</span><span style="color:#999999;--shiki-dark:#666666">: (</span><span style="color:#B07D48;--shiki-dark:#BD976A">message</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;, &#123;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">/goodbye/moon</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#59873A;--shiki-dark:#80A665"> handler</span><span style="color:#999999;--shiki-dark:#666666">: () => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">void</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;]</span></code></span>routes</span></span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B07D48;--shiki-dark:#BD976A">number</span><span style="color:#999999;--shiki-dark:#666666">][</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">path</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">]</span></span><div class="twoslash-tag-line twoslash-tag-log-line"><span class="twoslash-tag-icon tag-log-icon"><svg viewBox="0 0 32 32"><path fill="currentColor" d="M17 22v-8h-4v2h2v6h-3v2h8v-2zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8"></path><path fill="currentColor" d="M26 28H6a2.002 2.002 0 0 1-2-2V6a2.002 2.002 0 0 1 2-2h20a2.002 2.002 0 0 1 2 2v20a2.002 2.002 0 0 1-2 2M6 6v20h20V6Z"></path></svg></span>Routes is a type union of the paths passed to &#96;Router()&#96;</div><span class="line"></span>
<span class="line"></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type Route = &#123;
	path: string;
	handler: (...args: any[])=&gt; any
&#125;
function DefineRoutes&lt;const TRoutes extends ReadonlyArray&lt;Route&gt;&gt;(routes: TRoutes)&#123;
	return routes;
&#125;
const routes = DefineRoutes([&#123;
    path: '/hello/world', 
//  ^^^^
    handler: (message: string)=&gt; message.length
//  ^^^^^^^
    &#125;, &#123;
    path: '/goodbye/moon', 
//  ^^^^
    handler: ()=&gt;&#123;&#125;
//  ^^^^^^^
&#125;])
// ---cut---

// @log: Routes is a type union of the paths passed to &#96;Router()&#96;
type Routes = typeof routes[number]['path']
//   ^^^^^^

</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-g39x6v">If you brave slightly gnarlier TypeScript, you can get some truly incredible results:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes vitesse-light vitesse-dark twoslash lsp" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0" ts twoslash data-tsplay="https://typescriptlang.org/play/#code/C4TwDgpgBASg9gV2NAvFA3gKAJBgIbAAWAXFAM7ABOAlgHYDmA3DoXrQCYA2ElpAFADoheSvTKk2IANoBdAJQoAfFEmYAvpgBmCWgGNg1OLSgARCJroR4SCGQA8uoxSgAVa8jJQIAD2QdPMBB47EacIACClJR4IHbuEIqKfJSIHqRuqbZyWNiUEMAIlMYpNmTMGo60ziUeUGhmFrRWmWR8UlhQnVD4RKQA5AD0hBCcnHADAO5wlJzsfQA0UJgDA50AehtrmF1QrBzcvFB8ALa2ZHj0EKQUNAwKyqdk55cC3AxEy6tQmz-bXWqLDpdHokKCDehwODsABGIAgA2OkNoCyWK3Wmz+nT2XB4-Hu6A0aO+Pw26nknygAAExvRSPFPNRPHgoKBIFAdIZjHBNCzht0CIRPPgnhB2Cy4FAAAbxSh8OSSzCYVnQel1FngCDcqA1WxSWgIY7QngyKR9EF9GQU9G-NEAWntuiQ9ttFOpcFpUAAwnkCNBmTrKFAtegQaRsQc1PzqJQyFodPpOVAALJ4ADWzRslDsGVKXl8EH8sCCIVoYUi0Vi8USfD+OvEOY82zkGFr+UKxRaAmOeDAyUySj46CkOoEIJkpBH4Z4ajkzbwnj+Q5cUDornpeoNRsoMhUnhcpvNMnHrlNU8oFrU5UwlWqmUDaBT6ZlfdKcmYrppEg4Xnn1DCK9oAA3OB015CBjigCZqCIboUkgQNlXIPBNHyEBFQDU0hhGMZJmmWYLT4PoAHE8nyOgxAAQj6OQrR2b4AB9FUwIA"><code><span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> </span><span style="color:#59873A;--shiki-dark:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> MakeRouter</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">TRoutes</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#AB5959;--shiki-dark:#CB7676"> readonly</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Route</span><span style="color:#999999;--shiki-dark:#666666">[]>(</span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">TRoutes</span><span style="color:#999999;--shiki-dark:#666666">):</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> in</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> TRoutes</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">]</span><span style="color:#1E754F;--shiki-dark:#4D9375"> as</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> T</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">path</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">]]: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">handler</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">];</span><span style="color:#999999;--shiki-dark:#666666"> &#125;</span></code></span>MakeRouter</span></span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> TRoutes</span><span style="color:#59873A;--shiki-dark:#80A665"> in</span><span style="color:#59873A;--shiki-dark:#80A665"> MakeRouter</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">TRoutes</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#AB5959;--shiki-dark:#CB7676"> readonly</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Route</span><span style="color:#999999;--shiki-dark:#666666">[]>(</span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">TRoutes</span><span style="color:#999999;--shiki-dark:#666666">):</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> in</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> TRoutes</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">]</span><span style="color:#1E754F;--shiki-dark:#4D9375"> as</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> T</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">path</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">]]: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">handler</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">];</span><span style="color:#999999;--shiki-dark:#666666"> &#125;</span></code></span>TRoutes</span></span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> </span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">interface</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> ReadonlyArray</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">></span></code></span>ReadonlyArray</span></span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">type</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Route</span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><br><span style="color:#B07D48;--shiki-dark:#BD976A">    path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#59873A;--shiki-dark:#80A665">    handler</span><span style="color:#999999;--shiki-dark:#666666">: (...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">[]) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;</span></code></span>Route</span></span><span style="color:#999999;--shiki-dark:#666666">>>(</span></span><div class="twoslash-tag-line twoslash-tag-log-line"><span class="twoslash-tag-icon tag-log-icon"><svg viewBox="0 0 32 32"><path fill="currentColor" d="M17 22v-8h-4v2h2v6h-3v2h8v-2zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8"></path><path fill="currentColor" d="M26 28H6a2.002 2.002 0 0 1-2-2V6a2.002 2.002 0 0 1 2-2h20a2.002 2.002 0 0 1 2 2v20a2.002 2.002 0 0 1-2 2M6 6v20h20V6Z"></path></svg></span>Create a router of &#123;path: handler&#125; pairs</div><span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A">  </span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">routes</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> TRoutes</span><span style="color:#B07D48;--shiki-dark:#BD976A"> extends</span><span style="color:#B07D48;--shiki-dark:#BD976A"> readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> Route</span><span style="color:#999999;--shiki-dark:#666666">[]</span></code></span>routes</span></span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> TRoutes</span><span style="color:#59873A;--shiki-dark:#80A665"> in</span><span style="color:#59873A;--shiki-dark:#80A665"> MakeRouter</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">TRoutes</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#AB5959;--shiki-dark:#CB7676"> readonly</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Route</span><span style="color:#999999;--shiki-dark:#666666">[]>(</span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">TRoutes</span><span style="color:#999999;--shiki-dark:#666666">):</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> in</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> TRoutes</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">]</span><span style="color:#1E754F;--shiki-dark:#4D9375"> as</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> T</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">path</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">]]: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">handler</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">];</span><span style="color:#999999;--shiki-dark:#666666"> &#125;</span></code></span>TRoutes</span></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666"> )</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span></span>
<span class="line"><span style="color:#1E754F;--shiki-dark:#4D9375">  return</span><span style="color:#B07D48;--shiki-dark:#BD976A"> </span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">routes</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> TRoutes</span><span style="color:#B07D48;--shiki-dark:#BD976A"> extends</span><span style="color:#B07D48;--shiki-dark:#BD976A"> readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> Route</span><span style="color:#999999;--shiki-dark:#666666">[]</span></code></span>routes</span></span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#59873A;--shiki-dark:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48;--shiki-dark:#BD976A">ReadonlyArray</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#B07D48;--shiki-dark:#BD976A">Route</span><span style="color:#999999;--shiki-dark:#666666">>.</span><span style="color:#59873A;--shiki-dark:#80A665">map</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;&#123;</span><br><span style="color:#999999;--shiki-dark:#666666">    [</span><span style="color:#B07D48;--shiki-dark:#BD976A">x</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">]: (...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">[]) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;>(</span><span style="color:#59873A;--shiki-dark:#80A665">callbackfn</span><span style="color:#999999;--shiki-dark:#666666">: (</span><span style="color:#B07D48;--shiki-dark:#BD976A">value</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">Route</span><span style="color:#999999;--shiki-dark:#666666">, </span><span style="color:#B07D48;--shiki-dark:#BD976A">index</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">, </span><span style="color:#B07D48;--shiki-dark:#BD976A">array</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#AB5959;--shiki-dark:#CB7676">readonly</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Route</span><span style="color:#999999;--shiki-dark:#666666">[]) => &#123;</span><br><span style="color:#999999;--shiki-dark:#666666">    [</span><span style="color:#B07D48;--shiki-dark:#BD976A">x</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">]: (...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">[]) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;,</span><span style="color:#B07D48;--shiki-dark:#BD976A"> thisArg</span><span style="color:#AB5959;--shiki-dark:#CB7676">?</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">):</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><br><span style="color:#999999;--shiki-dark:#666666">    [</span><span style="color:#B07D48;--shiki-dark:#BD976A">x</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">]: (...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">[]) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;[]</span></code><div class="twoslash-popup-docs">Calls a defined callback function on each element of an array, and returns an array that contains the results.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.</span></span></div></span>map</span></span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">route</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> Route</span></code></span>route</span></span><span style="color:#999999;--shiki-dark:#666666">=>(&#123;[</span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">route</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> Route</span></code></span>route</span></span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">path</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> string</span></code></span>path</span></span><span style="color:#999999;--shiki-dark:#666666">]: </span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">route</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B07D48;--shiki-dark:#BD976A"> Route</span></code></span>route</span></span><span style="color:#999999;--shiki-dark:#666666">.</span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A;--shiki-dark:#80A665">handler</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#999999;--shiki-dark:#666666"> (...</span><span style="color:#B07D48;--shiki-dark:#BD976A">args</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">any</span><span style="color:#999999;--shiki-dark:#666666">[])</span><span style="color:#999999;--shiki-dark:#666666"> =></span><span style="color:#B07D48;--shiki-dark:#BD976A"> any</span></code></span>handler</span></span><span style="color:#999999;--shiki-dark:#666666">&#125;))</span><span style="color:#1E754F;--shiki-dark:#4D9375"> as</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> </span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">  &#123;[</span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> T</span></code></span>T</span></span><span style="color:#AB5959;--shiki-dark:#CB7676"> in</span><span style="color:#B07D48;--shiki-dark:#BD976A"> </span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> TRoutes</span><span style="color:#59873A;--shiki-dark:#80A665"> in</span><span style="color:#59873A;--shiki-dark:#80A665"> MakeRouter</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#2E8F82;--shiki-dark:#5DA994">TRoutes</span><span style="color:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="color:#AB5959;--shiki-dark:#CB7676"> readonly</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> Route</span><span style="color:#999999;--shiki-dark:#666666">[]>(</span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">TRoutes</span><span style="color:#999999;--shiki-dark:#666666">):</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><span style="color:#999999;--shiki-dark:#666666"> [</span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#AB5959;--shiki-dark:#CB7676"> in</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> TRoutes</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">]</span><span style="color:#1E754F;--shiki-dark:#4D9375"> as</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> T</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">path</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">]]: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">T</span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">handler</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">];</span><span style="color:#999999;--shiki-dark:#666666"> &#125;</span></code></span>TRoutes</span></span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B07D48;--shiki-dark:#BD976A">number</span><span style="color:#999999;--shiki-dark:#666666">]</span><span style="color:#1E754F;--shiki-dark:#4D9375"> as</span><span style="color:#2E8F82;--shiki-dark:#5DA994"> </span><span style="color:#2E8F82;--shiki-dark:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> T</span></code></span>T</span></span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">path</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">]]</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">: </span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#999999;--shiki-dark:#666666"> (</span><span style="color:#B07D48;--shiki-dark:#BD976A">type</span><span style="color:#B07D48;--shiki-dark:#BD976A"> parameter</span><span style="color:#999999;--shiki-dark:#666666">)</span><span style="color:#59873A;--shiki-dark:#80A665"> T</span></code></span>T</span></span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">handler</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">]&#125;;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">&#125;</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A">router</span><span style="color:#999999;--shiki-dark:#666666">: &#123;</span><br><span style="color:#B5695999;--shiki-dark:#C98A7D99">    "</span><span style="color:#B56959;--shiki-dark:#C98A7D">/hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">: (</span><span style="color:#B07D48;--shiki-dark:#BD976A">message</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#B5695999;--shiki-dark:#C98A7D99">    "</span><span style="color:#B56959;--shiki-dark:#C98A7D">/goodbye/moon</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">: () => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">void</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;</span></code></span>router</span></span><span style="color:#999999;--shiki-dark:#666666"> =</span><span style="color:#59873A;--shiki-dark:#80A665"> </span><span style="color:#59873A;--shiki-dark:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">function</span><span style="color:#59873A;--shiki-dark:#80A665"> MakeRouter</span><span style="color:#999999;--shiki-dark:#666666">&#x3C;</span><span style="color:#AB5959;--shiki-dark:#CB7676">readonly</span><span style="color:#999999;--shiki-dark:#666666"> [&#123;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">/hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#59873A;--shiki-dark:#80A665"> handler</span><span style="color:#999999;--shiki-dark:#666666">: (</span><span style="color:#B07D48;--shiki-dark:#BD976A">message</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;,</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">/goodbye/moon</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#59873A;--shiki-dark:#80A665"> handler</span><span style="color:#999999;--shiki-dark:#666666">: () => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">void</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;]>(</span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#AB5959;--shiki-dark:#CB7676">readonly</span><span style="color:#999999;--shiki-dark:#666666"> [&#123;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">/hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#59873A;--shiki-dark:#80A665"> handler</span><span style="color:#999999;--shiki-dark:#666666">: (</span><span style="color:#B07D48;--shiki-dark:#BD976A">message</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;, &#123;</span><br><span style="color:#999999;--shiki-dark:#666666">    ...;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;]):</span><span style="color:#999999;--shiki-dark:#666666"> &#123;</span><br><span style="color:#999999;--shiki-dark:#666666">    ...;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;</span></code></span>MakeRouter</span></span><span style="color:#999999;--shiki-dark:#666666">(</span><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A">routes</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#AB5959;--shiki-dark:#CB7676">readonly</span><span style="color:#999999;--shiki-dark:#666666"> [&#123;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">/hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#59873A;--shiki-dark:#80A665"> handler</span><span style="color:#999999;--shiki-dark:#666666">: (</span><span style="color:#B07D48;--shiki-dark:#BD976A">message</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;, &#123;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#B07D48;--shiki-dark:#BD976A"> path</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">/goodbye/moon</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#AB5959;--shiki-dark:#CB7676">    readonly</span><span style="color:#59873A;--shiki-dark:#80A665"> handler</span><span style="color:#999999;--shiki-dark:#666666">: () => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">void</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;]</span></code></span>routes</span></span><span style="color:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"></span>
<span class="line"></span><div class="twoslash-tag-line twoslash-tag-log-line"><span class="twoslash-tag-icon tag-log-icon"><svg viewBox="0 0 32 32"><path fill="currentColor" d="M17 22v-8h-4v2h2v6h-3v2h8v-2zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8"></path><path fill="currentColor" d="M26 28H6a2.002 2.002 0 0 1-2-2V6a2.002 2.002 0 0 1 2-2h20a2.002 2.002 0 0 1 2 2v20a2.002 2.002 0 0 1-2 2M6 6v20h20V6Z"></path></svg></span>and easily invoke them with proper type safety</div><span class="line"><span style="color:#B07D48;--shiki-dark:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959;--shiki-dark:#CB7676">const </span><span style="color:#B07D48;--shiki-dark:#BD976A">router</span><span style="color:#999999;--shiki-dark:#666666">: &#123;</span><br><span style="color:#B5695999;--shiki-dark:#C98A7D99">    "</span><span style="color:#B56959;--shiki-dark:#C98A7D">/hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">: (</span><span style="color:#B07D48;--shiki-dark:#BD976A">message</span><span style="color:#999999;--shiki-dark:#666666">: </span><span style="color:#2E8F82;--shiki-dark:#5DA994">string</span><span style="color:#999999;--shiki-dark:#666666">) => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">number</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#B5695999;--shiki-dark:#C98A7D99">    "</span><span style="color:#B56959;--shiki-dark:#C98A7D">/goodbye/moon</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">"</span><span style="color:#999999;--shiki-dark:#666666">: () => </span><span style="color:#2E8F82;--shiki-dark:#5DA994">void</span><span style="color:#999999;--shiki-dark:#666666">;</span><br><span style="color:#999999;--shiki-dark:#666666">&#125;</span></code></span>router</span></span><span style="color:#999999;--shiki-dark:#666666">[</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D"><span>/<span class="twoslash-completion-cursor"><ul class="twoslash-completion-list"><li><span class="twoslash-completions-icon completions-property"><svg viewBox="0 0 32 32"><path fill="currentColor" d="M12.1 2a9.8 9.8 0 0 0-5.4 1.6l6.4 6.4a2.1 2.1 0 0 1 .2 3a2.1 2.1 0 0 1-3-.2L3.7 6.4A9.84 9.84 0 0 0 2 12.1a10.14 10.14 0 0 0 10.1 10.1a10.9 10.9 0 0 0 2.6-.3l6.7 6.7a5 5 0 0 0 7.1-7.1l-6.7-6.7a10.9 10.9 0 0 0 .3-2.6A10 10 0 0 0 12.1 2m8 10.1a7.61 7.61 0 0 1-.3 2.1l-.3 1.1l.8.8l6.7 6.7a2.88 2.88 0 0 1 .9 2.1A2.72 2.72 0 0 1 27 27a2.9 2.9 0 0 1-4.2 0l-6.7-6.7l-.8-.8l-1.1.3a7.61 7.61 0 0 1-2.1.3a8.27 8.27 0 0 1-5.7-2.3A7.63 7.63 0 0 1 4 12.1a8.33 8.33 0 0 1 .3-2.2l4.4 4.4a4.14 4.14 0 0 0 5.9.2a4.14 4.14 0 0 0-.2-5.9L10 4.2a6.45 6.45 0 0 1 2-.3a8.27 8.27 0 0 1 5.7 2.3a8.49 8.49 0 0 1 2.4 5.9"></path></svg></span><span><span class="twoslash-completions-matched">/</span><span class="twoslash-completions-unmatched">goodbye/moon</span></span></li><li><span class="twoslash-completions-icon completions-property"><svg viewBox="0 0 32 32"><path fill="currentColor" d="M12.1 2a9.8 9.8 0 0 0-5.4 1.6l6.4 6.4a2.1 2.1 0 0 1 .2 3a2.1 2.1 0 0 1-3-.2L3.7 6.4A9.84 9.84 0 0 0 2 12.1a10.14 10.14 0 0 0 10.1 10.1a10.9 10.9 0 0 0 2.6-.3l6.7 6.7a5 5 0 0 0 7.1-7.1l-6.7-6.7a10.9 10.9 0 0 0 .3-2.6A10 10 0 0 0 12.1 2m8 10.1a7.61 7.61 0 0 1-.3 2.1l-.3 1.1l.8.8l6.7 6.7a2.88 2.88 0 0 1 .9 2.1A2.72 2.72 0 0 1 27 27a2.9 2.9 0 0 1-4.2 0l-6.7-6.7l-.8-.8l-1.1.3a7.61 7.61 0 0 1-2.1.3a8.27 8.27 0 0 1-5.7-2.3A7.63 7.63 0 0 1 4 12.1a8.33 8.33 0 0 1 .3-2.2l4.4 4.4a4.14 4.14 0 0 0 5.9.2a4.14 4.14 0 0 0-.2-5.9L10 4.2a6.45 6.45 0 0 1 2-.3a8.27 8.27 0 0 1 5.7 2.3a8.49 8.49 0 0 1 2.4 5.9"></path></svg></span><span><span class="twoslash-completions-matched">/</span><span class="twoslash-completions-unmatched">hello/world</span></span></li></ul></span></span></span><span style="color:#B56959;--shiki-dark:#C98A7D">hello/world</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">](</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#B56959;--shiki-dark:#C98A7D">Greetings!</span><span style="color:#B5695999;--shiki-dark:#C98A7D99">'</span><span style="color:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">type Route = &#123;
	path: string;
	handler: (...args: any[])=&gt; any
&#125;
function DefineRoutes&lt;const TRoutes extends ReadonlyArray&lt;Route&gt;&gt;(routes: TRoutes)&#123;
	return routes;
&#125;
const routes = DefineRoutes([&#123;
    path: '/hello/world', 
//  ^^^^
    handler: (message: string)=&gt; message.length
//  ^^^^^^^
    &#125;, &#123;
    path: '/goodbye/moon', 
//  ^^^^
    handler: ()=&gt;&#123;&#125;
//  ^^^^^^^
&#125;])
// @log: Routes is a type union of the paths passed to &#96;Router()&#96;

type Routes = typeof routes[number]['path']
//   ^^^^^^
// ---cut---
// @log: Create a router of &#123;path: handler&#125; pairs
function MakeRouter&lt;TRoutes extends ReadonlyArray&lt;Route&gt;&gt;(
  routes:TRoutes
 ) &#123;
  return routes.map(route=&gt;(&#123;[route.path]: route.handler&#125;)) as 
  &#123;[T in TRoutes[number] as T['path']]: T['handler']&#125;;
&#125;
const router = MakeRouter(routes);

// @log: and easily invoke them with proper type safety

router['/hello/world']('Greetings!')
//       ^|


</pre><!-- HTML_TAG_END --> <div class="divider"></div> <aside class="prose" data-svelte-h="svelte-1w3uusp"> <p>If you&#39;re feeling extra generous, you can show your support by buying me a
			coffee with the button in the bottom right corner of the page.</p> <div class="divider"></div></aside></article>   <div class="flex w-full flex-col items-center"><h2 class="my-6 self-center text-5xl text-base-content">Linked notes</h2>  <div class="col-auto grid w-full grid-cols-[repeat(auto-fill,_minmax(300px,_1fr))] justify-items-center gap-3"><a href="/notes/structural-branded-types-nominal" class="m-4 flex w-full min-w-[300px] max-w-[450px] flex-1 basis-80 text-inherit no-underline" style="--statusColor: 92, 50%, 40%;"><article class="group flex h-64 w-full flex-col justify-between border border-solid border-base-300 bg-base-100 px-10 py-8 text-base-content text-opacity-80 transition-all duration-200 hover:border-[hsl(var(--statusColor))] hover:text-opacity-100 hover:shadow-xl hover:shadow-[hsla(var(--statusColor),.25)] active:-translate-y-1 active:scale-[1.01] active:shadow-md  svelte-1xtqadk"><section class="notecontent"><header class="svelte-1xtqadk"><h1 class="line-clamp-2 h-16 text-lg leading-[175%] svelte-1xtqadk">Type branding removes structural type compatibility</h1></header> <p class="mt-3 line-clamp-3 h-[4.5em] leading-[1.5em] transition-all duration-200">A structural type can be "branded" to add context to values by using the type system for annotations as is done with nominal types. Doing so makes them incompatible with structurally equivalent types.</p></section> <section class="notemetadata border-t border-t-neutral-content border-opacity-60 pt-1 text-right text-sm svelte-1xtqadk"><div class="date min-w-[12ch] text-opacity-50 svelte-1xtqadk">Apr 6, 2024</div> <div class="min-w-[12ch] capitalize text-[hsl(var(--statusColor))] svelte-1xtqadk">budding üåø</div></section></article> </a></div></div>  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" integrity="sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB" crossorigin="anonymous"></div>  
			
			<script>
				{
					__sveltekit_dj0phz = {
						base: new URL("../..", location).pathname.slice(0, -1),
						env: {"PUBLIC_SUPABASE_ANON_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFlb3ZmZXRyaXNyZnFpZWF0bXp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODcwNjM0NTYsImV4cCI6MjAwMjYzOTQ1Nn0.s9KXOQ0gDdl7e3lTUxdN5yfPI0rLZ-dSRMfEwoHhK00","PUBLIC_SUPABASE_URL":"https://aeovfetrisrfqieatmzw.supabase.co"}
					};

					const element = document.currentScript.parentElement;

					const data = [{"type":"data","data":{session:null,user:null},"uses":{}},null];

					Promise.all([
						import("../../_app/immutable/entry/start.8ef38e86.js"),
						import("../../_app/immutable/entry/app.49924333.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 6],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
