<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../../_app/immutable/assets/0.a5f667c0.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/NoteGridStatusFilter.144730f5.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/18.e3c863fd.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/MDSveXNoteLayout.61812917.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.f9aba13f.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/scheduler.e9e6880c.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/singletons.6c47a3fc.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/paths.b042ea64.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/parse.bee59afc.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/control.f5b05b5f.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.4fd5f9d9.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/preload-helper.41c905a7.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.ebf47752.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.afa6b2df.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/each.92ad7389.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.45b59163.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/navigation.96ca9169.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/toast.b5bc0c01.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/spread.8a54911c.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/18.2966de62.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/LoadNote.018d55b1.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/stores.4e9e7cc5.js"><title>Type branding removes structural type compatibility - Allan Deutsch</title><!-- HEAD_svelte-1jpu5mq_START --><meta name="description" content="A structural type can be &quot;branded&quot; to add context to values by using the type system for annotations as is done with nominal types. Doing so makes them incompatible with structurally equivalent types."><meta property="og:title" content="Type branding removes structural type compatibility"><meta property="og:type" content="article"><meta property="og:url" content="https://allandeutsch.com/notes/structural-branded-types-nominal"><meta property="og:description" content="A structural type can be &quot;branded&quot; to add context to values by using the type system for annotations as is done with nominal types. Doing so makes them incompatible with structurally equivalent types."><meta property="og:locale" content="en_US"><meta property="twitter:card" content="summary"><meta property="twitter:url" content="https://allandeutsch.com"><meta property="twitter:title" content="Type branding removes structural type compatibility"><meta property="twitter:description" content="A structural type can be &quot;branded&quot; to add context to values by using the type system for annotations as is done with nominal types. Doing so makes them incompatible with structurally equivalent types."><meta property="twitter:site" content="@AllanDeutsch"><meta property="twitter:creator" content="@AllanDeutsch"><link rel="canonical" href="https://allandeutsch.com/notes/structural-branded-types-nominal"><script type="module" src="https://www.penguinsight.com/selection.js" data-svelte-h="svelte-1q73puk"></script><script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="AllanDeutsch" data-description="Support me on Buy me a coffee!" data-message="" data-color="#5F7FFF" data-position="Right" data-x_margin="18" data-y_margin="18" data-svelte-h="svelte-bv2cpr"></script><!-- HEAD_svelte-1jpu5mq_END --><!-- HEAD_svelte-cpyj77_START -->   <meta name="theme-color" content="dark"><!-- HTML_TAG_START --><script nonce="%sveltekit.nonce%">(function setInitialMode(defaultMode, themeColors2) {
  const rootEl = document.documentElement;
  const mode = localStorage.getItem("mode-watcher-mode") || defaultMode;
  const light = mode === "light" || mode === "system" && window.matchMedia("(prefers-color-scheme: light)").matches;
  rootEl.classList[light ? "remove" : "add"]("dark");
  rootEl.style.colorScheme = light ? "light" : "dark";
  if (themeColors2) {
    const themeMetaEl = document.querySelector('meta[name="theme-color"]');
    if (themeMetaEl) {
      themeMetaEl.setAttribute("content", mode === "light" ? themeColors2.light : themeColors2.dark);
    }
  }
  localStorage.setItem("mode-watcher-mode", mode);
})("system", {"dark":"dark","light":"light"});</script><!-- HTML_TAG_END --><!-- HEAD_svelte-cpyj77_END -->
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script
			async
			src="https://www.googletagmanager.com/gtag/js?id=UA-86124920-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag('js', new Date());

			gtag('config', 'UA-86124920-1');
		</script>
	</head>
	<body data-sveltekit-preload-data="hover" class="bg-base-100">
		<div style="display: contents">  <div class="toaster  svelte-jyff3d"> </div> <div class="navbar bg-base-100"><div class="navbar-start"><div class="dropdown"><button tabindex="0" class="btn-ghost btn sm:hidden" data-svelte-h="svelte-1h8jdop"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path></svg></button> <ul tabindex="0" class="dropdown-content menu rounded-box menu-sm mt-3 w-52 bg-base-100 p-2 shadow"><li><a href="/">Home</a></li><li><a href="/notes">Notes</a></li></ul></div> <a class="btn-ghost btn text-xl normal-case" href="/">Allan Deutsch</a></div> <div class="navbar-center hidden sm:flex"><ul class="menu menu-horizontal px-1 text-base"><li><a href="/">Home</a></li><li><a href="/notes">Notes</a></li></ul></div> <div class="navbar-end"> <div class="h-8" data-svelte-h="svelte-1hosge2"><a href="https://twitter.com/AllanDeutsch" class="group"><svg height="24" width="24" class="mr-1.5 inline fill-base-content transition-colors duration-300 group-hover:fill-primary" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612"><path d="M612 116.258a250.714 250.714 0 01-72.088 19.772c25.929-15.527 45.777-40.155 55.184-69.411-24.322 14.379-51.169 24.82-79.775 30.48-22.907-24.437-55.49-39.658-91.63-39.658-69.334 0-125.551 56.217-125.551 125.513 0 9.828 1.109 19.427 3.251 28.606-104.326-5.24-196.835-55.223-258.75-131.174-10.823 18.51-16.98 40.078-16.98 63.101 0 43.559 22.181 81.993 55.835 104.479a125.556 125.556 0 01-56.867-15.756v1.568c0 60.806 43.291 111.554 100.693 123.104-10.517 2.83-21.607 4.398-33.08 4.398-8.107 0-15.947-.803-23.634-2.333 15.985 49.907 62.336 86.199 117.253 87.194-42.947 33.654-97.099 53.655-155.916 53.655-10.134 0-20.116-.612-29.944-1.721 55.567 35.681 121.536 56.485 192.438 56.485 230.948 0 357.188-191.291 357.188-357.188l-.421-16.253c24.666-17.593 46.005-39.697 62.794-64.861z"></path></svg></a> <a href="https://github.com/masstronaut" class="group"><svg height="24" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true" class="mr-1.5 inline fill-base-content transition-colors duration-300 group-hover:fill-primary"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a></div> </div></div> <div class="p-1 sm:p-4"> <pi-select team="TKxfdiO22xOXIrW0c0Pfi"></pi-select> <article class="note-container prose mb-8 max-w-full px-2 svelte-w9emf5"><header class="w-full max-w-3xl self-center"><h1 class="mb-8 text-left text-4xl font-bold">Type branding removes structural type compatibility</h1> <div class="text-md mb-12 mt-4 flex justify-between border-t border-t-neutral border-opacity-20 pt-1 text-base-content"><div><span class="pr-2" data-svelte-h="svelte-114jejz">üå±</span><span class="hidden sm:inline" data-svelte-h="svelte-1psjisz">Planted
				</span>February 3, 2024.
				<br>Last tended April 6, 2024.</div> <div class="flex flex-col items-end"><div class="note__status budding svelte-w9emf5">budding üåø</div> <div>1 minute read ‚è±</div></div></div></header>  <p data-svelte-h="svelte-pcla4p">Chalk it up to growing up on C++, but sometimes I find it helpful to name a type and limit the usage based its name.</p> <p data-svelte-h="svelte-n3itsv">Consider an email address input. A user can type any string! I have no idea if they typed a valid email or not, all I know is it‚Äôs a string. Once I validate it with <em>Zod</em> I know more, but as far as TypeScript is concerned it‚Äôs still just a <code>string</code>. I could mistakenly assign something else to it, or accidentally use a different value when calling a function that requires a validated email. This is a problem in TypeScript because it uses <em>structural types</em> - data with the same shape is considered equivalent. This is in contrast to <em>nominal types</em> which are only compatible with objects that share the same type name.</p> <p data-svelte-h="svelte-1ashlgj">Fortunately there‚Äôs a TypeScript technique called ‚ÄúBranded types‚Äù that makes it possible to reduce a structural type‚Äôs compatibility to the level of a nominal type. It is also a great way to encode information about a value in the type system.</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes github-light slack-dark twoslash lsp" style="background-color:#fff;--shiki-dark-bg:#222222;color:#24292e;--shiki-dark:#E6E6E6" tabindex="0" ts twoslash><code><span class="line"><span style="color:#6A737D;--shiki-dark:#6A9955">/** &#96;brand&#96; is a globally unique value, so the only ways to create an "Email" type are </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A9955">* 1. "branding" a string using &#96;as Email&#96; </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A9955">* 2. copying an already branded &#96;Email&#96;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A9955">*/</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">declare</span><span style="color:#D73A49;--shiki-dark:#569CD6"> const</span><span style="color:#005CC5;--shiki-dark:#9CDCFE"> </span><span style="color:#005CC5;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">const</span><span style="color:#005CC5;--shiki-dark:#9CDCFE"> brand</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#D73A49;--shiki-dark:#569CD6"> typeof</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> brand</span></span></code><div class="twoslash-popup-docs">&#96;brand&#96; is a globally unique value, so the only ways to create an "Email" type are 
1. "branding" a string using &#96;as Email&#96; 
2. copying an already branded &#96;Email&#96;</div></span>brand</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> unique</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> symbol</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Email</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "email"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>Email</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123; [</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">const</span><span style="color:#005CC5;--shiki-dark:#9CDCFE"> brand</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#D73A49;--shiki-dark:#569CD6"> typeof</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> brand</span></span></code><div class="twoslash-popup-docs">&#96;brand&#96; is a globally unique value, so the only ways to create an "Email" type are 
1. "branding" a string using &#96;as Email&#96; 
2. copying an already branded &#96;Email&#96;</div></span>brand</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "email"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">const</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">const</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> isEmail</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#E36209;--shiki-dark:#9CDCFE">email</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">) </span><span style="color:#D73A49;--shiki-dark:#569CD6">=></span><span style="color:#E36209;--shiki-dark:#9CDCFE"> email</span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Email</span></span></code></span>isEmail</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">email</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>email</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">email</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>email</span></span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Email</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "email"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>Email</span></span><span style="color:#D73A49;--shiki-dark:#569CD6">=></span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123; </span><span style="color:#D73A49;--shiki-dark:#C586C0">return</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> </span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">email</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>email</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">.</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#24292E;--shiki-dark:#9CDCFE">String</span><span style="color:#24292E;--shiki-dark:#E6E6E6">.</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA">includes</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#24292E;--shiki-dark:#9CDCFE">searchString</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#24292E;--shiki-dark:#9CDCFE">position</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">?:</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> number</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#005CC5;--shiki-dark:#569CD6"> undefined</span><span style="color:#24292E;--shiki-dark:#E6E6E6">): </span><span style="color:#24292E;--shiki-dark:#9CDCFE">boolean</span></span></code><div class="twoslash-popup-docs">Returns true if searchString appears as a substring of the result of converting this
object to a String, at one or more positions that are
greater than or equal to position; otherwise, returns false.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">searchString search string</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">position If position is undefined, 0 is assumed, so as to search all of the String.</span></span></div></span>includes</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#032F62;--shiki-dark:#CE9178">"@gmail.com"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">) &#125;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> sendEmail</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">email</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Email</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> void</span></span></code></span>sendEmail</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">email</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">Email</span></span></code></span>email</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Email</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "email"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>Email</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">) &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#9CDCFE">	</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">var</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> console</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Console</span></span></code></span>console</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">.</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#24292E;--shiki-dark:#9CDCFE">Console</span><span style="color:#24292E;--shiki-dark:#E6E6E6">.</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA">log</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">...</span><span style="color:#24292E;--shiki-dark:#9CDCFE">data</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">any</span><span style="color:#24292E;--shiki-dark:#E6E6E6">[]): </span><span style="color:#D73A49;--shiki-dark:#569CD6">void</span></span></code><div class="twoslash-popup-docs">[MDN Reference](https://developer.mozilla.org/docs/Web/API/console/log)</div></span>log</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#032F62;--shiki-dark:#CE9178">"sent."</span><span style="color:#24292E;--shiki-dark:#E6E6E6">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> trySendEmail</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">email</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">?:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> void</span></span></code></span>trySendEmail</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">email</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>email</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#032F62;--shiki-dark:#CE9178"> "user@gmail.com"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)&#123;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A9955">	// @ts-expect-error</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#DCDCAA">	</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> sendEmail</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">email</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Email</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> void</span></span></code></span>sendEmail</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">email</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>email</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">); </span><span style="color:#6A737D;--shiki-dark:#6A9955">// string is not assignable to paramter of type &#96;Email&#96;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C586C0">	if</span><span style="color:#24292E;--shiki-dark:#E6E6E6">( </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">const</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> isEmail</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#E36209;--shiki-dark:#9CDCFE">email</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">) </span><span style="color:#D73A49;--shiki-dark:#569CD6">=></span><span style="color:#E36209;--shiki-dark:#9CDCFE"> email</span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Email</span></span></code></span>isEmail</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">email</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>email</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">) ) &#123;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#DCDCAA">	  </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> sendEmail</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">email</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Email</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> void</span></span></code></span>sendEmail</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">email</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">Email</span></span></code></span>email</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">	&#125; </span><span style="color:#D73A49;--shiki-dark:#C586C0">else</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#9CDCFE">	  </span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">var</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> console</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Console</span></span></code></span>console</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">.</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#24292E;--shiki-dark:#9CDCFE">Console</span><span style="color:#24292E;--shiki-dark:#E6E6E6">.</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA">log</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">...</span><span style="color:#24292E;--shiki-dark:#9CDCFE">data</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">any</span><span style="color:#24292E;--shiki-dark:#E6E6E6">[]): </span><span style="color:#D73A49;--shiki-dark:#569CD6">void</span></span></code><div class="twoslash-popup-docs">[MDN Reference](https://developer.mozilla.org/docs/Web/API/console/log)</div></span>log</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#032F62;--shiki-dark:#CE9178">"not an email"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">	&#125;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> trySendEmail</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">email</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">?:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> void</span></span></code></span>trySendEmail</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">()</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">/** &#96;brand&#96; is a globally unique value, so the only ways to create an "Email" type are 
* 1. "branding" a string using &#96;as Email&#96; 
* 2. copying an already branded &#96;Email&#96;
*/
declare const brand: unique symbol;
type Email = string & &#123; [brand]: "email"&#125;

const isEmail = (email: string):email is Email=&gt; &#123; return email.includes("@gmail.com") &#125;;

function sendEmail(email: Email) &#123;
	console.log("sent.");
&#125;

function trySendEmail(email = "user@gmail.com")&#123;
	// @ts-expect-error
	sendEmail(email); // string is not assignable to paramter of type &#96;Email&#96;
	if( isEmail(email) ) &#123;
	  sendEmail(email)
	&#125; else &#123;
	  console.log("not an email")
	&#125;
&#125;

trySendEmail()</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-7t19cz">In this example I make a ‚Äúbranded‚Äù <code>Email</code> type and use the <code>isEmail</code> function to narrow validated strings to <code>Email</code>s which is useful in a case such as <code>trySendEmail()</code>.</p> <p data-svelte-h="svelte-1u90b4">Branding can also be done with a reusable generic type:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes github-light slack-dark twoslash lsp" style="background-color:#fff;--shiki-dark-bg:#222222;color:#24292e;--shiki-dark:#E6E6E6" tabindex="0" ts twoslash><code><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">declare</span><span style="color:#D73A49;--shiki-dark:#569CD6"> const</span><span style="color:#005CC5;--shiki-dark:#9CDCFE"> </span><span style="color:#005CC5;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">const</span><span style="color:#005CC5;--shiki-dark:#9CDCFE"> brand</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#D73A49;--shiki-dark:#569CD6"> typeof</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> brand</span></span></code></span>brand</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> unique</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> symbol</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A9955">// The Brand generic can be used to augment any structural data type with nominal type safety</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">T</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">TBrand</span><span style="color:#D73A49;--shiki-dark:#569CD6"> extends</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">> </span><span style="color:#D73A49;--shiki-dark:#D4D4D4">=</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> T</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> TBrand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>Brand</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#E36209;--shiki-dark:#9CDCFE">type</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> parameter</span><span style="color:#24292E;--shiki-dark:#E6E6E6">) </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA">T</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> in</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> type</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> Brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">T</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">TBrand</span><span style="color:#D73A49;--shiki-dark:#569CD6"> extends</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">></span></span></code></span>T</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#E36209;--shiki-dark:#9CDCFE">type</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> parameter</span><span style="color:#24292E;--shiki-dark:#E6E6E6">) </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA">TBrand</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> in</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> type</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> Brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">T</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">TBrand</span><span style="color:#D73A49;--shiki-dark:#569CD6"> extends</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">></span></span></code></span>TBrand</span></span><span style="color:#D73A49;--shiki-dark:#569CD6"> extends</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">> </span><span style="color:#D73A49;--shiki-dark:#D4D4D4">=</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#E36209;--shiki-dark:#9CDCFE">type</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> parameter</span><span style="color:#24292E;--shiki-dark:#E6E6E6">) </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA">T</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> in</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> type</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> Brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">T</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">TBrand</span><span style="color:#D73A49;--shiki-dark:#569CD6"> extends</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">></span></span></code></span>T</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;[</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">const</span><span style="color:#005CC5;--shiki-dark:#9CDCFE"> brand</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#D73A49;--shiki-dark:#569CD6"> typeof</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> brand</span></span></code></span>brand</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#E36209;--shiki-dark:#9CDCFE">type</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> parameter</span><span style="color:#24292E;--shiki-dark:#E6E6E6">) </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA">TBrand</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> in</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> type</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> Brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">T</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">TBrand</span><span style="color:#D73A49;--shiki-dark:#569CD6"> extends</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">></span></span></code></span>TBrand</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Email</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "Email"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>Email</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">T</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">TBrand</span><span style="color:#D73A49;--shiki-dark:#569CD6"> extends</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">> </span><span style="color:#D73A49;--shiki-dark:#D4D4D4">=</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> T</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> TBrand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>Brand</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#005CC5;--shiki-dark:#4EC9B0">string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#032F62;--shiki-dark:#CE9178">"Email"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">> </span><span style="color:#6A737D;--shiki-dark:#6A9955">// works the same as the &#96;Email&#96; type in the previous example</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Password</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "Password"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>Password</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">T</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">TBrand</span><span style="color:#D73A49;--shiki-dark:#569CD6"> extends</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">> </span><span style="color:#D73A49;--shiki-dark:#D4D4D4">=</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> T</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> TBrand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>Brand</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#005CC5;--shiki-dark:#4EC9B0">string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#032F62;--shiki-dark:#CE9178">"Password"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">> </span><span style="color:#6A737D;--shiki-dark:#6A9955">// Easy to reuse</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> UserID</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> number</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "User ID"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>UserID</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">T</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">TBrand</span><span style="color:#D73A49;--shiki-dark:#569CD6"> extends</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">> </span><span style="color:#D73A49;--shiki-dark:#D4D4D4">=</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> T</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> TBrand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>Brand</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#005CC5;--shiki-dark:#4EC9B0">number</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#032F62;--shiki-dark:#CE9178">"User ID"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">> </span><span style="color:#6A737D;--shiki-dark:#6A9955">// can be used with any primitive type</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> DBUser</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#9CDCFE">    id</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> UserID</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#9CDCFE">    username</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125; </span><span style="color:#D73A49;--shiki-dark:#D4D4D4">&#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "Database User"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>DBUser</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">T</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">TBrand</span><span style="color:#D73A49;--shiki-dark:#569CD6"> extends</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">> </span><span style="color:#D73A49;--shiki-dark:#D4D4D4">=</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> T</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> TBrand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>Brand</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;&#123;</span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">id</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">UserID</span></span></code></span>id</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> UserID</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> number</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "User ID"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>UserID</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">; </span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">username</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>username</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;, </span><span style="color:#032F62;--shiki-dark:#CE9178">"Database User"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">>; </span><span style="color:#6A737D;--shiki-dark:#6A9955">// and with object types</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">declare const brand: unique symbol;
// The Brand generic can be used to augment any structural data type with nominal type safety
type Brand&lt;T, TBrand extends string&gt; = T & &#123;[brand]: TBrand&#125;
type Email = Brand&lt;string, "Email"&gt; // works the same as the &#96;Email&#96; type in the previous example
type Password = Brand&lt;string, "Password"&gt; // Easy to reuse
type UserID = Brand&lt;number, "User ID"&gt; // can be used with any primitive type
type DBUser = Brand&lt;&#123;id: UserID; username: string&#125;, "Database User"&gt;; // and with object types</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-kpgboa">The <code>Brand</code> utility type makes it easy to encode information about a value in its type. I find this helpful as values move through an application. Branded types can represent:</p> <ul data-svelte-h="svelte-92thro"><li>Unique keys in a database</li> <li>Hashed passwords</li> <li>Validated emails</li> <li>Verified emails</li> <li>IDs for different schemas such as users or posts</li> <li>A <code>User</code> object that came from a database record</li> <li>and more!</li></ul> <h2 id="narrowing-to-a-branded-type-using-type-predicates-and-assertion-functions" data-svelte-h="svelte-rfznyc"><a aria-hidden="true" tabindex="-1" href="#narrowing-to-a-branded-type-using-type-predicates-and-assertion-functions"><span class="icon icon-link"></span></a><a href="#narrowing-to-a-branded-type-using-type-predicates-and-assertion-functions" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Narrowing to a branded type using type predicates and assertion functions</h2> <p data-svelte-h="svelte-90becn">Brands can also be used with <a href="https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates" rel="nofollow">type predicate functions</a> to narrow a structural type to a <em>branded</em> type in something like a validation function. For example:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes github-light slack-dark twoslash lsp" style="background-color:#fff;--shiki-dark-bg:#222222;color:#24292e;--shiki-dark:#E6E6E6" tabindex="0" ts twoslash><code><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Password</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span></span></code></span>Password</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ValidPassword</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "Valid"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>ValidPassword</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">T</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0">TBrand</span><span style="color:#D73A49;--shiki-dark:#569CD6"> extends</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#24292E;--shiki-dark:#E6E6E6">> </span><span style="color:#D73A49;--shiki-dark:#D4D4D4">=</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> T</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> TBrand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>Brand</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Password</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span></span></code></span>Password</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#032F62;--shiki-dark:#CE9178">"Valid"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">>;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> isValidPassword</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">password</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Password</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> password</span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ValidPassword</span></span></code></span>isValidPassword</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">password</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>password</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Password</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span></span></code></span>Password</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> </span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">password</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>password</span></span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ValidPassword</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "Valid"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>ValidPassword</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C586C0">	if</span><span style="color:#24292E;--shiki-dark:#E6E6E6">( </span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">password</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>password</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">.</span><span style="color:#005CC5;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#24292E;--shiki-dark:#9CDCFE">String</span><span style="color:#24292E;--shiki-dark:#E6E6E6">.</span><span style="color:#005CC5;--shiki-dark:#9CDCFE">length</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">number</span></span></code><div class="twoslash-popup-docs">Returns the length of a String object.</div></span>length</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> >=</span><span style="color:#005CC5;--shiki-dark:#B5CEA8"> 8</span><span style="color:#24292E;--shiki-dark:#E6E6E6">) </span><span style="color:#D73A49;--shiki-dark:#C586C0">return</span><span style="color:#005CC5;--shiki-dark:#569CD6"> true</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C586C0">	return</span><span style="color:#005CC5;--shiki-dark:#569CD6"> false</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">let</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> </span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">let</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> pass</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span></span></code></span>pass</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Password</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span></span></code></span>Password</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#032F62;--shiki-dark:#CE9178"> "12345678"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C586C0">if</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> isValidPassword</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">password</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Password</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> password</span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ValidPassword</span></span></code></span>isValidPassword</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">let</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> pass</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span></span></code></span>pass</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">))&#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#9CDCFE">	</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">let</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> pass</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ValidPassword</span></span></code></span>pass</span></span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A9955">	// Hover &#96;pass&#96; above to see it's now typed as &#96;ValidPassword&#96;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">declare const brand: unique symbol;
type Brand&lt;T, TBrand extends string&gt; = T & &#123;[brand]: TBrand&#125;
// ---cut---
type Password = string;
type ValidPassword = Brand&lt;Password, "Valid"&gt;;

function isValidPassword(password: Password): password is ValidPassword &#123;
	if( password.length &gt;= 8) return true;
	return false;
&#125;


let pass: Password = "12345678";

if(isValidPassword(pass))&#123;
	pass
	// Hover &#96;pass&#96; above to see it's now typed as &#96;ValidPassword&#96;
&#125;</pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-kxtrk6">If you want to reduce the need for nested <code>if</code> statements or include guards, or prefer to treat a <code>false</code> case as an error/exception, consider using <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html#assertion-functions" rel="nofollow">assertion functions</a> instead:</p> <!-- HTML_TAG_START --><pre class="shiki shiki-themes github-light slack-dark twoslash lsp" style="background-color:#fff;--shiki-dark-bg:#222222;color:#24292e;--shiki-dark:#E6E6E6" tabindex="0" ts twoslash><code><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> assertPasswordIsValid</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">password</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Password</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> asserts</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> password</span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ValidPassword</span></span></code></span>assertPasswordIsValid</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">password</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>password</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Password</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span></span></code></span>Password</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> asserts</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> </span><span style="color:#E36209;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">password</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>password</span></span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ValidPassword</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x26;</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">    [</span><span style="color:#24292E;--shiki-dark:#9CDCFE">brand</span><span style="color:#24292E;--shiki-dark:#E6E6E6">]</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#032F62;--shiki-dark:#CE9178"> "Valid"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span></code></span>ValidPassword</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6"> &#123;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C586C0">	if</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#6F42C1;--shiki-dark:#E6E6E6">password</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">string</span></span></code></span>password</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">.</span><span style="color:#005CC5;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#24292E;--shiki-dark:#9CDCFE">String</span><span style="color:#24292E;--shiki-dark:#E6E6E6">.</span><span style="color:#005CC5;--shiki-dark:#9CDCFE">length</span><span style="color:#24292E;--shiki-dark:#E6E6E6">: </span><span style="color:#24292E;--shiki-dark:#9CDCFE">number</span></span></code><div class="twoslash-popup-docs">Returns the length of a String object.</div></span>length</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> &#x3C;</span><span style="color:#005CC5;--shiki-dark:#B5CEA8"> 8</span><span style="color:#24292E;--shiki-dark:#E6E6E6">) </span><span style="color:#D73A49;--shiki-dark:#C586C0">throw</span><span style="color:#D73A49;--shiki-dark:#569CD6"> new</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> </span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">var</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> Error</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ErrorConstructor</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">new</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#E36209;--shiki-dark:#9CDCFE">message</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">?:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> undefined</span><span style="color:#24292E;--shiki-dark:#E6E6E6">, </span><span style="color:#E36209;--shiki-dark:#9CDCFE">options</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">?:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ErrorOptions</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> |</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> undefined</span><span style="color:#24292E;--shiki-dark:#E6E6E6">) </span><span style="color:#D73A49;--shiki-dark:#569CD6">=></span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> Error</span><span style="color:#24292E;--shiki-dark:#E6E6E6"> (</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">+</span><span style="color:#005CC5;--shiki-dark:#B5CEA8">1</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> overload</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span></span></code></span>Error</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#032F62;--shiki-dark:#CE9178">"Password too short"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E6E6E6">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">let</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> </span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">let</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> pass</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span></span></code></span>pass</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> </span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">type</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Password</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span></span></code></span>Password</span></span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> =</span><span style="color:#032F62;--shiki-dark:#CE9178"> "12345678"</span><span style="color:#24292E;--shiki-dark:#E6E6E6">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#DCDCAA"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">function</span><span style="color:#6F42C1;--shiki-dark:#DCDCAA"> assertPasswordIsValid</span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#E36209;--shiki-dark:#9CDCFE">password</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> Password</span><span style="color:#24292E;--shiki-dark:#E6E6E6">)</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#D73A49;--shiki-dark:#D4D4D4"> asserts</span><span style="color:#E36209;--shiki-dark:#9CDCFE"> password</span><span style="color:#D73A49;--shiki-dark:#569CD6"> is</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ValidPassword</span></span></code></span>assertPasswordIsValid</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">(</span><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">let</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> pass</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#005CC5;--shiki-dark:#4EC9B0"> string</span></span></code></span>pass</span></span><span style="color:#24292E;--shiki-dark:#E6E6E6">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#9CDCFE"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span class="line"><span style="color:#D73A49;--shiki-dark:#569CD6">let</span><span style="color:#24292E;--shiki-dark:#9CDCFE"> pass</span><span style="color:#D73A49;--shiki-dark:#D4D4D4">:</span><span style="color:#6F42C1;--shiki-dark:#4EC9B0"> ValidPassword</span></span></code></span>pass</span></span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A9955">// Hover over &#96;pass&#96; to see it's now typed as &#96;ValidPassword&#96; - no &#96;if&#96; statements needed!</span></span></code></pre><!-- HTML_TAG_END --><!-- HTML_TAG_START --><pre class="code-copy-target hidden">declare const brand: unique symbol;
type Brand&lt;T, TBrand extends string&gt; = T & &#123;[brand]: TBrand&#125;
type Password = string;
type ValidPassword = Brand&lt;Password, "Valid"&gt;;
// ---cut---
function assertPasswordIsValid(password: Password): asserts password is ValidPassword &#123;
	if(password.length &lt; 8) throw new Error("Password too short")
&#125;

let pass: Password = "12345678";
assertPasswordIsValid(pass);
pass
// Hover over &#96;pass&#96; to see it's now typed as &#96;ValidPassword&#96; - no &#96;if&#96; statements needed!</pre><!-- HTML_TAG_END --> <div class="divider"></div> <aside class="prose" data-svelte-h="svelte-1w3uusp"> <p>If you&#39;re feeling extra generous, you can show your support by buying me a
			coffee with the button in the bottom right corner of the page.</p> <div class="divider"></div></aside></article>     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" integrity="sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB" crossorigin="anonymous"></div>  
			
			<script>
				{
					__sveltekit_yoid11 = {
						base: new URL("../..", location).pathname.slice(0, -1),
						env: {"PUBLIC_SUPABASE_ANON_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFlb3ZmZXRyaXNyZnFpZWF0bXp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODcwNjM0NTYsImV4cCI6MjAwMjYzOTQ1Nn0.s9KXOQ0gDdl7e3lTUxdN5yfPI0rLZ-dSRMfEwoHhK00","PUBLIC_SUPABASE_URL":"https://aeovfetrisrfqieatmzw.supabase.co"}
					};

					const element = document.currentScript.parentElement;

					const data = [{"type":"data","data":{session:null,user:null},"uses":{}},null];

					Promise.all([
						import("../../_app/immutable/entry/start.f9aba13f.js"),
						import("../../_app/immutable/entry/app.4fd5f9d9.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 18],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
